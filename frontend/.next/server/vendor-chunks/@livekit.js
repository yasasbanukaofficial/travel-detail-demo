"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@livekit";
exports.ids = ["vendor-chunks/@livekit"];
exports.modules = {

/***/ "(ssr)/./node_modules/@livekit/components-react/dist/components-BeK2vIib.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/dist/components-BeK2vIib.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ wa),\n/* harmony export */   B: () => (/* binding */ Xt),\n/* harmony export */   C: () => (/* binding */ ra),\n/* harmony export */   D: () => (/* binding */ ca),\n/* harmony export */   E: () => (/* binding */ vt),\n/* harmony export */   F: () => (/* binding */ ha),\n/* harmony export */   G: () => (/* binding */ va),\n/* harmony export */   H: () => (/* binding */ ie),\n/* harmony export */   I: () => (/* binding */ Et),\n/* harmony export */   J: () => (/* binding */ pt),\n/* harmony export */   K: () => (/* binding */ wt),\n/* harmony export */   L: () => (/* binding */ pa),\n/* harmony export */   M: () => (/* binding */ ua),\n/* harmony export */   N: () => (/* binding */ kt),\n/* harmony export */   O: () => (/* binding */ Rt),\n/* harmony export */   P: () => (/* binding */ Bt),\n/* harmony export */   Q: () => (/* binding */ Mt),\n/* harmony export */   R: () => (/* binding */ Ra),\n/* harmony export */   S: () => (/* binding */ la),\n/* harmony export */   T: () => (/* binding */ fa),\n/* harmony export */   U: () => (/* binding */ yt),\n/* harmony export */   V: () => (/* binding */ Ft),\n/* harmony export */   W: () => (/* binding */ bt),\n/* harmony export */   X: () => (/* binding */ Me),\n/* harmony export */   Y: () => (/* binding */ St),\n/* harmony export */   Z: () => (/* binding */ oe),\n/* harmony export */   _: () => (/* binding */ Ct),\n/* harmony export */   a: () => (/* binding */ Sa),\n/* harmony export */   b: () => (/* binding */ Pt),\n/* harmony export */   c: () => (/* binding */ sa),\n/* harmony export */   d: () => (/* binding */ ia),\n/* harmony export */   e: () => (/* binding */ oa),\n/* harmony export */   f: () => (/* binding */ ma),\n/* harmony export */   g: () => (/* binding */ Ea),\n/* harmony export */   h: () => (/* binding */ ga),\n/* harmony export */   i: () => (/* binding */ ba),\n/* harmony export */   j: () => (/* binding */ Ie),\n/* harmony export */   k: () => (/* binding */ ya),\n/* harmony export */   l: () => (/* binding */ $t),\n/* harmony export */   m: () => (/* binding */ Ca),\n/* harmony export */   n: () => (/* binding */ aa),\n/* harmony export */   o: () => (/* binding */ na),\n/* harmony export */   p: () => (/* binding */ It),\n/* harmony export */   q: () => (/* binding */ da),\n/* harmony export */   r: () => (/* binding */ be),\n/* harmony export */   s: () => (/* binding */ ne),\n/* harmony export */   t: () => (/* binding */ K),\n/* harmony export */   u: () => (/* binding */ Se),\n/* harmony export */   v: () => (/* binding */ ka),\n/* harmony export */   w: () => (/* binding */ Ma),\n/* harmony export */   x: () => (/* binding */ Zt),\n/* harmony export */   y: () => (/* binding */ Ht),\n/* harmony export */   z: () => (/* binding */ gt)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hooks-OJtwh4jO.mjs */ \"(ssr)/./node_modules/@livekit/components-react/dist/hooks-OJtwh4jO.mjs\");\n/* harmony import */ var _room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./room-889cObLb.mjs */ \"(ssr)/./node_modules/@livekit/components-react/dist/room-889cObLb.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./contexts-Cm1aSBTs.mjs */ \"(ssr)/./node_modules/@livekit/components-react/dist/contexts-Cm1aSBTs.mjs\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst aa = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function(n, a) {\r\n    const { buttonProps: r } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(n);\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: a, ...r }, n.children);\r\n  }\r\n), na = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ room: n, ...a }, r) {\r\n    const c = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.a)(n);\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: r, ...a }, c);\r\n  }\r\n), ra = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function(n, a) {\r\n    const { mergedProps: r } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.b)({ props: n });\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: a, ...r }, n.children);\r\n  }\r\n), ca = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function(n, a) {\r\n    const { buttonProps: r } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(n);\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: a, ...r }, n.children);\r\n  }\r\n), gt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" })), vt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" })), la = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, viewBox: \"0 0 24 24\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"#FFF\",\r\n    d: \"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z\"\r\n  }\r\n)), sa = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 18, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n)), ie = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentcolor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n)), Et = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 1.5 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9\" }))), ia = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentcolor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M8.961.894C8.875-.298 7.125-.298 7.04.894c-.066.912-1.246 1.228-1.76.472-.67-.99-2.186-.115-1.664.96.399.824-.465 1.688-1.288 1.289-1.076-.522-1.95.994-.961 1.665.756.513.44 1.693-.472 1.759-1.192.086-1.192 1.836 0 1.922.912.066 1.228 1.246.472 1.76-.99.67-.115 2.186.96 1.664.824-.399 1.688.465 1.289 1.288-.522 1.076.994 1.95 1.665.961.513-.756 1.693-.44 1.759.472.086 1.192 1.836 1.192 1.922 0 .066-.912 1.246-1.228 1.76-.472.67.99 2.186.115 1.664-.96-.399-.824.465-1.688 1.288-1.289 1.076.522 1.95-.994.961-1.665-.756-.513-.44-1.693.472-1.759 1.192-.086 1.192-1.836 0-1.922-.912-.066-1.228-1.246-.472-1.76.99-.67.115-2.186-.96-1.664-.824.399-1.688-.465-1.289-1.288.522-1.076-.994-1.95-1.665-.961-.513.756-1.693.44-1.759-.472ZM8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n)), oa = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n)), pt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentcolor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n)), wt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z\" })), kt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fillRule: \"evenodd\",\r\n    d: \"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z\" })), Rt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" })), Mt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }))), yt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentcolor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" }))), bt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"currentColor\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { opacity: 0.25 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" }))), Me = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 20, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n)), St = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 20, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { fill: \"currentColor\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z\" }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fillRule: \"evenodd\",\r\n    d: \"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n))), oe = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z\",\r\n    clipRule: \"evenodd\",\r\n    opacity: 0.7\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z\",\r\n    clipRule: \"evenodd\",\r\n    opacity: 0.6\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z\",\r\n    clipRule: \"evenodd\",\r\n    opacity: 0.5\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z\",\r\n    clipRule: \"evenodd\"\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z\",\r\n    clipRule: \"evenodd\",\r\n    opacity: 0.4\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z\",\r\n    clipRule: \"evenodd\",\r\n    opacity: 0.9\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z\",\r\n    clipRule: \"evenodd\",\r\n    opacity: 0.3\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z\",\r\n    clipRule: \"evenodd\",\r\n    opacity: 0.8\r\n  }\r\n), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"path\",\r\n  {\r\n    fill: \"currentColor\",\r\n    fillRule: \"evenodd\",\r\n    d: \"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z\",\r\n    clipRule: \"evenodd\",\r\n    opacity: 0.2\r\n  }\r\n)), Ct = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: 16, height: 16, fill: \"none\", ...t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", { stroke: \"currentColor\", strokeLinecap: \"round\", strokeLinejoin: \"round\", strokeWidth: 1.5 }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25\" }))), It = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ trackRef: n, ...a }, r) {\r\n    const c = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ab)(), { mergedProps: s, inFocus: o } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.d)({\r\n      trackRef: n ?? c,\r\n      props: a\r\n    });\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ac.Consumer, null, (l) => l !== void 0 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...s }, a.children ? a.children : o ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ct, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Et, null)));\r\n  }\r\n), ua = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({\r\n    kind: n,\r\n    initialSelection: a,\r\n    onActiveDeviceChange: r,\r\n    onDeviceListChange: c,\r\n    onDeviceSelectError: s,\r\n    exactMatch: o,\r\n    track: l,\r\n    requestPermissions: i,\r\n    onError: u,\r\n    ...d\r\n  }, g) {\r\n    const f = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.w)(), w = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\r\n      (E) => {\r\n        f && f.emit(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, E), u == null || u(E);\r\n      },\r\n      [f, u]\r\n    ), { devices: p, activeDeviceId: m, setActiveMediaDevice: v, className: b } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.e)({\r\n      kind: n,\r\n      room: f,\r\n      track: l,\r\n      requestPermissions: i,\r\n      onError: w\r\n    });\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      a !== void 0 && v(a);\r\n    }, [v]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      typeof c == \"function\" && c(p);\r\n    }, [c, p]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      m && m !== \"\" && (r == null || r(m));\r\n    }, [m]);\r\n    const C = async (E) => {\r\n      try {\r\n        await v(E, { exact: o ?? !0 });\r\n      } catch (k) {\r\n        if (k instanceof Error)\r\n          s == null || s(k);\r\n        else\r\n          throw k;\r\n      }\r\n    }, T = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n      () => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(d, { className: b }, { className: \"lk-list\" }),\r\n      [b, d]\r\n    ), A = !!p.find((E) => E.label.toLowerCase().startsWith(\"default\"));\r\n    function h(E, k, I) {\r\n      return E === k || !A && I === 0 && k === \"default\";\r\n    }\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"ul\", { ref: g, ...T }, p.map((E, k) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n      \"li\",\r\n      {\r\n        key: E.deviceId,\r\n        id: E.deviceId,\r\n        \"data-lk-active\": h(E.deviceId, m, k),\r\n        \"aria-selected\": h(E.deviceId, m, k),\r\n        role: \"option\"\r\n      },\r\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: () => C(E.deviceId) }, E.label)\r\n    )));\r\n  }\r\n), da = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ label: n = \"Allow Audio\", ...a }, r) {\r\n    const c = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.f)(), { mergedProps: s } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.f)({ room: c, props: a });\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...s }, n);\r\n  }\r\n), ma = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ label: n, ...a }, r) {\r\n    const c = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.f)(), { mergedProps: s, canPlayAudio: o } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.f)({ room: c, props: a }), { mergedProps: l, canPlayVideo: i } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.g)({ room: c, props: s }), { style: u, ...d } = l;\r\n    return u.display = o && i ? \"none\" : \"block\", /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, style: u, ...d }, n ?? `Start ${o ? \"Video\" : \"Audio\"}`);\r\n  }\r\n);\r\nfunction ye(t, n) {\r\n  switch (t) {\r\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone:\r\n      return n ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(kt, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(wt, null);\r\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera:\r\n      return n ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(vt, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(gt, null);\r\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare:\r\n      return n ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(St, null) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Me, null);\r\n    default:\r\n      return;\r\n  }\r\n}\r\nfunction xt(t) {\r\n  switch (t) {\r\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Excellent:\r\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Rt, null);\r\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Good:\r\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Mt, null);\r\n    case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Poor:\r\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(yt, null);\r\n    default:\r\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(bt, null);\r\n  }\r\n}\r\nconst fa = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function({ showIcon: n, ...a }, r) {\r\n  const { buttonProps: c, enabled: s } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.h)(a), [o, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    l(!0);\r\n  }, []), o && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: r, ...c }, (n ?? !0) && ye(a.source, s), a.children);\r\n}), be = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function(n, a) {\r\n  const { className: r, quality: c } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(n), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ ...(0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(n, { className: r }), \"data-lk-quality\": c }), [c, n, r]);\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: a, ...s }, n.children ?? xt(c));\r\n}), K = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ participant: n, ...a }, r) {\r\n    const c = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.c)(n), { className: s, infoObserver: o } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ad)(c), [c]), { identity: l, name: i } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.j)(o, {\r\n      name: c.name,\r\n      identity: c.identity,\r\n      metadata: c.metadata\r\n    }), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(a, { className: s, \"data-lk-participant-name\": i }), [a, s, i]);\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { ref: r, ...u }, i !== \"\" ? i : l, a.children);\r\n  }\r\n), Se = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ trackRef: n, show: a = \"always\", ...r }, c) {\r\n    const { className: s, isMuted: o } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.k)(n), l = a === \"always\" || a === \"muted\" && o || a === \"unmuted\" && !o, i = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n      () => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(r, {\r\n        className: s\r\n      }),\r\n      [s, r]\r\n    );\r\n    return l ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: c, ...i, \"data-lk-muted\": o }, r.children ?? ye(n.source, !o)) : null;\r\n  }\r\n), Pt = (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n  \"svg\",\r\n  {\r\n    width: 320,\r\n    height: 320,\r\n    viewBox: \"0 0 320 320\",\r\n    preserveAspectRatio: \"xMidYMid meet\",\r\n    fill: \"none\",\r\n    xmlns: \"http://www.w3.org/2000/svg\",\r\n    ...t\r\n  },\r\n  /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n    \"path\",\r\n    {\r\n      d: \"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z\",\r\n      fill: \"white\",\r\n      fillOpacity: 0.25\r\n    }\r\n  ),\r\n  /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n    \"path\",\r\n    {\r\n      d: \"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z\",\r\n      fill: \"white\",\r\n      fillOpacity: 0.25\r\n    }\r\n  )\r\n);\r\nfunction Ce(t, n = {}) {\r\n  const [a, r] = react__WEBPACK_IMPORTED_MODULE_0__.useState((0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.X)(t)), [c, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(a == null ? void 0 : a.isMuted), [o, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(a == null ? void 0 : a.isSubscribed), [i, u] = react__WEBPACK_IMPORTED_MODULE_0__.useState(a == null ? void 0 : a.track), [d, g] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\"landscape\"), f = react__WEBPACK_IMPORTED_MODULE_0__.useRef(), { className: w, trackObserver: p } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.Y)(t), [\r\n    t.participant.sid ?? t.participant.identity,\r\n    t.source,\r\n    (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(t) && t.publication.trackSid\r\n  ]);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const m = p.subscribe((v) => {\r\n      _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"update track\", v), r(v), s(v == null ? void 0 : v.isMuted), l(v == null ? void 0 : v.isSubscribed), u(v == null ? void 0 : v.track);\r\n    });\r\n    return () => m == null ? void 0 : m.unsubscribe();\r\n  }, [p]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    var m, v;\r\n    return i && (f.current && i.detach(f.current), (m = n.element) != null && m.current && !(t.participant.isLocal && (i == null ? void 0 : i.kind) === \"audio\") && i.attach(n.element.current)), f.current = (v = n.element) == null ? void 0 : v.current, () => {\r\n      f.current && (i == null || i.detach(f.current));\r\n    };\r\n  }, [i, n.element]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    var m, v;\r\n    if (typeof ((m = a == null ? void 0 : a.dimensions) == null ? void 0 : m.width) == \"number\" && typeof ((v = a == null ? void 0 : a.dimensions) == null ? void 0 : v.height) == \"number\") {\r\n      const b = a.dimensions.width > a.dimensions.height ? \"landscape\" : \"portrait\";\r\n      g(b);\r\n    }\r\n  }, [a]), {\r\n    publication: a,\r\n    isMuted: c,\r\n    isSubscribed: o,\r\n    track: i,\r\n    elementProps: (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(n.props, {\r\n      className: w,\r\n      \"data-lk-local-participant\": t.participant.isLocal,\r\n      \"data-lk-source\": a == null ? void 0 : a.source,\r\n      ...(a == null ? void 0 : a.kind) === \"video\" && { \"data-lk-orientation\": d }\r\n    })\r\n  };\r\n}\r\nvar Y, ue;\r\nfunction Tt() {\r\n  if (ue) return Y;\r\n  ue = 1;\r\n  var t = \"Expected a function\", n = NaN, a = \"[object Symbol]\", r = /^\\s+|\\s+$/g, c = /^[-+]0x[0-9a-f]+$/i, s = /^0b[01]+$/i, o = /^0o[0-7]+$/i, l = parseInt, i = typeof _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ae == \"object\" && _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ae && _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ae.Object === Object && _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ae, u = typeof self == \"object\" && self && self.Object === Object && self, d = i || u || Function(\"return this\")(), g = Object.prototype, f = g.toString, w = Math.max, p = Math.min, m = function() {\r\n    return d.Date.now();\r\n  };\r\n  function v(h, E, k) {\r\n    var I, V, O, N, M, P, F = 0, re = !1, Z = !1, D = !0;\r\n    if (typeof h != \"function\")\r\n      throw new TypeError(t);\r\n    E = A(E) || 0, b(k) && (re = !!k.leading, Z = \"maxWait\" in k, O = Z ? w(A(k.maxWait) || 0, E) : O, D = \"trailing\" in k ? !!k.trailing : D);\r\n    function U(R) {\r\n      var x = I, H = V;\r\n      return I = V = void 0, F = R, N = h.apply(H, x), N;\r\n    }\r\n    function Pe(R) {\r\n      return F = R, M = setTimeout(W, E), re ? U(R) : N;\r\n    }\r\n    function Te(R) {\r\n      var x = R - P, H = R - F, se = E - x;\r\n      return Z ? p(se, O - H) : se;\r\n    }\r\n    function ce(R) {\r\n      var x = R - P, H = R - F;\r\n      return P === void 0 || x >= E || x < 0 || Z && H >= O;\r\n    }\r\n    function W() {\r\n      var R = m();\r\n      if (ce(R))\r\n        return le(R);\r\n      M = setTimeout(W, Te(R));\r\n    }\r\n    function le(R) {\r\n      return M = void 0, D && I ? U(R) : (I = V = void 0, N);\r\n    }\r\n    function Ae() {\r\n      M !== void 0 && clearTimeout(M), F = 0, I = P = V = M = void 0;\r\n    }\r\n    function Ne() {\r\n      return M === void 0 ? N : le(m());\r\n    }\r\n    function G() {\r\n      var R = m(), x = ce(R);\r\n      if (I = arguments, V = this, P = R, x) {\r\n        if (M === void 0)\r\n          return Pe(P);\r\n        if (Z)\r\n          return M = setTimeout(W, E), U(P);\r\n      }\r\n      return M === void 0 && (M = setTimeout(W, E)), N;\r\n    }\r\n    return G.cancel = Ae, G.flush = Ne, G;\r\n  }\r\n  function b(h) {\r\n    var E = typeof h;\r\n    return !!h && (E == \"object\" || E == \"function\");\r\n  }\r\n  function C(h) {\r\n    return !!h && typeof h == \"object\";\r\n  }\r\n  function T(h) {\r\n    return typeof h == \"symbol\" || C(h) && f.call(h) == a;\r\n  }\r\n  function A(h) {\r\n    if (typeof h == \"number\")\r\n      return h;\r\n    if (T(h))\r\n      return n;\r\n    if (b(h)) {\r\n      var E = typeof h.valueOf == \"function\" ? h.valueOf() : h;\r\n      h = b(E) ? E + \"\" : E;\r\n    }\r\n    if (typeof h != \"string\")\r\n      return h === 0 ? h : +h;\r\n    h = h.replace(r, \"\");\r\n    var k = s.test(h);\r\n    return k || o.test(h) ? l(h.slice(2), k ? 2 : 8) : c.test(h) ? n : +h;\r\n  }\r\n  return Y = v, Y;\r\n}\r\nvar At = Tt();\r\nconst de = /* @__PURE__ */ (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.af)(At);\r\nfunction Nt(t) {\r\n  const n = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(t);\r\n  n.current = t, (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(\r\n    () => () => {\r\n      n.current();\r\n    },\r\n    []\r\n  );\r\n}\r\nfunction Lt(t, n = 500, a) {\r\n  const r = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\r\n  Nt(() => {\r\n    r.current && r.current.cancel();\r\n  });\r\n  const c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\r\n    const s = de(t, n, a), o = (...l) => s(...l);\r\n    return o.cancel = () => {\r\n      s.cancel();\r\n    }, o.isPending = () => !!r.current, o.flush = () => s.flush(), o;\r\n  }, [t, n, a]);\r\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\r\n    r.current = de(t, n, a);\r\n  }, [t, n, a]), c;\r\n}\r\nfunction zt(t, n, a) {\r\n  const r = (u, d) => u === d, c = t instanceof Function ? t() : t, [s, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(c), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(c), i = Lt(\r\n    o,\r\n    n,\r\n    a\r\n  );\r\n  return r(l.current, c) || (i(c), l.current = c), [s, i];\r\n}\r\nfunction Vt({\r\n  threshold: t = 0,\r\n  root: n = null,\r\n  rootMargin: a = \"0%\",\r\n  freezeOnceVisible: r = !1,\r\n  initialIsIntersecting: c = !1,\r\n  onChange: s\r\n} = {}) {\r\n  var o;\r\n  const [l, i] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null), [u, d] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => ({\r\n    isIntersecting: c,\r\n    entry: void 0\r\n  })), g = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\r\n  g.current = s;\r\n  const f = ((o = u.entry) == null ? void 0 : o.isIntersecting) && r;\r\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\r\n    if (!l || !(\"IntersectionObserver\" in window) || f)\r\n      return;\r\n    const m = new IntersectionObserver(\r\n      (v) => {\r\n        const b = Array.isArray(m.thresholds) ? m.thresholds : [m.thresholds];\r\n        v.forEach((C) => {\r\n          const T = C.isIntersecting && b.some((A) => C.intersectionRatio >= A);\r\n          d({ isIntersecting: T, entry: C }), g.current && g.current(T, C);\r\n        });\r\n      },\r\n      { threshold: t, root: n, rootMargin: a }\r\n    );\r\n    return m.observe(l), () => {\r\n      m.disconnect();\r\n    };\r\n  }, [\r\n    l,\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    JSON.stringify(t),\r\n    n,\r\n    a,\r\n    f,\r\n    r\r\n  ]);\r\n  const w = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\r\n    var m;\r\n    !l && ((m = u.entry) != null && m.target) && !r && !f && w.current !== u.entry.target && (w.current = u.entry.target, d({ isIntersecting: c, entry: void 0 }));\r\n  }, [l, u.entry, r, f, c]);\r\n  const p = [\r\n    i,\r\n    !!u.isIntersecting,\r\n    u.entry\r\n  ];\r\n  return p.ref = p[0], p.isIntersecting = p[1], p.entry = p[2], p;\r\n}\r\nconst Ft = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({\r\n    onTrackClick: n,\r\n    onClick: a,\r\n    onSubscriptionStatusChanged: r,\r\n    trackRef: c,\r\n    manageSubscription: s,\r\n    ...o\r\n  }, l) {\r\n    const i = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(c), u = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(l, () => u.current);\r\n    const d = Vt({ root: u.current }), [g] = zt(d, 3e3);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      s && i.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication && (g == null ? void 0 : g.isIntersecting) === !1 && (d == null ? void 0 : d.isIntersecting) === !1 && i.publication.setSubscribed(!1);\r\n    }, [g, i, s]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      s && i.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication && (d == null ? void 0 : d.isIntersecting) === !0 && i.publication.setSubscribed(!0);\r\n    }, [d, i, s]);\r\n    const {\r\n      elementProps: f,\r\n      publication: w,\r\n      isSubscribed: p\r\n    } = Ce(i, {\r\n      element: u,\r\n      props: o\r\n    });\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      r == null || r(!!p);\r\n    }, [p, r]);\r\n    const m = (v) => {\r\n      a == null || a(v), n == null || n({ participant: i == null ? void 0 : i.participant, track: w });\r\n    };\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", { ref: u, ...f, muted: !0, onClick: m });\r\n  }\r\n), ne = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ trackRef: n, onSubscriptionStatusChanged: a, volume: r, ...c }, s) {\r\n    const o = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(n), l = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\r\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(s, () => l.current);\r\n    const {\r\n      elementProps: i,\r\n      isSubscribed: u,\r\n      track: d,\r\n      publication: g\r\n    } = Ce(o, {\r\n      element: l,\r\n      props: c\r\n    });\r\n    return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      a == null || a(!!u);\r\n    }, [u, a]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      d === void 0 || r === void 0 || (d instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteAudioTrack ? d.setVolume(r) : _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\"Volume can only be set on remote audio tracks.\"));\r\n    }, [r, d]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n      g === void 0 || c.muted === void 0 || (g instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.RemoteTrackPublication ? g.setEnabled(!c.muted) : _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.l.warn(\"Can only call setEnabled on remote track publications.\"));\r\n    }, [c.muted, g, d]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"audio\", { ref: l, ...i });\r\n  }\r\n);\r\nfunction Zt(t) {\r\n  const n = !!(0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.B)();\r\n  return t.participant && !n ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ag.Provider, { value: t.participant }, t.children) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.children);\r\n}\r\nfunction Ht(t) {\r\n  const n = !!(0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ab)();\r\n  return t.trackRef && !n ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ah.Provider, { value: t.trackRef }, t.children) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.children);\r\n}\r\nconst Bt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({\r\n    trackRef: n,\r\n    children: a,\r\n    onParticipantClick: r,\r\n    disableSpeakingIndicator: c,\r\n    ...s\r\n  }, o) {\r\n    var w, p;\r\n    const l = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(n), { elementProps: i } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.l)({\r\n      htmlProps: s,\r\n      disableSpeakingIndicator: c,\r\n      onParticipantClick: r,\r\n      trackRef: l\r\n    }), u = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.m)(l.participant), d = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.j)(), g = (w = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ai)()) == null ? void 0 : w.autoSubscription, f = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\r\n      (m) => {\r\n        l.source && !m && d && d.pin.dispatch && (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(l, d.pin.state) && d.pin.dispatch({ msg: \"clear_pin\" });\r\n      },\r\n      [l, d]\r\n    );\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: o, style: { position: \"relative\" }, ...i }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ht, { trackRef: l }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Zt, { participant: l.participant }, a ?? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && (((p = l.publication) == null ? void 0 : p.kind) === \"video\" || l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera || l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare) ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n      Ft,\r\n      {\r\n        trackRef: l,\r\n        onSubscriptionStatusChanged: f,\r\n        manageSubscription: g\r\n      }\r\n    ) : (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n      ne,\r\n      {\r\n        trackRef: l,\r\n        onSubscriptionStatusChanged: f\r\n      }\r\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-placeholder\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Pt, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata-item\" }, l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, u && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(pt, { style: { marginRight: \"0.25rem\" } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n      Se,\r\n      {\r\n        trackRef: {\r\n          participant: l.participant,\r\n          source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone\r\n        },\r\n        show: \"muted\"\r\n      }\r\n    ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(K, null)) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Me, { style: { marginRight: \"0.25rem\" } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(K, null, \"'s screen\"))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(be, { className: \"lk-participant-metadata-item\" }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(It, { trackRef: l }))));\r\n  }\r\n);\r\nfunction ha(t) {\r\n  const n = (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(t, { className: \"lk-focus-layout\" });\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...n }, t.children);\r\n}\r\nfunction ga({ trackRef: t, ...n }) {\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Bt, { trackRef: t, ...n });\r\n}\r\nfunction Ie({ tracks: t, ...n }) {\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.map((a) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n    _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ah.Provider,\r\n    {\r\n      value: a,\r\n      key: (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.p)(a)\r\n    },\r\n    (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.c)(n.children)\r\n  )));\r\n}\r\nfunction jt({\r\n  totalPageCount: t,\r\n  nextPage: n,\r\n  prevPage: a,\r\n  currentPage: r,\r\n  pagesContainer: c\r\n}) {\r\n  const [s, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState(!1);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    let l;\r\n    return c && (l = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.aj)(c.current, 2e3).subscribe(\r\n      o\r\n    )), () => {\r\n      l && l.unsubscribe();\r\n    };\r\n  }, [c]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-pagination-control\", \"data-lk-user-interaction\": s }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: a }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ie, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-pagination-count\" }, `${r} of ${t}`), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { className: \"lk-button\", onClick: n }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ie, null)));\r\n}\r\nconst _t = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ totalPageCount: n, currentPage: a }, r) {\r\n    const c = new Array(n).fill(\"\").map((s, o) => o + 1 === a ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { \"data-lk-active\": !0, key: o }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { key: o }));\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: r, className: \"lk-pagination-indicator\" }, c);\r\n  }\r\n);\r\nfunction va({ tracks: t, ...n }) {\r\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.createRef(), r = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(n, { className: \"lk-grid-layout\" }),\r\n    [n]\r\n  ), { layout: c } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.n)(a, t.length), s = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.o)(c.maxTiles, t);\r\n  return (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(a, {\r\n    onLeftSwipe: s.nextPage,\r\n    onRightSwipe: s.prevPage\r\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: a, \"data-lk-pagination\": s.totalPageCount > 1, ...r }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ie, { tracks: s.tracks }, n.children), t.length > c.maxTiles && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n    _t,\r\n    {\r\n      totalPageCount: s.totalPageCount,\r\n      currentPage: s.currentPage\r\n    }\r\n  ), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(jt, { pagesContainer: a, ...s })));\r\n}\r\nconst Ot = 130, Wt = 140, me = 1, xe = 16 / 10, qt = (1 - xe) * -1;\r\nfunction Ea({ tracks: t, orientation: n, ...a }) {\r\n  const r = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), [c, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0), { width: o, height: l } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.q)(r), i = n || (l >= o ? \"vertical\" : \"horizontal\"), u = i === \"vertical\" ? Math.max(o * qt, Ot) : Math.max(l * xe, Wt), d = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ak)(), g = Math.max(i === \"vertical\" ? (l - d) / u : (o - d) / u, me);\r\n  let f = Math.round(g);\r\n  Math.abs(g - c) < 0.5 ? f = Math.round(c) : c !== g && s(g);\r\n  const w = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.r)(t, f);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\r\n    r.current && (r.current.dataset.lkOrientation = i, r.current.style.setProperty(\"--lk-max-visible-tiles\", f.toString()));\r\n  }, [f, i]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"aside\", { key: i, className: \"lk-carousel\", ref: r, ...a }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ie, { tracks: w }, a.children));\r\n}\r\nfunction pa({\r\n  value: t,\r\n  onPinChange: n,\r\n  onWidgetChange: a,\r\n  children: r\r\n}) {\r\n  const c = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.al)(t);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"PinState Updated\", { state: c.pin.state }), n && c.pin.state && n(c.pin.state);\r\n  }, [c.pin.state, n]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.l.debug(\"Widget Updated\", { widgetState: c.widget.state }), a && c.widget.state && a(c.widget.state);\r\n  }, [a, c.widget.state]), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ac.Provider, { value: c }, r);\r\n}\r\nconst wa = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ trackRef: n, ...a }, r) {\r\n    const d = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(n), g = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.s)(d, { bands: 7, loPass: 300 });\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n      \"svg\",\r\n      {\r\n        ref: r,\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        viewBox: \"0 0 200 90\",\r\n        ...a,\r\n        className: \"lk-audio-visualizer\"\r\n      },\r\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\" }),\r\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n        \"g\",\r\n        {\r\n          style: {\r\n            transform: `translate(${(200 - 7 * 10) / 2}px, 0)`\r\n          }\r\n        },\r\n        g.map((f, w) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n          \"rect\",\r\n          {\r\n            key: w,\r\n            x: w * 10,\r\n            y: 90 / 2 - f * 50 / 2,\r\n            width: 6,\r\n            height: f * 50\r\n          }\r\n        ))\r\n      )\r\n    );\r\n  }\r\n);\r\nfunction ka({ participants: t, ...n }) {\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, t.map((a) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ag.Provider, { value: a, key: a.identity }, (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.c)(n.children))));\r\n}\r\nfunction Ra({ volume: t, muted: n }) {\r\n  const a = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(\r\n    [livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone, livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShareAudio, livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown],\r\n    {\r\n      updateOnlyOn: [],\r\n      onlySubscribed: !0\r\n    }\r\n  ).filter((r) => !r.participant.isLocal && r.publication.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Kind.Audio);\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { display: \"none\" } }, a.map((r) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n    ne,\r\n    {\r\n      key: (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.p)(r),\r\n      trackRef: r,\r\n      volume: t,\r\n      muted: n\r\n    }\r\n  )));\r\n}\r\nconst Ma = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function({ childrenPosition: n = \"before\", children: a, ...r }, c) {\r\n  const { name: s } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.v)();\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { ref: c, ...r }, n === \"before\" && a, s, n === \"after\" && a);\r\n});\r\nfunction $t(t) {\r\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(t, { className: \"lk-toast\" }), [t]);\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ...n }, t.children);\r\n}\r\nconst Dt = (t) => {\r\n  const n = [];\r\n  for (let a = 0; a < t; a++)\r\n    n.push([a, t - 1 - a]);\r\n  return n;\r\n}, fe = (t) => [[Math.floor(t / 2)], [-1]], Ut = (t, n, a) => {\r\n  const [r, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0), [s, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([[]]);\r\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\r\n    if (t === \"thinking\")\r\n      o(fe(n));\r\n    else if (t === \"connecting\" || t === \"initializing\") {\r\n      const i = [...Dt(n)];\r\n      o(i);\r\n    } else o(t === \"listening\" ? fe(n) : t === void 0 || t === \"speaking\" ? [new Array(n).fill(0).map((i, u) => u)] : [[]]);\r\n    c(0);\r\n  }, [t, n]);\r\n  const l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\r\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\r\n    let i = performance.now();\r\n    const u = (d) => {\r\n      d - i >= a && (c((f) => f + 1), i = d), l.current = requestAnimationFrame(u);\r\n    };\r\n    return l.current = requestAnimationFrame(u), () => {\r\n      l.current !== null && cancelAnimationFrame(l.current);\r\n    };\r\n  }, [a, n, t, s.length]), s[r % s.length];\r\n}, Gt = /* @__PURE__ */ new Map([\r\n  [\"connecting\", 2e3],\r\n  [\"initializing\", 2e3],\r\n  [\"listening\", 500],\r\n  [\"thinking\", 150]\r\n]), Qt = (t, n) => {\r\n  if (t === void 0)\r\n    return 1e3;\r\n  let a = Gt.get(t);\r\n  if (a)\r\n    switch (t) {\r\n      case \"connecting\":\r\n        a /= n;\r\n        break;\r\n    }\r\n  return a;\r\n}, Xt = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ state: n, options: a, barCount: r = 15, trackRef: c, children: s, ...o }, l) {\r\n    const i = (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.a)(o, { className: \"lk-audio-bar-visualizer\" });\r\n    let u = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ab)();\r\n    c && (u = c);\r\n    const d = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.s)(u, {\r\n      bands: r,\r\n      loPass: 100,\r\n      hiPass: 200\r\n    }), g = (a == null ? void 0 : a.minHeight) ?? 20, f = (a == null ? void 0 : a.maxHeight) ?? 100, w = Ut(\r\n      n,\r\n      r,\r\n      Qt(n, r) ?? 100\r\n    );\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: l, ...i, \"data-lk-va-state\": n }, d.map(\r\n      (p, m) => s ? (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_4__.c)(s, {\r\n        \"data-lk-highlighted\": w.includes(m),\r\n        \"data-lk-bar-index\": m,\r\n        className: \"lk-audio-bar\",\r\n        style: { height: `${Math.min(f, Math.max(g, p * 100 + 5))}%` }\r\n      }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n        \"span\",\r\n        {\r\n          key: m,\r\n          \"data-lk-highlighted\": w.includes(m),\r\n          \"data-lk-bar-index\": m,\r\n          className: `lk-audio-bar ${w.includes(m) && \"lk-highlighted\"}`,\r\n          style: {\r\n            // TODO transform animations would be more performant, however the border-radius gets distorted when using scale transforms. a 9-slice approach (or 3 in this case) could work\r\n            // transform: `scale(1, ${Math.min(maxHeight, Math.max(minHeight, volume))}`,\r\n            height: `${Math.min(f, Math.max(g, p * 100 + 5))}%`\r\n          }\r\n        }\r\n      )\r\n    ));\r\n  }\r\n), ya = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({\r\n    children: n,\r\n    disableSpeakingIndicator: a,\r\n    onParticipantClick: r,\r\n    trackRef: c,\r\n    ...s\r\n  }, o) {\r\n    const l = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.i)(c), { elementProps: i } = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.l)({\r\n      trackRef: l,\r\n      htmlProps: s,\r\n      disableSpeakingIndicator: a,\r\n      onParticipantClick: r\r\n    });\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: o, style: { position: \"relative\", minHeight: \"160px\" }, ...i }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.ah.Provider, { value: l }, n ?? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.a1)(l) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ne, { trackRef: l }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Xt, { barCount: 7, options: { minHeight: 8 } }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: \"lk-participant-metadata-item\" }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Se, { trackRef: l }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(K, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(be, { className: \"lk-participant-metadata-item\" })))));\r\n  }\r\n);\r\nfunction ba(t) {\r\n  const [n, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0), r = (0,_hooks_OJtwh4jO_mjs__WEBPACK_IMPORTED_MODULE_2__.a)(t.room);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    switch (r) {\r\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Reconnecting:\r\n        a(\r\n          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(oe, { className: \"lk-spinner\" }), \" Reconnecting\")\r\n        );\r\n        break;\r\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Connecting:\r\n        a(\r\n          /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(oe, { className: \"lk-spinner\" }), \" Connecting\")\r\n        );\r\n        break;\r\n      case livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected:\r\n        a(/* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, \"Disconnected\"));\r\n        break;\r\n      default:\r\n        a(void 0);\r\n        break;\r\n    }\r\n  }, [r]), n ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement($t, { className: \"lk-toast-connection-state\" }, n) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null);\r\n}\r\nconst Sa = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(\r\n  function({ entry: n, hideName: a = !1, hideTimestamp: r = !1, messageFormatter: c, ...s }, o) {\r\n    var f, w, p, m;\r\n    const l = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => c ? c(n.message) : n.message, [n.message, c]), i = !!n.editTimestamp, u = new Date(n.timestamp), d = typeof navigator < \"u\" ? navigator.language : \"en-US\", g = ((f = n.from) == null ? void 0 : f.name) ?? ((w = n.from) == null ? void 0 : w.identity);\r\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n      \"li\",\r\n      {\r\n        ref: o,\r\n        className: \"lk-chat-entry\",\r\n        title: u.toLocaleTimeString(d, { timeStyle: \"full\" }),\r\n        \"data-lk-message-origin\": (p = n.from) != null && p.isLocal ? \"local\" : \"remote\",\r\n        ...s\r\n      },\r\n      (!r || !a || i) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-meta-data\" }, !a && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", { className: \"lk-participant-name\" }, g), (!r || i) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-timestamp\" }, i && \"edited \", u.toLocaleTimeString(d, { timeStyle: \"short\" }))),\r\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-message-body\" }, l),\r\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", { className: \"lk-message-attachements\" }, (m = n.attachedFiles) == null ? void 0 : m.map(\r\n        (v) => v.type.startsWith(\"image/\") && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\r\n          \"img\",\r\n          {\r\n            style: { maxWidth: \"300px\", maxHeight: \"300px\" },\r\n            key: v.name,\r\n            src: URL.createObjectURL(v),\r\n            alt: v.name\r\n          }\r\n        )\r\n      ))\r\n    );\r\n  }\r\n);\r\nfunction Ca(t) {\r\n  return (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.am)(t, (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_3__.an)()).map((n, a) => {\r\n    if (typeof n == \"string\")\r\n      return n;\r\n    {\r\n      const r = n.content.toString(), c = n.type === \"url\" ? /^http(s?):\\/\\//.test(r) ? r : `https://${r}` : `mailto:${r}`;\r\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", { className: \"lk-chat-link\", key: a, href: c, target: \"_blank\", rel: \"noreferrer\" }, r);\r\n    }\r\n  });\r\n}\r\n\r\n//# sourceMappingURL=components-BeK2vIib.mjs.map\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L2NvbXBvbmVudHMtQmVLMnZJaWIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkI7QUFDdUQ7QUFDMEo7QUFDdEw7QUFDMEc7QUFDb0g7QUFDcFIsMkJBQTJCLDZDQUFZO0FBQ3ZDO0FBQ0EsWUFBWSxpQkFBaUIsRUFBRSxzREFBRTtBQUNqQywyQkFBMkIsZ0RBQWUsYUFBYSxjQUFjO0FBQ3JFO0FBQ0Esd0JBQXdCLDZDQUFZO0FBQ3BDLGFBQWEsZUFBZTtBQUM1QixjQUFjLHNEQUFFO0FBQ2hCLDJCQUEyQixnREFBZSxVQUFVLGNBQWM7QUFDbEU7QUFDQSx3QkFBd0IsNkNBQVk7QUFDcEM7QUFDQSxZQUFZLGlCQUFpQixFQUFFLHNEQUFFLEdBQUcsVUFBVTtBQUM5QywyQkFBMkIsZ0RBQWUsYUFBYSxjQUFjO0FBQ3JFO0FBQ0Esd0JBQXdCLDZDQUFZO0FBQ3BDO0FBQ0EsWUFBWSxpQkFBaUIsRUFBRSxzREFBRTtBQUNqQywyQkFBMkIsZ0RBQWUsYUFBYSxjQUFjO0FBQ3JFO0FBQ0EsK0JBQStCLGdEQUFlLFVBQVUsd0ZBQXdGLGtCQUFrQixnREFBZSxXQUFXLHVNQUF1TSxtQkFBbUIsZ0RBQWUsV0FBVyxxR0FBcUcsZ0NBQWdDLGdEQUFlLFVBQVUsd0ZBQXdGLGtCQUFrQixnREFBZSxXQUFXLHVNQUF1TSxnQ0FBZ0MsZ0RBQWUsVUFBVSx3RkFBd0Ysa0JBQWtCLGdEQUFlO0FBQzNrQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGdEQUFlLFVBQVUsZ0ZBQWdGLGtCQUFrQixnREFBZTtBQUMxSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBZTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBEQUFFLElBQUksMERBQUU7QUFDakI7QUFDQTtBQUNBO0FBQ0EsdUdBQXVHLEVBQUUsY0FBYyxFQUFFO0FBQ3pILDZCQUE2QixnREFBZSxRQUFRLGlGQUFpRjtBQUNySTtBQUNBLEdBQUc7QUFDSDtBQXVERTtBQUNGIiwic291cmNlcyI6WyJEOlxcUHl0aG9uXFx0cmF2ZWwtZGV0YWlsLWRlbW9cXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxkaXN0XFxjb21wb25lbnRzLUJlSzJ2SWliLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBlIGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyB1c2VTdGF0ZSBhcyBCLCB1c2VSZWYgYXMgTCwgdXNlRWZmZWN0IGFzIHosIHVzZU1lbW8gYXMgTGUgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgdSBhcyB6ZSwgYSBhcyBoZSwgYiBhcyBWZSwgYyBhcyBGZSwgZCBhcyBaZSwgZSBhcyBIZSwgZiBhcyBnZSwgZyBhcyBCZSwgaCBhcyBqZSwgaSBhcyBfZSwgaiBhcyBPZSwgayBhcyBXZSwgbCBhcyB2ZSwgbSBhcyBxZSwgbiBhcyAkZSwgbyBhcyBEZSwgcCBhcyBVZSwgcSBhcyBHZSwgciBhcyBRZSwgcyBhcyBFZSwgdCBhcyBYZSwgdiBhcyBZZSB9IGZyb20gXCIuL2hvb2tzLU9KdHdoNGpPLm1qc1wiO1xyXG5pbXBvcnQgeyBhIGFzIFMsIGMgYXMgZWUgfSBmcm9tIFwiLi9yb29tLTg4OWNPYkxiLm1qc1wiO1xyXG5pbXBvcnQgeyBSb29tRXZlbnQgYXMgSmUsIFRyYWNrIGFzIHksIENvbm5lY3Rpb25RdWFsaXR5IGFzIFEsIFJlbW90ZVRyYWNrUHVibGljYXRpb24gYXMgSiwgUmVtb3RlQXVkaW9UcmFjayBhcyBLZSwgQ29ubmVjdGlvblN0YXRlIGFzIFggfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcclxuaW1wb3J0IHsgYWIgYXMgdGUsIGFjIGFzIHBlLCB3IGFzIGV0LCBmIGFzIHdlLCBjIGFzIHR0LCBhZCBhcyBhdCwgWCBhcyBudCwgWSBhcyBydCwgYTEgYXMgJCwgbCBhcyBqLCBhZSBhcyBxLCBhZiBhcyBjdCwgaSBhcyBfLCBCIGFzIGx0LCBhZyBhcyBrZSwgYWggYXMgYWUsIGogYXMgc3QsIGFpIGFzIGl0LCBtIGFzIG90LCBwIGFzIFJlLCBhaiBhcyB1dCwgYWsgYXMgZHQsIGFsIGFzIG10LCBhbSBhcyBmdCwgYW4gYXMgaHQgfSBmcm9tIFwiLi9jb250ZXh0cy1DbTFhU0JUcy5tanNcIjtcclxuY29uc3QgYWEgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxyXG4gIGZ1bmN0aW9uKG4sIGEpIHtcclxuICAgIGNvbnN0IHsgYnV0dG9uUHJvcHM6IHIgfSA9IHplKG4pO1xyXG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IGEsIC4uLnIgfSwgbi5jaGlsZHJlbik7XHJcbiAgfVxyXG4pLCBuYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXHJcbiAgZnVuY3Rpb24oeyByb29tOiBuLCAuLi5hIH0sIHIpIHtcclxuICAgIGNvbnN0IGMgPSBoZShuKTtcclxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiByLCAuLi5hIH0sIGMpO1xyXG4gIH1cclxuKSwgcmEgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxyXG4gIGZ1bmN0aW9uKG4sIGEpIHtcclxuICAgIGNvbnN0IHsgbWVyZ2VkUHJvcHM6IHIgfSA9IFZlKHsgcHJvcHM6IG4gfSk7XHJcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHJlZjogYSwgLi4uciB9LCBuLmNoaWxkcmVuKTtcclxuICB9XHJcbiksIGNhID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcclxuICBmdW5jdGlvbihuLCBhKSB7XHJcbiAgICBjb25zdCB7IGJ1dHRvblByb3BzOiByIH0gPSBGZShuKTtcclxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiBhLCAuLi5yIH0sIG4uY2hpbGRyZW4pO1xyXG4gIH1cclxuKSwgZ3QgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEuMzU0LjY0NmEuNS41IDAgMSAwLS43MDguNzA4bDE0IDE0YS41LjUgMCAwIDAgLjcwOC0uNzA4TDExIDEwLjI5M1Y0LjVBMS41IDEuNSAwIDAgMCA5LjUgM0gzLjcwN3pNMCA0LjVhMS41IDEuNSAwIDAgMSAuOTQzLTEuMzkzbDkuNTMyIDkuNTMzYy0uMjYyLjIyNC0uNjAzLjM2LS45NzUuMzZoLThBMS41IDEuNSAwIDAgMSAwIDExLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJtMTUuMiAzLjYtMi44IDIuMWExIDEgMCAwIDAtLjQuOHYzYTEgMSAwIDAgMCAuNC44bDIuOCAyLjFhLjUuNSAwIDAgMCAuOC0uNFY0YS41LjUgMCAwIDAtLjgtLjR6XCIgfSkpLCB2dCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCA0LjVBMS41IDEuNSAwIDAgMSAxLjUgM2g4QTEuNSAxLjUgMCAwIDEgMTEgNC41djdBMS41IDEuNSAwIDAgMSA5LjUgMTNoLThBMS41IDEuNSAwIDAgMSAwIDExLjV6TTE1LjIgMy42bC0yLjggMi4xYTEgMSAwIDAgMC0uNC44djNhMSAxIDAgMCAwIC40LjhsMi44IDIuMWEuNS41IDAgMCAwIC44LS40VjRhLjUuNSAwIDAgMC0uOC0uNHpcIiB9KSksIGxhID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcIiNGRkZcIixcclxuICAgIGQ6IFwiTTQuOTkgMy45OWExIDEgMCAwIDAtLjY5NyAxLjcxN0wxMC41ODYgMTJsLTYuMjkzIDYuMjkzYTEgMSAwIDEgMCAxLjQxNCAxLjQxNEwxMiAxMy40MTRsNi4yOTMgNi4yOTNhMSAxIDAgMSAwIDEuNDE0LTEuNDE0TDEzLjQxNCAxMmw2LjI5My02LjI5M2ExIDEgMCAwIDAtLjcyNy0xLjcxNyAxIDEgMCAwIDAtLjY4Ny4zMDNMMTIgMTAuNTg2IDUuNzA3IDQuMjkzYTEgMSAwIDAgMC0uNzE3LS4zMDN6XCJcclxuICB9XHJcbikpLCBzYSA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE4LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gIFwicGF0aFwiLFxyXG4gIHtcclxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXHJcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXHJcbiAgICBkOiBcIk0wIDIuNzVBMi43NSAyLjc1IDAgMCAxIDIuNzUgMGgxMC41QTIuNzUgMi43NSAwIDAgMSAxNiAyLjc1djEzLjU5NGEuNzUuNzUgMCAwIDEtMS4yMzQuNTcybC0zLjY5MS0zLjEyYTEuMjUgMS4yNSAwIDAgMC0uODA3LS4yOTZIMi43NUEyLjc1IDIuNzUgMCAwIDEgMCAxMC43NXYtOFpNMi43NSAxLjVjLS42OSAwLTEuMjUuNTYtMS4yNSAxLjI1djhjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoNy41MThjLjY1IDAgMS4yNzkuMjMgMS43NzUuNjVsMi40NTcgMi4wNzdWMi43NWMwLS42OS0uNTYtMS4yNS0xLjI1LTEuMjVIMi43NVpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxyXG4gIH1cclxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNMyA0LjVhLjUuNSAwIDAgMSAuNS0uNWg5YS41LjUgMCAwIDEgMCAxaC05YS41LjUgMCAwIDEtLjUtLjVabTAgMmEuNS41IDAgMCAxIC41LS41aDlhLjUuNSAwIDAgMSAwIDFoLTlhLjUuNSAwIDAgMS0uNS0uNVptMCAyYS41LjUgMCAwIDEgLjUtLjVoNWEuNS41IDAgMCAxIDAgMWgtNWEuNS41IDAgMCAxLS41LS41WlwiLFxyXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXHJcbiAgfVxyXG4pKSwgaWUgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNNS4yOTMgMi4yOTNhMSAxIDAgMCAxIDEuNDE0IDBsNC44MjMgNC44MjNhMS4yNSAxLjI1IDAgMCAxIDAgMS43NjhsLTQuODIzIDQuODIzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNEw5LjU4NiA4IDUuMjkzIDMuNzA3YTEgMSAwIDAgMSAwLTEuNDE0elwiLFxyXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXHJcbiAgfVxyXG4pKSwgRXQgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImdcIiwgeyBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiwgc3Ryb2tlV2lkdGg6IDEuNSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwIDEuNzVoNC4yNW0wIDBWNm0wLTQuMjVMOSA3TTYgMTQuMjVIMS43NW0wIDBWMTBtMCA0LjI1TDcgOVwiIH0pKSksIGlhID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgXCJwYXRoXCIsXHJcbiAge1xyXG4gICAgZmlsbDogXCJjdXJyZW50Y29sb3JcIixcclxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIGQ6IFwiTTguOTYxLjg5NEM4Ljg3NS0uMjk4IDcuMTI1LS4yOTggNy4wNC44OTRjLS4wNjYuOTEyLTEuMjQ2IDEuMjI4LTEuNzYuNDcyLS42Ny0uOTktMi4xODYtLjExNS0xLjY2NC45Ni4zOTkuODI0LS40NjUgMS42ODgtMS4yODggMS4yODktMS4wNzYtLjUyMi0xLjk1Ljk5NC0uOTYxIDEuNjY1Ljc1Ni41MTMuNDQgMS42OTMtLjQ3MiAxLjc1OS0xLjE5Mi4wODYtMS4xOTIgMS44MzYgMCAxLjkyMi45MTIuMDY2IDEuMjI4IDEuMjQ2LjQ3MiAxLjc2LS45OS42Ny0uMTE1IDIuMTg2Ljk2IDEuNjY0LjgyNC0uMzk5IDEuNjg4LjQ2NSAxLjI4OSAxLjI4OC0uNTIyIDEuMDc2Ljk5NCAxLjk1IDEuNjY1Ljk2MS41MTMtLjc1NiAxLjY5My0uNDQgMS43NTkuNDcyLjA4NiAxLjE5MiAxLjgzNiAxLjE5MiAxLjkyMiAwIC4wNjYtLjkxMiAxLjI0Ni0xLjIyOCAxLjc2LS40NzIuNjcuOTkgMi4xODYuMTE1IDEuNjY0LS45Ni0uMzk5LS44MjQuNDY1LTEuNjg4IDEuMjg4LTEuMjg5IDEuMDc2LjUyMiAxLjk1LS45OTQuOTYxLTEuNjY1LS43NTYtLjUxMy0uNDQtMS42OTMuNDcyLTEuNzU5IDEuMTkyLS4wODYgMS4xOTItMS44MzYgMC0xLjkyMi0uOTEyLS4wNjYtMS4yMjgtMS4yNDYtLjQ3Mi0xLjc2Ljk5LS42Ny4xMTUtMi4xODYtLjk2LTEuNjY0LS44MjQuMzk5LTEuNjg4LS40NjUtMS4yODktMS4yODguNTIyLTEuMDc2LS45OTQtMS45NS0xLjY2NS0uOTYxLS41MTMuNzU2LTEuNjkzLjQ0LTEuNzU5LS40NzJaTTggMTNBNSA1IDAgMSAwIDggM2E1IDUgMCAwIDAgMCAxMFpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxyXG4gIH1cclxuKSksIG9hID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgXCJwYXRoXCIsXHJcbiAge1xyXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcclxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIGQ6IFwiTTIgMi43NUEyLjc1IDIuNzUgMCAwIDEgNC43NSAwaDYuNUEyLjc1IDIuNzUgMCAwIDEgMTQgMi43NXYxMC41QTIuNzUgMi43NSAwIDAgMSAxMS4yNSAxNmgtNi41QTIuNzUgMi43NSAwIDAgMSAyIDEzLjI1di0uNWEuNzUuNzUgMCAwIDEgMS41IDB2LjVjMCAuNjkuNTYgMS4yNSAxLjI1IDEuMjVoNi41Yy42OSAwIDEuMjUtLjU2IDEuMjUtMS4yNVYyLjc1YzAtLjY5LS41Ni0xLjI1LTEuMjUtMS4yNWgtNi41Yy0uNjkgMC0xLjI1LjU2LTEuMjUgMS4yNXYuNWEuNzUuNzUgMCAwIDEtMS41IDB2LS41WlwiLFxyXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXHJcbiAgfVxyXG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gIFwicGF0aFwiLFxyXG4gIHtcclxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXHJcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXHJcbiAgICBkOiBcIk04Ljc4IDcuNDdhLjc1Ljc1IDAgMCAxIDAgMS4wNmwtMi4yNSAyLjI1YS43NS43NSAwIDEgMS0xLjA2LTEuMDZsLjk3LS45N0gxLjc1YS43NS43NSAwIDAgMSAwLTEuNWg0LjY5bC0uOTctLjk3YS43NS43NSAwIDAgMSAxLjA2LTEuMDZsMi4yNSAyLjI1WlwiLFxyXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXHJcbiAgfVxyXG4pKSwgcHQgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRjb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNNCA2LjEwNFY0YTQgNCAwIDEgMSA4IDB2Mi4xMDRjMS4xNTQuMzI2IDIgMS4zODcgMiAyLjY0NnY0LjVBMi43NSAyLjc1IDAgMCAxIDExLjI1IDE2aC02LjVBMi43NSAyLjc1IDAgMCAxIDIgMTMuMjV2LTQuNWMwLTEuMjU5Ljg0Ni0yLjMyIDItMi42NDZaTTUuNSA0YTIuNSAyLjUgMCAwIDEgNSAwdjJoLTVWNFpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxyXG4gIH1cclxuKSksIHd0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwiY3VycmVudENvbG9yXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMi4yMjcgMTEuNTJhNS40NzcgNS40NzcgMCAwIDAgMS4yNDYtMi45Ny41LjUgMCAwIDAtLjk5NS0uMSA0LjQ3OCA0LjQ3OCAwIDAgMS0uOTYyIDIuMzU5bC0xLjA3LTEuMDdDMTAuNzk0IDkuMjQ3IDExIDguNjQ3IDExIDhWM2EzIDMgMCAwIDAtNiAwdjEuMjkzTDEuMzU0LjY0NmEuNS41IDAgMSAwLS43MDguNzA4bDE0IDE0YS41LjUgMCAwIDAgLjcwOC0uNzA4ek04IDEyLjVjLjY4MyAwIDEuMzMtLjE1MiAxLjkxMS0uNDI1bC43NDMuNzQzYy0uNjQ5LjM1OS0xLjM3OC41OS0yLjE1NC42NlYxNWgyYS41LjUgMCAwIDEgMCAxaC01YS41LjUgMCAwIDEgMC0xaDJ2LTEuNTIyYTUuNTAyIDUuNTAyIDAgMCAxLTQuOTczLTQuOTI5LjUuNSAwIDAgMSAuOTk1LS4wOThBNC41IDQuNSAwIDAgMCA4IDEyLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNOC43NDMgMTAuOTA3IDUgNy4xNjRWOGEzIDMgMCAwIDAgMy43NDMgMi45MDd6XCIgfSkpLCBrdCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgXCJwYXRoXCIsXHJcbiAge1xyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNMi45NzUgOC4wMDJhLjUuNSAwIDAgMSAuNTQ3LjQ0OSA0LjUgNC41IDAgMCAwIDguOTU2IDAgLjUuNSAwIDEgMSAuOTk1LjA5OEE1LjUwMiA1LjUwMiAwIDAgMSA4LjUgMTMuNDc4VjE1aDJhLjUuNSAwIDAgMSAwIDFoLTVhLjUuNSAwIDAgMSAwLTFoMnYtMS41MjJhNS41MDIgNS41MDIgMCAwIDEtNC45NzMtNC45MjkuNS41IDAgMCAxIC40NDgtLjU0N3pcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxyXG4gIH1cclxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk01IDNhMyAzIDAgMSAxIDYgMHY1YTMgMyAwIDAgMS02IDB6XCIgfSkpLCBSdCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRjb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAxMS41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2NGEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXptNi01YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXptNi02YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAxMS41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2NGEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXptNi01YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXptNi02YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSkpLCBNdCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRjb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAxMS41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2NGEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXptNi01YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDExLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY0YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41em02LTVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IG9wYWNpdHk6IDAuMjUgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMiAuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEyIC41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSkpKSwgeXQgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJjdXJyZW50Y29sb3JcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAxMS41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2NGEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImdcIiwgeyBvcGFjaXR5OiAwLjI1IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNiA2LjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXY5YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTYgNi41YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2OWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXptNi02YS41LjUgMCAwIDEgLjUtLjVoM2EuNS41IDAgMCAxIC41LjV2MTVhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV6XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTIgLjVhLjUuNSAwIDAgMSAuNS0uNWgzYS41LjUgMCAwIDEgLjUuNXYxNWEuNS41IDAgMCAxLS41LjVoLTNhLjUuNSAwIDAgMS0uNS0uNXpcIiB9KSkpLCBidCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2LCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgb3BhY2l0eTogMC4yNSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTRabTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTlabTYtNmEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41Vi41WlwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMTEuNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djRhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTRabTYtNWEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djlhLjUuNSAwIDAgMS0uNS41aC0zYS41LjUgMCAwIDEtLjUtLjV2LTlabTYtNmEuNS41IDAgMCAxIC41LS41aDNhLjUuNSAwIDAgMSAuNS41djE1YS41LjUgMCAwIDEtLjUuNWgtM2EuNS41IDAgMCAxLS41LS41Vi41WlwiIH0pKSksIE1lID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMjAsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgXCJwYXRoXCIsXHJcbiAge1xyXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcclxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIGQ6IFwiTTAgMi43NUEyLjc1IDIuNzUgMCAwIDEgMi43NSAwaDE0LjVBMi43NSAyLjc1IDAgMCAxIDIwIDIuNzV2MTAuNUEyLjc1IDIuNzUgMCAwIDEgMTcuMjUgMTZIMi43NUEyLjc1IDIuNzUgMCAwIDEgMCAxMy4yNVYyLjc1Wk0yLjc1IDEuNWMtLjY5IDAtMS4yNS41Ni0xLjI1IDEuMjV2MTAuNWMwIC42OS41NiAxLjI1IDEuMjUgMS4yNWgxNC41Yy42OSAwIDEuMjUtLjU2IDEuMjUtMS4yNVYyLjc1YzAtLjY5LS41Ni0xLjI1LTEuMjUtMS4yNUgyLjc1WlwiLFxyXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXHJcbiAgfVxyXG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gIFwicGF0aFwiLFxyXG4gIHtcclxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXHJcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXHJcbiAgICBkOiBcIk05LjQ3IDQuMjJhLjc1Ljc1IDAgMCAxIDEuMDYgMGwyLjI1IDIuMjVhLjc1Ljc1IDAgMCAxLTEuMDYgMS4wNmwtLjk3LS45N3Y0LjY5YS43NS43NSAwIDAgMS0xLjUgMFY2LjU2bC0uOTcuOTdhLjc1Ljc1IDAgMCAxLTEuMDYtMS4wNmwyLjI1LTIuMjVaXCIsXHJcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcclxuICB9XHJcbikpLCBTdCA9ICh0KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHsgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgd2lkdGg6IDIwLCBoZWlnaHQ6IDE2LCBmaWxsOiBcIm5vbmVcIiwgLi4udCB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk03LjI4IDQuMjJhLjc1Ljc1IDAgMCAwLTEuMDYgMS4wNkw4Ljk0IDhsLTIuNzIgMi43MmEuNzUuNzUgMCAxIDAgMS4wNiAxLjA2TDEwIDkuMDZsMi43MiAyLjcyYS43NS43NSAwIDEgMCAxLjA2LTEuMDZMMTEuMDYgOGwyLjcyLTIuNzJhLjc1Ljc1IDAgMCAwLTEuMDYtMS4wNkwxMCA2Ljk0elwiIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gIFwicGF0aFwiLFxyXG4gIHtcclxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIGQ6IFwiTTIuNzUgMEEyLjc1IDIuNzUgMCAwIDAgMCAyLjc1djEwLjVBMi43NSAyLjc1IDAgMCAwIDIuNzUgMTZoMTQuNUEyLjc1IDIuNzUgMCAwIDAgMjAgMTMuMjVWMi43NUEyLjc1IDIuNzUgMCAwIDAgMTcuMjUgMHpNMS41IDIuNzVjMC0uNjkuNTYtMS4yNSAxLjI1LTEuMjVoMTQuNWMuNjkgMCAxLjI1LjU2IDEuMjUgMS4yNXYxMC41YzAgLjY5LS41NiAxLjI1LTEuMjUgMS4yNUgyLjc1Yy0uNjkgMC0xLjI1LS41Ni0xLjI1LTEuMjV6XCIsXHJcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcclxuICB9XHJcbikpKSwgb2UgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiwgZmlsbDogXCJub25lXCIsIC4uLnQgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNOCAwYS43NS43NSAwIDAgMSAuNzUuNzV2Mi41YS43NS43NSAwIDAgMS0xLjUgMFYuNzVBLjc1Ljc1IDAgMCAxIDggMFpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxyXG4gIH1cclxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNOCAxMmEuNzUuNzUgMCAwIDEgLjc1Ljc1djIuNWEuNzUuNzUgMCAwIDEtMS41IDB2LTIuNUEuNzUuNzUgMCAwIDEgOCAxMlpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIG9wYWNpdHk6IDAuN1xyXG4gIH1cclxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNMTIgMS4wNzJhLjc1Ljc1IDAgMCAxIC4yNzQgMS4wMjRsLTEuMjUgMi4xNjVhLjc1Ljc1IDAgMCAxLTEuMjk5LS43NWwxLjI1LTIuMTY1QS43NS43NSAwIDAgMSAxMiAxLjA3MlpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxyXG4gIH1cclxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNNiAxMS40NjRhLjc1Ljc1IDAgMCAxIC4yNzQgMS4wMjVsLTEuMjUgMi4xNjVhLjc1Ljc1IDAgMCAxLTEuMjk5LS43NWwxLjI1LTIuMTY1QS43NS43NSAwIDAgMSA2IDExLjQ2NFpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIG9wYWNpdHk6IDAuNlxyXG4gIH1cclxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNMTQuOTI4IDRhLjc1Ljc1IDAgMCAxLS4yNzQgMS4wMjVsLTIuMTY1IDEuMjVhLjc1Ljc1IDAgMSAxLS43NS0xLjNsMi4xNjUtMS4yNUEuNzUuNzUgMCAwIDEgMTQuOTI4IDRaXCIsXHJcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcclxuICB9XHJcbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgXCJwYXRoXCIsXHJcbiAge1xyXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcclxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIGQ6IFwiTTQuNTM2IDEwYS43NS43NSAwIDAgMS0uMjc1IDEuMDI0bC0yLjE2NSAxLjI1YS43NS43NSAwIDAgMS0uNzUtMS4yOThsMi4xNjUtMS4yNUEuNzUuNzUgMCAwIDEgNC41MzYgMTBaXCIsXHJcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXHJcbiAgICBvcGFjaXR5OiAwLjVcclxuICB9XHJcbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgXCJwYXRoXCIsXHJcbiAge1xyXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcclxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIGQ6IFwiTTE2IDhhLjc1Ljc1IDAgMCAxLS43NS43NWgtMi41YS43NS43NSAwIDAgMSAwLTEuNWgyLjVBLjc1Ljc1IDAgMCAxIDE2IDhaXCIsXHJcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcclxuICB9XHJcbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgXCJwYXRoXCIsXHJcbiAge1xyXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcclxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIGQ6IFwiTTQgOGEuNzUuNzUgMCAwIDEtLjc1Ljc1SC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoMi41QS43NS43NSAwIDAgMSA0IDhaXCIsXHJcbiAgICBjbGlwUnVsZTogXCJldmVub2RkXCIsXHJcbiAgICBvcGFjaXR5OiAwLjRcclxuICB9XHJcbiksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgXCJwYXRoXCIsXHJcbiAge1xyXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcclxuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIGQ6IFwiTTE0LjkyOCAxMmEuNzUuNzUgMCAwIDEtMS4wMjQuMjc0bC0yLjE2NS0xLjI1YS43NS43NSAwIDAgMSAuNzUtMS4yOTlsMi4xNjUgMS4yNUEuNzUuNzUgMCAwIDEgMTQuOTI4IDEyWlwiLFxyXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgb3BhY2l0eTogMC45XHJcbiAgfVxyXG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gIFwicGF0aFwiLFxyXG4gIHtcclxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXHJcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXHJcbiAgICBkOiBcIk00LjUzNiA2YS43NS43NSAwIDAgMS0xLjAyNS4yNzVsLTIuMTY1LTEuMjVhLjc1Ljc1IDAgMSAxIC43NS0xLjNsMi4xNjUgMS4yNUEuNzUuNzUgMCAwIDEgNC41MzYgNlpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIG9wYWNpdHk6IDAuM1xyXG4gIH1cclxuKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInBhdGhcIixcclxuICB7XHJcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxyXG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgZDogXCJNMTIgMTQuOTI4YS43NS43NSAwIDAgMS0xLjAyNC0uMjc0bC0xLjI1LTIuMTY1YS43NS43NSAwIDAgMSAxLjI5OC0uNzVsMS4yNSAyLjE2NUEuNzUuNzUgMCAwIDEgMTIgMTQuOTI4WlwiLFxyXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxyXG4gICAgb3BhY2l0eTogMC44XHJcbiAgfVxyXG4pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gIFwicGF0aFwiLFxyXG4gIHtcclxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXHJcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXHJcbiAgICBkOiBcIk02IDQuNTM2YS43NS43NSAwIDAgMS0xLjAyNC0uMjc1bC0xLjI1LTIuMTY1YS43NS43NSAwIDEgMSAxLjI5OS0uNzVsMS4yNSAyLjE2NUEuNzUuNzUgMCAwIDEgNiA0LjUzNlpcIixcclxuICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIixcclxuICAgIG9wYWNpdHk6IDAuMlxyXG4gIH1cclxuKSksIEN0ID0gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgeyB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCB3aWR0aDogMTYsIGhlaWdodDogMTYsIGZpbGw6IFwibm9uZVwiLCAuLi50IH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHsgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsIHN0cm9rZVdpZHRoOiAxLjUgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMy4yNSA3SDltMCAwVjIuNzVNOSA3bDUuMjUtNS4yNU0yLjc1IDlIN20wIDB2NC4yNU03IDlsLTUuMjUgNS4yNVwiIH0pKSksIEl0ID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcclxuICBmdW5jdGlvbih7IHRyYWNrUmVmOiBuLCAuLi5hIH0sIHIpIHtcclxuICAgIGNvbnN0IGMgPSB0ZSgpLCB7IG1lcmdlZFByb3BzOiBzLCBpbkZvY3VzOiBvIH0gPSBaZSh7XHJcbiAgICAgIHRyYWNrUmVmOiBuID8/IGMsXHJcbiAgICAgIHByb3BzOiBhXHJcbiAgICB9KTtcclxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHBlLkNvbnN1bWVyLCBudWxsLCAobCkgPT4gbCAhPT0gdm9pZCAwICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IHIsIC4uLnMgfSwgYS5jaGlsZHJlbiA/IGEuY2hpbGRyZW4gOiBvID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChDdCwgbnVsbCkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEV0LCBudWxsKSkpO1xyXG4gIH1cclxuKSwgdWEgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxyXG4gIGZ1bmN0aW9uKHtcclxuICAgIGtpbmQ6IG4sXHJcbiAgICBpbml0aWFsU2VsZWN0aW9uOiBhLFxyXG4gICAgb25BY3RpdmVEZXZpY2VDaGFuZ2U6IHIsXHJcbiAgICBvbkRldmljZUxpc3RDaGFuZ2U6IGMsXHJcbiAgICBvbkRldmljZVNlbGVjdEVycm9yOiBzLFxyXG4gICAgZXhhY3RNYXRjaDogbyxcclxuICAgIHRyYWNrOiBsLFxyXG4gICAgcmVxdWVzdFBlcm1pc3Npb25zOiBpLFxyXG4gICAgb25FcnJvcjogdSxcclxuICAgIC4uLmRcclxuICB9LCBnKSB7XHJcbiAgICBjb25zdCBmID0gZXQoKSwgdyA9IGUudXNlQ2FsbGJhY2soXHJcbiAgICAgIChFKSA9PiB7XHJcbiAgICAgICAgZiAmJiBmLmVtaXQoSmUuTWVkaWFEZXZpY2VzRXJyb3IsIEUpLCB1ID09IG51bGwgfHwgdShFKTtcclxuICAgICAgfSxcclxuICAgICAgW2YsIHVdXHJcbiAgICApLCB7IGRldmljZXM6IHAsIGFjdGl2ZURldmljZUlkOiBtLCBzZXRBY3RpdmVNZWRpYURldmljZTogdiwgY2xhc3NOYW1lOiBiIH0gPSBIZSh7XHJcbiAgICAgIGtpbmQ6IG4sXHJcbiAgICAgIHJvb206IGYsXHJcbiAgICAgIHRyYWNrOiBsLFxyXG4gICAgICByZXF1ZXN0UGVybWlzc2lvbnM6IGksXHJcbiAgICAgIG9uRXJyb3I6IHdcclxuICAgIH0pO1xyXG4gICAgZS51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICBhICE9PSB2b2lkIDAgJiYgdihhKTtcclxuICAgIH0sIFt2XSksIGUudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgdHlwZW9mIGMgPT0gXCJmdW5jdGlvblwiICYmIGMocCk7XHJcbiAgICB9LCBbYywgcF0pLCBlLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgIG0gJiYgbSAhPT0gXCJcIiAmJiAociA9PSBudWxsIHx8IHIobSkpO1xyXG4gICAgfSwgW21dKTtcclxuICAgIGNvbnN0IEMgPSBhc3luYyAoRSkgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHYoRSwgeyBleGFjdDogbyA/PyAhMCB9KTtcclxuICAgICAgfSBjYXRjaCAoaykge1xyXG4gICAgICAgIGlmIChrIGluc3RhbmNlb2YgRXJyb3IpXHJcbiAgICAgICAgICBzID09IG51bGwgfHwgcyhrKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICB0aHJvdyBrO1xyXG4gICAgICB9XHJcbiAgICB9LCBUID0gZS51c2VNZW1vKFxyXG4gICAgICAoKSA9PiBTKGQsIHsgY2xhc3NOYW1lOiBiIH0sIHsgY2xhc3NOYW1lOiBcImxrLWxpc3RcIiB9KSxcclxuICAgICAgW2IsIGRdXHJcbiAgICApLCBBID0gISFwLmZpbmQoKEUpID0+IEUubGFiZWwudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiZGVmYXVsdFwiKSk7XHJcbiAgICBmdW5jdGlvbiBoKEUsIGssIEkpIHtcclxuICAgICAgcmV0dXJuIEUgPT09IGsgfHwgIUEgJiYgSSA9PT0gMCAmJiBrID09PSBcImRlZmF1bHRcIjtcclxuICAgIH1cclxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwidWxcIiwgeyByZWY6IGcsIC4uLlQgfSwgcC5tYXAoKEUsIGspID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgIFwibGlcIixcclxuICAgICAge1xyXG4gICAgICAgIGtleTogRS5kZXZpY2VJZCxcclxuICAgICAgICBpZDogRS5kZXZpY2VJZCxcclxuICAgICAgICBcImRhdGEtbGstYWN0aXZlXCI6IGgoRS5kZXZpY2VJZCwgbSwgayksXHJcbiAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IGgoRS5kZXZpY2VJZCwgbSwgayksXHJcbiAgICAgICAgcm9sZTogXCJvcHRpb25cIlxyXG4gICAgICB9LFxyXG4gICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvblwiLCBvbkNsaWNrOiAoKSA9PiBDKEUuZGV2aWNlSWQpIH0sIEUubGFiZWwpXHJcbiAgICApKSk7XHJcbiAgfVxyXG4pLCBkYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXHJcbiAgZnVuY3Rpb24oeyBsYWJlbDogbiA9IFwiQWxsb3cgQXVkaW9cIiwgLi4uYSB9LCByKSB7XHJcbiAgICBjb25zdCBjID0gd2UoKSwgeyBtZXJnZWRQcm9wczogcyB9ID0gZ2UoeyByb29tOiBjLCBwcm9wczogYSB9KTtcclxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByLCAuLi5zIH0sIG4pO1xyXG4gIH1cclxuKSwgbWEgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxyXG4gIGZ1bmN0aW9uKHsgbGFiZWw6IG4sIC4uLmEgfSwgcikge1xyXG4gICAgY29uc3QgYyA9IHdlKCksIHsgbWVyZ2VkUHJvcHM6IHMsIGNhblBsYXlBdWRpbzogbyB9ID0gZ2UoeyByb29tOiBjLCBwcm9wczogYSB9KSwgeyBtZXJnZWRQcm9wczogbCwgY2FuUGxheVZpZGVvOiBpIH0gPSBCZSh7IHJvb206IGMsIHByb3BzOiBzIH0pLCB7IHN0eWxlOiB1LCAuLi5kIH0gPSBsO1xyXG4gICAgcmV0dXJuIHUuZGlzcGxheSA9IG8gJiYgaSA/IFwibm9uZVwiIDogXCJibG9ja1wiLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByLCBzdHlsZTogdSwgLi4uZCB9LCBuID8/IGBTdGFydCAke28gPyBcIlZpZGVvXCIgOiBcIkF1ZGlvXCJ9YCk7XHJcbiAgfVxyXG4pO1xyXG5mdW5jdGlvbiB5ZSh0LCBuKSB7XHJcbiAgc3dpdGNoICh0KSB7XHJcbiAgICBjYXNlIHkuU291cmNlLk1pY3JvcGhvbmU6XHJcbiAgICAgIHJldHVybiBuID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChrdCwgbnVsbCkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KHd0LCBudWxsKTtcclxuICAgIGNhc2UgeS5Tb3VyY2UuQ2FtZXJhOlxyXG4gICAgICByZXR1cm4gbiA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQodnQsIG51bGwpIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChndCwgbnVsbCk7XHJcbiAgICBjYXNlIHkuU291cmNlLlNjcmVlblNoYXJlOlxyXG4gICAgICByZXR1cm4gbiA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoU3QsIG51bGwpIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChNZSwgbnVsbCk7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm47XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIHh0KHQpIHtcclxuICBzd2l0Y2ggKHQpIHtcclxuICAgIGNhc2UgUS5FeGNlbGxlbnQ6XHJcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFJ0LCBudWxsKTtcclxuICAgIGNhc2UgUS5Hb29kOlxyXG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChNdCwgbnVsbCk7XHJcbiAgICBjYXNlIFEuUG9vcjpcclxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoeXQsIG51bGwpO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoYnQsIG51bGwpO1xyXG4gIH1cclxufVxyXG5jb25zdCBmYSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoZnVuY3Rpb24oeyBzaG93SWNvbjogbiwgLi4uYSB9LCByKSB7XHJcbiAgY29uc3QgeyBidXR0b25Qcm9wczogYywgZW5hYmxlZDogcyB9ID0gamUoYSksIFtvLCBsXSA9IGUudXNlU3RhdGUoITEpO1xyXG4gIHJldHVybiBlLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsKCEwKTtcclxuICB9LCBbXSksIG8gJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHJlZjogciwgLi4uYyB9LCAobiA/PyAhMCkgJiYgeWUoYS5zb3VyY2UsIHMpLCBhLmNoaWxkcmVuKTtcclxufSksIGJlID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihmdW5jdGlvbihuLCBhKSB7XHJcbiAgY29uc3QgeyBjbGFzc05hbWU6IHIsIHF1YWxpdHk6IGMgfSA9IF9lKG4pLCBzID0gZS51c2VNZW1vKCgpID0+ICh7IC4uLlMobiwgeyBjbGFzc05hbWU6IHIgfSksIFwiZGF0YS1say1xdWFsaXR5XCI6IGMgfSksIFtjLCBuLCByXSk7XHJcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGEsIC4uLnMgfSwgbi5jaGlsZHJlbiA/PyB4dChjKSk7XHJcbn0pLCBLID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcclxuICBmdW5jdGlvbih7IHBhcnRpY2lwYW50OiBuLCAuLi5hIH0sIHIpIHtcclxuICAgIGNvbnN0IGMgPSB0dChuKSwgeyBjbGFzc05hbWU6IHMsIGluZm9PYnNlcnZlcjogbyB9ID0gZS51c2VNZW1vKCgpID0+IGF0KGMpLCBbY10pLCB7IGlkZW50aXR5OiBsLCBuYW1lOiBpIH0gPSBPZShvLCB7XHJcbiAgICAgIG5hbWU6IGMubmFtZSxcclxuICAgICAgaWRlbnRpdHk6IGMuaWRlbnRpdHksXHJcbiAgICAgIG1ldGFkYXRhOiBjLm1ldGFkYXRhXHJcbiAgICB9KSwgdSA9IGUudXNlTWVtbygoKSA9PiBTKGEsIHsgY2xhc3NOYW1lOiBzLCBcImRhdGEtbGstcGFydGljaXBhbnQtbmFtZVwiOiBpIH0pLCBbYSwgcywgaV0pO1xyXG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgcmVmOiByLCAuLi51IH0sIGkgIT09IFwiXCIgPyBpIDogbCwgYS5jaGlsZHJlbik7XHJcbiAgfVxyXG4pLCBTZSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXHJcbiAgZnVuY3Rpb24oeyB0cmFja1JlZjogbiwgc2hvdzogYSA9IFwiYWx3YXlzXCIsIC4uLnIgfSwgYykge1xyXG4gICAgY29uc3QgeyBjbGFzc05hbWU6IHMsIGlzTXV0ZWQ6IG8gfSA9IFdlKG4pLCBsID0gYSA9PT0gXCJhbHdheXNcIiB8fCBhID09PSBcIm11dGVkXCIgJiYgbyB8fCBhID09PSBcInVubXV0ZWRcIiAmJiAhbywgaSA9IGUudXNlTWVtbyhcclxuICAgICAgKCkgPT4gUyhyLCB7XHJcbiAgICAgICAgY2xhc3NOYW1lOiBzXHJcbiAgICAgIH0pLFxyXG4gICAgICBbcywgcl1cclxuICAgICk7XHJcbiAgICByZXR1cm4gbCA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGMsIC4uLmksIFwiZGF0YS1say1tdXRlZFwiOiBvIH0sIHIuY2hpbGRyZW4gPz8geWUobi5zb3VyY2UsICFvKSkgOiBudWxsO1xyXG4gIH1cclxuKSwgUHQgPSAodCkgPT4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICBcInN2Z1wiLFxyXG4gIHtcclxuICAgIHdpZHRoOiAzMjAsXHJcbiAgICBoZWlnaHQ6IDMyMCxcclxuICAgIHZpZXdCb3g6IFwiMCAwIDMyMCAzMjBcIixcclxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLFxyXG4gICAgZmlsbDogXCJub25lXCIsXHJcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxyXG4gICAgLi4udFxyXG4gIH0sXHJcbiAgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICAgIFwicGF0aFwiLFxyXG4gICAge1xyXG4gICAgICBkOiBcIk0xNjAgMTgwQzIwNC4xODIgMTgwIDI0MCAxNDQuMTgzIDI0MCAxMDBDMjQwIDU1LjgxNzIgMjA0LjE4MiAyMCAxNjAgMjBDMTE1LjgxNyAyMCA3OS45OTk3IDU1LjgxNzIgNzkuOTk5NyAxMDBDNzkuOTk5NyAxNDQuMTgzIDExNS44MTcgMTgwIDE2MCAxODBaXCIsXHJcbiAgICAgIGZpbGw6IFwid2hpdGVcIixcclxuICAgICAgZmlsbE9wYWNpdHk6IDAuMjVcclxuICAgIH1cclxuICApLFxyXG4gIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgICBcInBhdGhcIixcclxuICAgIHtcclxuICAgICAgZDogXCJNOTcuNjU0MiAxOTQuNjE0QzEwMy4yNjcgMTkxLjgxOCAxMDkuODQxIDE5Mi40ODEgMTE1LjUxOSAxOTUuMTQxQzEyOS4wMjUgMjAxLjQ2NiAxNDQuMSAyMDUgMTU5Ljk5OSAyMDVDMTc1Ljg5OSAyMDUgMTkwLjk3MyAyMDEuNDY2IDIwNC40OCAxOTUuMTQxQzIxMC4xNTggMTkyLjQ4MSAyMTYuNzMyIDE5MS44MTggMjIyLjM0NSAxOTQuNjE0QzI2Mi43MDMgMjE0LjcxOSAyOTEuOTg1IDI1My43MzYgMjk4LjU5MSAzMDAuMDYyQzMwMC4xNSAzMTAuOTk3IDI5MS4wNDUgMzIwIDI4MCAzMjBIMzkuOTk5N0MyOC45NTQgMzIwIDE5Ljg0OTUgMzEwLjk5NyAyMS40MDg3IDMwMC4wNjJDMjguMDE0IDI1My43MzYgNTcuMjk2NiAyMTQuNzIgOTcuNjU0MiAxOTQuNjE0WlwiLFxyXG4gICAgICBmaWxsOiBcIndoaXRlXCIsXHJcbiAgICAgIGZpbGxPcGFjaXR5OiAwLjI1XHJcbiAgICB9XHJcbiAgKVxyXG4pO1xyXG5mdW5jdGlvbiBDZSh0LCBuID0ge30pIHtcclxuICBjb25zdCBbYSwgcl0gPSBlLnVzZVN0YXRlKG50KHQpKSwgW2MsIHNdID0gZS51c2VTdGF0ZShhID09IG51bGwgPyB2b2lkIDAgOiBhLmlzTXV0ZWQpLCBbbywgbF0gPSBlLnVzZVN0YXRlKGEgPT0gbnVsbCA/IHZvaWQgMCA6IGEuaXNTdWJzY3JpYmVkKSwgW2ksIHVdID0gZS51c2VTdGF0ZShhID09IG51bGwgPyB2b2lkIDAgOiBhLnRyYWNrKSwgW2QsIGddID0gZS51c2VTdGF0ZShcImxhbmRzY2FwZVwiKSwgZiA9IGUudXNlUmVmKCksIHsgY2xhc3NOYW1lOiB3LCB0cmFja09ic2VydmVyOiBwIH0gPSBlLnVzZU1lbW8oKCkgPT4gcnQodCksIFtcclxuICAgIHQucGFydGljaXBhbnQuc2lkID8/IHQucGFydGljaXBhbnQuaWRlbnRpdHksXHJcbiAgICB0LnNvdXJjZSxcclxuICAgICQodCkgJiYgdC5wdWJsaWNhdGlvbi50cmFja1NpZFxyXG4gIF0pO1xyXG4gIHJldHVybiBlLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBtID0gcC5zdWJzY3JpYmUoKHYpID0+IHtcclxuICAgICAgai5kZWJ1ZyhcInVwZGF0ZSB0cmFja1wiLCB2KSwgcih2KSwgcyh2ID09IG51bGwgPyB2b2lkIDAgOiB2LmlzTXV0ZWQpLCBsKHYgPT0gbnVsbCA/IHZvaWQgMCA6IHYuaXNTdWJzY3JpYmVkKSwgdSh2ID09IG51bGwgPyB2b2lkIDAgOiB2LnRyYWNrKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuICgpID0+IG0gPT0gbnVsbCA/IHZvaWQgMCA6IG0udW5zdWJzY3JpYmUoKTtcclxuICB9LCBbcF0pLCBlLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB2YXIgbSwgdjtcclxuICAgIHJldHVybiBpICYmIChmLmN1cnJlbnQgJiYgaS5kZXRhY2goZi5jdXJyZW50KSwgKG0gPSBuLmVsZW1lbnQpICE9IG51bGwgJiYgbS5jdXJyZW50ICYmICEodC5wYXJ0aWNpcGFudC5pc0xvY2FsICYmIChpID09IG51bGwgPyB2b2lkIDAgOiBpLmtpbmQpID09PSBcImF1ZGlvXCIpICYmIGkuYXR0YWNoKG4uZWxlbWVudC5jdXJyZW50KSksIGYuY3VycmVudCA9ICh2ID0gbi5lbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogdi5jdXJyZW50LCAoKSA9PiB7XHJcbiAgICAgIGYuY3VycmVudCAmJiAoaSA9PSBudWxsIHx8IGkuZGV0YWNoKGYuY3VycmVudCkpO1xyXG4gICAgfTtcclxuICB9LCBbaSwgbi5lbGVtZW50XSksIGUudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHZhciBtLCB2O1xyXG4gICAgaWYgKHR5cGVvZiAoKG0gPSBhID09IG51bGwgPyB2b2lkIDAgOiBhLmRpbWVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBtLndpZHRoKSA9PSBcIm51bWJlclwiICYmIHR5cGVvZiAoKHYgPSBhID09IG51bGwgPyB2b2lkIDAgOiBhLmRpbWVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiB2LmhlaWdodCkgPT0gXCJudW1iZXJcIikge1xyXG4gICAgICBjb25zdCBiID0gYS5kaW1lbnNpb25zLndpZHRoID4gYS5kaW1lbnNpb25zLmhlaWdodCA/IFwibGFuZHNjYXBlXCIgOiBcInBvcnRyYWl0XCI7XHJcbiAgICAgIGcoYik7XHJcbiAgICB9XHJcbiAgfSwgW2FdKSwge1xyXG4gICAgcHVibGljYXRpb246IGEsXHJcbiAgICBpc011dGVkOiBjLFxyXG4gICAgaXNTdWJzY3JpYmVkOiBvLFxyXG4gICAgdHJhY2s6IGksXHJcbiAgICBlbGVtZW50UHJvcHM6IFMobi5wcm9wcywge1xyXG4gICAgICBjbGFzc05hbWU6IHcsXHJcbiAgICAgIFwiZGF0YS1say1sb2NhbC1wYXJ0aWNpcGFudFwiOiB0LnBhcnRpY2lwYW50LmlzTG9jYWwsXHJcbiAgICAgIFwiZGF0YS1say1zb3VyY2VcIjogYSA9PSBudWxsID8gdm9pZCAwIDogYS5zb3VyY2UsXHJcbiAgICAgIC4uLihhID09IG51bGwgPyB2b2lkIDAgOiBhLmtpbmQpID09PSBcInZpZGVvXCIgJiYgeyBcImRhdGEtbGstb3JpZW50YXRpb25cIjogZCB9XHJcbiAgICB9KVxyXG4gIH07XHJcbn1cclxudmFyIFksIHVlO1xyXG5mdW5jdGlvbiBUdCgpIHtcclxuICBpZiAodWUpIHJldHVybiBZO1xyXG4gIHVlID0gMTtcclxuICB2YXIgdCA9IFwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiLCBuID0gTmFOLCBhID0gXCJbb2JqZWN0IFN5bWJvbF1cIiwgciA9IC9eXFxzK3xcXHMrJC9nLCBjID0gL15bLStdMHhbMC05YS1mXSskL2ksIHMgPSAvXjBiWzAxXSskL2ksIG8gPSAvXjBvWzAtN10rJC9pLCBsID0gcGFyc2VJbnQsIGkgPSB0eXBlb2YgcSA9PSBcIm9iamVjdFwiICYmIHEgJiYgcS5PYmplY3QgPT09IE9iamVjdCAmJiBxLCB1ID0gdHlwZW9mIHNlbGYgPT0gXCJvYmplY3RcIiAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZiwgZCA9IGkgfHwgdSB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksIGcgPSBPYmplY3QucHJvdG90eXBlLCBmID0gZy50b1N0cmluZywgdyA9IE1hdGgubWF4LCBwID0gTWF0aC5taW4sIG0gPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBkLkRhdGUubm93KCk7XHJcbiAgfTtcclxuICBmdW5jdGlvbiB2KGgsIEUsIGspIHtcclxuICAgIHZhciBJLCBWLCBPLCBOLCBNLCBQLCBGID0gMCwgcmUgPSAhMSwgWiA9ICExLCBEID0gITA7XHJcbiAgICBpZiAodHlwZW9mIGggIT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHQpO1xyXG4gICAgRSA9IEEoRSkgfHwgMCwgYihrKSAmJiAocmUgPSAhIWsubGVhZGluZywgWiA9IFwibWF4V2FpdFwiIGluIGssIE8gPSBaID8gdyhBKGsubWF4V2FpdCkgfHwgMCwgRSkgOiBPLCBEID0gXCJ0cmFpbGluZ1wiIGluIGsgPyAhIWsudHJhaWxpbmcgOiBEKTtcclxuICAgIGZ1bmN0aW9uIFUoUikge1xyXG4gICAgICB2YXIgeCA9IEksIEggPSBWO1xyXG4gICAgICByZXR1cm4gSSA9IFYgPSB2b2lkIDAsIEYgPSBSLCBOID0gaC5hcHBseShILCB4KSwgTjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFBlKFIpIHtcclxuICAgICAgcmV0dXJuIEYgPSBSLCBNID0gc2V0VGltZW91dChXLCBFKSwgcmUgPyBVKFIpIDogTjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIFRlKFIpIHtcclxuICAgICAgdmFyIHggPSBSIC0gUCwgSCA9IFIgLSBGLCBzZSA9IEUgLSB4O1xyXG4gICAgICByZXR1cm4gWiA/IHAoc2UsIE8gLSBIKSA6IHNlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2UoUikge1xyXG4gICAgICB2YXIgeCA9IFIgLSBQLCBIID0gUiAtIEY7XHJcbiAgICAgIHJldHVybiBQID09PSB2b2lkIDAgfHwgeCA+PSBFIHx8IHggPCAwIHx8IFogJiYgSCA+PSBPO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gVygpIHtcclxuICAgICAgdmFyIFIgPSBtKCk7XHJcbiAgICAgIGlmIChjZShSKSlcclxuICAgICAgICByZXR1cm4gbGUoUik7XHJcbiAgICAgIE0gPSBzZXRUaW1lb3V0KFcsIFRlKFIpKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGxlKFIpIHtcclxuICAgICAgcmV0dXJuIE0gPSB2b2lkIDAsIEQgJiYgSSA/IFUoUikgOiAoSSA9IFYgPSB2b2lkIDAsIE4pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gQWUoKSB7XHJcbiAgICAgIE0gIT09IHZvaWQgMCAmJiBjbGVhclRpbWVvdXQoTSksIEYgPSAwLCBJID0gUCA9IFYgPSBNID0gdm9pZCAwO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gTmUoKSB7XHJcbiAgICAgIHJldHVybiBNID09PSB2b2lkIDAgPyBOIDogbGUobSgpKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIEcoKSB7XHJcbiAgICAgIHZhciBSID0gbSgpLCB4ID0gY2UoUik7XHJcbiAgICAgIGlmIChJID0gYXJndW1lbnRzLCBWID0gdGhpcywgUCA9IFIsIHgpIHtcclxuICAgICAgICBpZiAoTSA9PT0gdm9pZCAwKVxyXG4gICAgICAgICAgcmV0dXJuIFBlKFApO1xyXG4gICAgICAgIGlmIChaKVxyXG4gICAgICAgICAgcmV0dXJuIE0gPSBzZXRUaW1lb3V0KFcsIEUpLCBVKFApO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBNID09PSB2b2lkIDAgJiYgKE0gPSBzZXRUaW1lb3V0KFcsIEUpKSwgTjtcclxuICAgIH1cclxuICAgIHJldHVybiBHLmNhbmNlbCA9IEFlLCBHLmZsdXNoID0gTmUsIEc7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGIoaCkge1xyXG4gICAgdmFyIEUgPSB0eXBlb2YgaDtcclxuICAgIHJldHVybiAhIWggJiYgKEUgPT0gXCJvYmplY3RcIiB8fCBFID09IFwiZnVuY3Rpb25cIik7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIEMoaCkge1xyXG4gICAgcmV0dXJuICEhaCAmJiB0eXBlb2YgaCA9PSBcIm9iamVjdFwiO1xyXG4gIH1cclxuICBmdW5jdGlvbiBUKGgpIHtcclxuICAgIHJldHVybiB0eXBlb2YgaCA9PSBcInN5bWJvbFwiIHx8IEMoaCkgJiYgZi5jYWxsKGgpID09IGE7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIEEoaCkge1xyXG4gICAgaWYgKHR5cGVvZiBoID09IFwibnVtYmVyXCIpXHJcbiAgICAgIHJldHVybiBoO1xyXG4gICAgaWYgKFQoaCkpXHJcbiAgICAgIHJldHVybiBuO1xyXG4gICAgaWYgKGIoaCkpIHtcclxuICAgICAgdmFyIEUgPSB0eXBlb2YgaC52YWx1ZU9mID09IFwiZnVuY3Rpb25cIiA/IGgudmFsdWVPZigpIDogaDtcclxuICAgICAgaCA9IGIoRSkgPyBFICsgXCJcIiA6IEU7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGggIT0gXCJzdHJpbmdcIilcclxuICAgICAgcmV0dXJuIGggPT09IDAgPyBoIDogK2g7XHJcbiAgICBoID0gaC5yZXBsYWNlKHIsIFwiXCIpO1xyXG4gICAgdmFyIGsgPSBzLnRlc3QoaCk7XHJcbiAgICByZXR1cm4gayB8fCBvLnRlc3QoaCkgPyBsKGguc2xpY2UoMiksIGsgPyAyIDogOCkgOiBjLnRlc3QoaCkgPyBuIDogK2g7XHJcbiAgfVxyXG4gIHJldHVybiBZID0gdiwgWTtcclxufVxyXG52YXIgQXQgPSBUdCgpO1xyXG5jb25zdCBkZSA9IC8qIEBfX1BVUkVfXyAqLyBjdChBdCk7XHJcbmZ1bmN0aW9uIE50KHQpIHtcclxuICBjb25zdCBuID0gTCh0KTtcclxuICBuLmN1cnJlbnQgPSB0LCB6KFxyXG4gICAgKCkgPT4gKCkgPT4ge1xyXG4gICAgICBuLmN1cnJlbnQoKTtcclxuICAgIH0sXHJcbiAgICBbXVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gTHQodCwgbiA9IDUwMCwgYSkge1xyXG4gIGNvbnN0IHIgPSBMKCk7XHJcbiAgTnQoKCkgPT4ge1xyXG4gICAgci5jdXJyZW50ICYmIHIuY3VycmVudC5jYW5jZWwoKTtcclxuICB9KTtcclxuICBjb25zdCBjID0gTGUoKCkgPT4ge1xyXG4gICAgY29uc3QgcyA9IGRlKHQsIG4sIGEpLCBvID0gKC4uLmwpID0+IHMoLi4ubCk7XHJcbiAgICByZXR1cm4gby5jYW5jZWwgPSAoKSA9PiB7XHJcbiAgICAgIHMuY2FuY2VsKCk7XHJcbiAgICB9LCBvLmlzUGVuZGluZyA9ICgpID0+ICEhci5jdXJyZW50LCBvLmZsdXNoID0gKCkgPT4gcy5mbHVzaCgpLCBvO1xyXG4gIH0sIFt0LCBuLCBhXSk7XHJcbiAgcmV0dXJuIHooKCkgPT4ge1xyXG4gICAgci5jdXJyZW50ID0gZGUodCwgbiwgYSk7XHJcbiAgfSwgW3QsIG4sIGFdKSwgYztcclxufVxyXG5mdW5jdGlvbiB6dCh0LCBuLCBhKSB7XHJcbiAgY29uc3QgciA9ICh1LCBkKSA9PiB1ID09PSBkLCBjID0gdCBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gdCgpIDogdCwgW3MsIG9dID0gQihjKSwgbCA9IEwoYyksIGkgPSBMdChcclxuICAgIG8sXHJcbiAgICBuLFxyXG4gICAgYVxyXG4gICk7XHJcbiAgcmV0dXJuIHIobC5jdXJyZW50LCBjKSB8fCAoaShjKSwgbC5jdXJyZW50ID0gYyksIFtzLCBpXTtcclxufVxyXG5mdW5jdGlvbiBWdCh7XHJcbiAgdGhyZXNob2xkOiB0ID0gMCxcclxuICByb290OiBuID0gbnVsbCxcclxuICByb290TWFyZ2luOiBhID0gXCIwJVwiLFxyXG4gIGZyZWV6ZU9uY2VWaXNpYmxlOiByID0gITEsXHJcbiAgaW5pdGlhbElzSW50ZXJzZWN0aW5nOiBjID0gITEsXHJcbiAgb25DaGFuZ2U6IHNcclxufSA9IHt9KSB7XHJcbiAgdmFyIG87XHJcbiAgY29uc3QgW2wsIGldID0gQihudWxsKSwgW3UsIGRdID0gQigoKSA9PiAoe1xyXG4gICAgaXNJbnRlcnNlY3Rpbmc6IGMsXHJcbiAgICBlbnRyeTogdm9pZCAwXHJcbiAgfSkpLCBnID0gTCgpO1xyXG4gIGcuY3VycmVudCA9IHM7XHJcbiAgY29uc3QgZiA9ICgobyA9IHUuZW50cnkpID09IG51bGwgPyB2b2lkIDAgOiBvLmlzSW50ZXJzZWN0aW5nKSAmJiByO1xyXG4gIHooKCkgPT4ge1xyXG4gICAgaWYgKCFsIHx8ICEoXCJJbnRlcnNlY3Rpb25PYnNlcnZlclwiIGluIHdpbmRvdykgfHwgZilcclxuICAgICAgcmV0dXJuO1xyXG4gICAgY29uc3QgbSA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcclxuICAgICAgKHYpID0+IHtcclxuICAgICAgICBjb25zdCBiID0gQXJyYXkuaXNBcnJheShtLnRocmVzaG9sZHMpID8gbS50aHJlc2hvbGRzIDogW20udGhyZXNob2xkc107XHJcbiAgICAgICAgdi5mb3JFYWNoKChDKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBUID0gQy5pc0ludGVyc2VjdGluZyAmJiBiLnNvbWUoKEEpID0+IEMuaW50ZXJzZWN0aW9uUmF0aW8gPj0gQSk7XHJcbiAgICAgICAgICBkKHsgaXNJbnRlcnNlY3Rpbmc6IFQsIGVudHJ5OiBDIH0pLCBnLmN1cnJlbnQgJiYgZy5jdXJyZW50KFQsIEMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICB7IHRocmVzaG9sZDogdCwgcm9vdDogbiwgcm9vdE1hcmdpbjogYSB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIG0ub2JzZXJ2ZShsKSwgKCkgPT4ge1xyXG4gICAgICBtLmRpc2Nvbm5lY3QoKTtcclxuICAgIH07XHJcbiAgfSwgW1xyXG4gICAgbCxcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcclxuICAgIEpTT04uc3RyaW5naWZ5KHQpLFxyXG4gICAgbixcclxuICAgIGEsXHJcbiAgICBmLFxyXG4gICAgclxyXG4gIF0pO1xyXG4gIGNvbnN0IHcgPSBMKG51bGwpO1xyXG4gIHooKCkgPT4ge1xyXG4gICAgdmFyIG07XHJcbiAgICAhbCAmJiAoKG0gPSB1LmVudHJ5KSAhPSBudWxsICYmIG0udGFyZ2V0KSAmJiAhciAmJiAhZiAmJiB3LmN1cnJlbnQgIT09IHUuZW50cnkudGFyZ2V0ICYmICh3LmN1cnJlbnQgPSB1LmVudHJ5LnRhcmdldCwgZCh7IGlzSW50ZXJzZWN0aW5nOiBjLCBlbnRyeTogdm9pZCAwIH0pKTtcclxuICB9LCBbbCwgdS5lbnRyeSwgciwgZiwgY10pO1xyXG4gIGNvbnN0IHAgPSBbXHJcbiAgICBpLFxyXG4gICAgISF1LmlzSW50ZXJzZWN0aW5nLFxyXG4gICAgdS5lbnRyeVxyXG4gIF07XHJcbiAgcmV0dXJuIHAucmVmID0gcFswXSwgcC5pc0ludGVyc2VjdGluZyA9IHBbMV0sIHAuZW50cnkgPSBwWzJdLCBwO1xyXG59XHJcbmNvbnN0IEZ0ID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcclxuICBmdW5jdGlvbih7XHJcbiAgICBvblRyYWNrQ2xpY2s6IG4sXHJcbiAgICBvbkNsaWNrOiBhLFxyXG4gICAgb25TdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkOiByLFxyXG4gICAgdHJhY2tSZWY6IGMsXHJcbiAgICBtYW5hZ2VTdWJzY3JpcHRpb246IHMsXHJcbiAgICAuLi5vXHJcbiAgfSwgbCkge1xyXG4gICAgY29uc3QgaSA9IF8oYyksIHUgPSBlLnVzZVJlZihudWxsKTtcclxuICAgIGUudXNlSW1wZXJhdGl2ZUhhbmRsZShsLCAoKSA9PiB1LmN1cnJlbnQpO1xyXG4gICAgY29uc3QgZCA9IFZ0KHsgcm9vdDogdS5jdXJyZW50IH0pLCBbZ10gPSB6dChkLCAzZTMpO1xyXG4gICAgZS51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICBzICYmIGkucHVibGljYXRpb24gaW5zdGFuY2VvZiBKICYmIChnID09IG51bGwgPyB2b2lkIDAgOiBnLmlzSW50ZXJzZWN0aW5nKSA9PT0gITEgJiYgKGQgPT0gbnVsbCA/IHZvaWQgMCA6IGQuaXNJbnRlcnNlY3RpbmcpID09PSAhMSAmJiBpLnB1YmxpY2F0aW9uLnNldFN1YnNjcmliZWQoITEpO1xyXG4gICAgfSwgW2csIGksIHNdKSwgZS51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICBzICYmIGkucHVibGljYXRpb24gaW5zdGFuY2VvZiBKICYmIChkID09IG51bGwgPyB2b2lkIDAgOiBkLmlzSW50ZXJzZWN0aW5nKSA9PT0gITAgJiYgaS5wdWJsaWNhdGlvbi5zZXRTdWJzY3JpYmVkKCEwKTtcclxuICAgIH0sIFtkLCBpLCBzXSk7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGVsZW1lbnRQcm9wczogZixcclxuICAgICAgcHVibGljYXRpb246IHcsXHJcbiAgICAgIGlzU3Vic2NyaWJlZDogcFxyXG4gICAgfSA9IENlKGksIHtcclxuICAgICAgZWxlbWVudDogdSxcclxuICAgICAgcHJvcHM6IG9cclxuICAgIH0pO1xyXG4gICAgZS51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICByID09IG51bGwgfHwgcighIXApO1xyXG4gICAgfSwgW3AsIHJdKTtcclxuICAgIGNvbnN0IG0gPSAodikgPT4ge1xyXG4gICAgICBhID09IG51bGwgfHwgYSh2KSwgbiA9PSBudWxsIHx8IG4oeyBwYXJ0aWNpcGFudDogaSA9PSBudWxsID8gdm9pZCAwIDogaS5wYXJ0aWNpcGFudCwgdHJhY2s6IHcgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiLCB7IHJlZjogdSwgLi4uZiwgbXV0ZWQ6ICEwLCBvbkNsaWNrOiBtIH0pO1xyXG4gIH1cclxuKSwgbmUgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxyXG4gIGZ1bmN0aW9uKHsgdHJhY2tSZWY6IG4sIG9uU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZDogYSwgdm9sdW1lOiByLCAuLi5jIH0sIHMpIHtcclxuICAgIGNvbnN0IG8gPSBfKG4pLCBsID0gZS51c2VSZWYobnVsbCk7XHJcbiAgICBlLnVzZUltcGVyYXRpdmVIYW5kbGUocywgKCkgPT4gbC5jdXJyZW50KTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZWxlbWVudFByb3BzOiBpLFxyXG4gICAgICBpc1N1YnNjcmliZWQ6IHUsXHJcbiAgICAgIHRyYWNrOiBkLFxyXG4gICAgICBwdWJsaWNhdGlvbjogZ1xyXG4gICAgfSA9IENlKG8sIHtcclxuICAgICAgZWxlbWVudDogbCxcclxuICAgICAgcHJvcHM6IGNcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGUudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgYSA9PSBudWxsIHx8IGEoISF1KTtcclxuICAgIH0sIFt1LCBhXSksIGUudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgZCA9PT0gdm9pZCAwIHx8IHIgPT09IHZvaWQgMCB8fCAoZCBpbnN0YW5jZW9mIEtlID8gZC5zZXRWb2x1bWUocikgOiBqLndhcm4oXCJWb2x1bWUgY2FuIG9ubHkgYmUgc2V0IG9uIHJlbW90ZSBhdWRpbyB0cmFja3MuXCIpKTtcclxuICAgIH0sIFtyLCBkXSksIGUudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgZyA9PT0gdm9pZCAwIHx8IGMubXV0ZWQgPT09IHZvaWQgMCB8fCAoZyBpbnN0YW5jZW9mIEogPyBnLnNldEVuYWJsZWQoIWMubXV0ZWQpIDogai53YXJuKFwiQ2FuIG9ubHkgY2FsbCBzZXRFbmFibGVkIG9uIHJlbW90ZSB0cmFjayBwdWJsaWNhdGlvbnMuXCIpKTtcclxuICAgIH0sIFtjLm11dGVkLCBnLCBkXSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiLCB7IHJlZjogbCwgLi4uaSB9KTtcclxuICB9XHJcbik7XHJcbmZ1bmN0aW9uIFp0KHQpIHtcclxuICBjb25zdCBuID0gISFsdCgpO1xyXG4gIHJldHVybiB0LnBhcnRpY2lwYW50ICYmICFuID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChrZS5Qcm92aWRlciwgeyB2YWx1ZTogdC5wYXJ0aWNpcGFudCB9LCB0LmNoaWxkcmVuKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgdC5jaGlsZHJlbik7XHJcbn1cclxuZnVuY3Rpb24gSHQodCkge1xyXG4gIGNvbnN0IG4gPSAhIXRlKCk7XHJcbiAgcmV0dXJuIHQudHJhY2tSZWYgJiYgIW4gPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGFlLlByb3ZpZGVyLCB7IHZhbHVlOiB0LnRyYWNrUmVmIH0sIHQuY2hpbGRyZW4pIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCB0LmNoaWxkcmVuKTtcclxufVxyXG5jb25zdCBCdCA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXHJcbiAgZnVuY3Rpb24oe1xyXG4gICAgdHJhY2tSZWY6IG4sXHJcbiAgICBjaGlsZHJlbjogYSxcclxuICAgIG9uUGFydGljaXBhbnRDbGljazogcixcclxuICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogYyxcclxuICAgIC4uLnNcclxuICB9LCBvKSB7XHJcbiAgICB2YXIgdywgcDtcclxuICAgIGNvbnN0IGwgPSBfKG4pLCB7IGVsZW1lbnRQcm9wczogaSB9ID0gdmUoe1xyXG4gICAgICBodG1sUHJvcHM6IHMsXHJcbiAgICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogYyxcclxuICAgICAgb25QYXJ0aWNpcGFudENsaWNrOiByLFxyXG4gICAgICB0cmFja1JlZjogbFxyXG4gICAgfSksIHUgPSBxZShsLnBhcnRpY2lwYW50KSwgZCA9IHN0KCksIGcgPSAodyA9IGl0KCkpID09IG51bGwgPyB2b2lkIDAgOiB3LmF1dG9TdWJzY3JpcHRpb24sIGYgPSBlLnVzZUNhbGxiYWNrKFxyXG4gICAgICAobSkgPT4ge1xyXG4gICAgICAgIGwuc291cmNlICYmICFtICYmIGQgJiYgZC5waW4uZGlzcGF0Y2ggJiYgb3QobCwgZC5waW4uc3RhdGUpICYmIGQucGluLmRpc3BhdGNoKHsgbXNnOiBcImNsZWFyX3BpblwiIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBbbCwgZF1cclxuICAgICk7XHJcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogbywgc3R5bGU6IHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9LCAuLi5pIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoSHQsIHsgdHJhY2tSZWY6IGwgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChadCwgeyBwYXJ0aWNpcGFudDogbC5wYXJ0aWNpcGFudCB9LCBhID8/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgJChsKSAmJiAoKChwID0gbC5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IHAua2luZCkgPT09IFwidmlkZW9cIiB8fCBsLnNvdXJjZSA9PT0geS5Tb3VyY2UuQ2FtZXJhIHx8IGwuc291cmNlID09PSB5LlNvdXJjZS5TY3JlZW5TaGFyZSkgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gICAgICBGdCxcclxuICAgICAge1xyXG4gICAgICAgIHRyYWNrUmVmOiBsLFxyXG4gICAgICAgIG9uU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZDogZixcclxuICAgICAgICBtYW5hZ2VTdWJzY3JpcHRpb246IGdcclxuICAgICAgfVxyXG4gICAgKSA6ICQobCkgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICAgICAgbmUsXHJcbiAgICAgIHtcclxuICAgICAgICB0cmFja1JlZjogbCxcclxuICAgICAgICBvblN1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQ6IGZcclxuICAgICAgfVxyXG4gICAgKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1wbGFjZWhvbGRlclwiIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoUHQsIG51bGwpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YVwiIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbWV0YWRhdGEtaXRlbVwiIH0sIGwuc291cmNlID09PSB5LlNvdXJjZS5DYW1lcmEgPyAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIHUgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChwdCwgeyBzdHlsZTogeyBtYXJnaW5SaWdodDogXCIwLjI1cmVtXCIgfSB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICAgICAgU2UsXHJcbiAgICAgIHtcclxuICAgICAgICB0cmFja1JlZjoge1xyXG4gICAgICAgICAgcGFydGljaXBhbnQ6IGwucGFydGljaXBhbnQsXHJcbiAgICAgICAgICBzb3VyY2U6IHkuU291cmNlLk1pY3JvcGhvbmVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNob3c6IFwibXV0ZWRcIlxyXG4gICAgICB9XHJcbiAgICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEssIG51bGwpKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChNZSwgeyBzdHlsZTogeyBtYXJnaW5SaWdodDogXCIwLjI1cmVtXCIgfSB9KSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChLLCBudWxsLCBcIidzIHNjcmVlblwiKSkpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGJlLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1tZXRhZGF0YS1pdGVtXCIgfSkpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChJdCwgeyB0cmFja1JlZjogbCB9KSkpKTtcclxuICB9XHJcbik7XHJcbmZ1bmN0aW9uIGhhKHQpIHtcclxuICBjb25zdCBuID0gUyh0LCB7IGNsYXNzTmFtZTogXCJsay1mb2N1cy1sYXlvdXRcIiB9KTtcclxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IC4uLm4gfSwgdC5jaGlsZHJlbik7XHJcbn1cclxuZnVuY3Rpb24gZ2EoeyB0cmFja1JlZjogdCwgLi4ubiB9KSB7XHJcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoQnQsIHsgdHJhY2tSZWY6IHQsIC4uLm4gfSk7XHJcbn1cclxuZnVuY3Rpb24gSWUoeyB0cmFja3M6IHQsIC4uLm4gfSkge1xyXG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIHQubWFwKChhKSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gICAgYWUuUHJvdmlkZXIsXHJcbiAgICB7XHJcbiAgICAgIHZhbHVlOiBhLFxyXG4gICAgICBrZXk6IFJlKGEpXHJcbiAgICB9LFxyXG4gICAgZWUobi5jaGlsZHJlbilcclxuICApKSk7XHJcbn1cclxuZnVuY3Rpb24ganQoe1xyXG4gIHRvdGFsUGFnZUNvdW50OiB0LFxyXG4gIG5leHRQYWdlOiBuLFxyXG4gIHByZXZQYWdlOiBhLFxyXG4gIGN1cnJlbnRQYWdlOiByLFxyXG4gIHBhZ2VzQ29udGFpbmVyOiBjXHJcbn0pIHtcclxuICBjb25zdCBbcywgb10gPSBlLnVzZVN0YXRlKCExKTtcclxuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbGV0IGw7XHJcbiAgICByZXR1cm4gYyAmJiAobCA9IHV0KGMuY3VycmVudCwgMmUzKS5zdWJzY3JpYmUoXHJcbiAgICAgIG9cclxuICAgICkpLCAoKSA9PiB7XHJcbiAgICAgIGwgJiYgbC51bnN1YnNjcmliZSgpO1xyXG4gICAgfTtcclxuICB9LCBbY10pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhZ2luYXRpb24tY29udHJvbFwiLCBcImRhdGEtbGstdXNlci1pbnRlcmFjdGlvblwiOiBzIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwibGstYnV0dG9uXCIsIG9uQ2xpY2s6IGEgfSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChpZSwgbnVsbCkpLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJsay1wYWdpbmF0aW9uLWNvdW50XCIgfSwgYCR7cn0gb2YgJHt0fWApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImxrLWJ1dHRvblwiLCBvbkNsaWNrOiBuIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoaWUsIG51bGwpKSk7XHJcbn1cclxuY29uc3QgX3QgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxyXG4gIGZ1bmN0aW9uKHsgdG90YWxQYWdlQ291bnQ6IG4sIGN1cnJlbnRQYWdlOiBhIH0sIHIpIHtcclxuICAgIGNvbnN0IGMgPSBuZXcgQXJyYXkobikuZmlsbChcIlwiKS5tYXAoKHMsIG8pID0+IG8gKyAxID09PSBhID8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBcImRhdGEtbGstYWN0aXZlXCI6ICEwLCBrZXk6IG8gfSkgOiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGtleTogbyB9KSk7XHJcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogciwgY2xhc3NOYW1lOiBcImxrLXBhZ2luYXRpb24taW5kaWNhdG9yXCIgfSwgYyk7XHJcbiAgfVxyXG4pO1xyXG5mdW5jdGlvbiB2YSh7IHRyYWNrczogdCwgLi4ubiB9KSB7XHJcbiAgY29uc3QgYSA9IGUuY3JlYXRlUmVmKCksIHIgPSBlLnVzZU1lbW8oXHJcbiAgICAoKSA9PiBTKG4sIHsgY2xhc3NOYW1lOiBcImxrLWdyaWQtbGF5b3V0XCIgfSksXHJcbiAgICBbbl1cclxuICApLCB7IGxheW91dDogYyB9ID0gJGUoYSwgdC5sZW5ndGgpLCBzID0gRGUoYy5tYXhUaWxlcywgdCk7XHJcbiAgcmV0dXJuIFVlKGEsIHtcclxuICAgIG9uTGVmdFN3aXBlOiBzLm5leHRQYWdlLFxyXG4gICAgb25SaWdodFN3aXBlOiBzLnByZXZQYWdlXHJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGEsIFwiZGF0YS1say1wYWdpbmF0aW9uXCI6IHMudG90YWxQYWdlQ291bnQgPiAxLCAuLi5yIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoSWUsIHsgdHJhY2tzOiBzLnRyYWNrcyB9LCBuLmNoaWxkcmVuKSwgdC5sZW5ndGggPiBjLm1heFRpbGVzICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICAgIF90LFxyXG4gICAge1xyXG4gICAgICB0b3RhbFBhZ2VDb3VudDogcy50b3RhbFBhZ2VDb3VudCxcclxuICAgICAgY3VycmVudFBhZ2U6IHMuY3VycmVudFBhZ2VcclxuICAgIH1cclxuICApLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGp0LCB7IHBhZ2VzQ29udGFpbmVyOiBhLCAuLi5zIH0pKSk7XHJcbn1cclxuY29uc3QgT3QgPSAxMzAsIFd0ID0gMTQwLCBtZSA9IDEsIHhlID0gMTYgLyAxMCwgcXQgPSAoMSAtIHhlKSAqIC0xO1xyXG5mdW5jdGlvbiBFYSh7IHRyYWNrczogdCwgb3JpZW50YXRpb246IG4sIC4uLmEgfSkge1xyXG4gIGNvbnN0IHIgPSBlLnVzZVJlZihudWxsKSwgW2MsIHNdID0gZS51c2VTdGF0ZSgwKSwgeyB3aWR0aDogbywgaGVpZ2h0OiBsIH0gPSBHZShyKSwgaSA9IG4gfHwgKGwgPj0gbyA/IFwidmVydGljYWxcIiA6IFwiaG9yaXpvbnRhbFwiKSwgdSA9IGkgPT09IFwidmVydGljYWxcIiA/IE1hdGgubWF4KG8gKiBxdCwgT3QpIDogTWF0aC5tYXgobCAqIHhlLCBXdCksIGQgPSBkdCgpLCBnID0gTWF0aC5tYXgoaSA9PT0gXCJ2ZXJ0aWNhbFwiID8gKGwgLSBkKSAvIHUgOiAobyAtIGQpIC8gdSwgbWUpO1xyXG4gIGxldCBmID0gTWF0aC5yb3VuZChnKTtcclxuICBNYXRoLmFicyhnIC0gYykgPCAwLjUgPyBmID0gTWF0aC5yb3VuZChjKSA6IGMgIT09IGcgJiYgcyhnKTtcclxuICBjb25zdCB3ID0gUWUodCwgZik7XHJcbiAgcmV0dXJuIGUudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcclxuICAgIHIuY3VycmVudCAmJiAoci5jdXJyZW50LmRhdGFzZXQubGtPcmllbnRhdGlvbiA9IGksIHIuY3VycmVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tbGstbWF4LXZpc2libGUtdGlsZXNcIiwgZi50b1N0cmluZygpKSk7XHJcbiAgfSwgW2YsIGldKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImFzaWRlXCIsIHsga2V5OiBpLCBjbGFzc05hbWU6IFwibGstY2Fyb3VzZWxcIiwgcmVmOiByLCAuLi5hIH0sIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoSWUsIHsgdHJhY2tzOiB3IH0sIGEuY2hpbGRyZW4pKTtcclxufVxyXG5mdW5jdGlvbiBwYSh7XHJcbiAgdmFsdWU6IHQsXHJcbiAgb25QaW5DaGFuZ2U6IG4sXHJcbiAgb25XaWRnZXRDaGFuZ2U6IGEsXHJcbiAgY2hpbGRyZW46IHJcclxufSkge1xyXG4gIGNvbnN0IGMgPSBtdCh0KTtcclxuICByZXR1cm4gZS51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgai5kZWJ1ZyhcIlBpblN0YXRlIFVwZGF0ZWRcIiwgeyBzdGF0ZTogYy5waW4uc3RhdGUgfSksIG4gJiYgYy5waW4uc3RhdGUgJiYgbihjLnBpbi5zdGF0ZSk7XHJcbiAgfSwgW2MucGluLnN0YXRlLCBuXSksIGUudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGouZGVidWcoXCJXaWRnZXQgVXBkYXRlZFwiLCB7IHdpZGdldFN0YXRlOiBjLndpZGdldC5zdGF0ZSB9KSwgYSAmJiBjLndpZGdldC5zdGF0ZSAmJiBhKGMud2lkZ2V0LnN0YXRlKTtcclxuICB9LCBbYSwgYy53aWRnZXQuc3RhdGVdKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChwZS5Qcm92aWRlciwgeyB2YWx1ZTogYyB9LCByKTtcclxufVxyXG5jb25zdCB3YSA9IC8qIEBfX1BVUkVfXyAqLyBlLmZvcndhcmRSZWYoXHJcbiAgZnVuY3Rpb24oeyB0cmFja1JlZjogbiwgLi4uYSB9LCByKSB7XHJcbiAgICBjb25zdCBkID0gXyhuKSwgZyA9IEVlKGQsIHsgYmFuZHM6IDcsIGxvUGFzczogMzAwIH0pO1xyXG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgIFwic3ZnXCIsXHJcbiAgICAgIHtcclxuICAgICAgICByZWY6IHIsXHJcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgdmlld0JveDogXCIwIDAgMjAwIDkwXCIsXHJcbiAgICAgICAgLi4uYSxcclxuICAgICAgICBjbGFzc05hbWU6IFwibGstYXVkaW8tdmlzdWFsaXplclwiXHJcbiAgICAgIH0sXHJcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJyZWN0XCIsIHsgeDogXCIwXCIsIHk6IFwiMFwiLCB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDAlXCIgfSksXHJcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgXCJnXCIsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7KDIwMCAtIDcgKiAxMCkgLyAyfXB4LCAwKWBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGcubWFwKChmLCB3KSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICAgXCJyZWN0XCIsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGtleTogdyxcclxuICAgICAgICAgICAgeDogdyAqIDEwLFxyXG4gICAgICAgICAgICB5OiA5MCAvIDIgLSBmICogNTAgLyAyLFxyXG4gICAgICAgICAgICB3aWR0aDogNixcclxuICAgICAgICAgICAgaGVpZ2h0OiBmICogNTBcclxuICAgICAgICAgIH1cclxuICAgICAgICApKVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuKTtcclxuZnVuY3Rpb24ga2EoeyBwYXJ0aWNpcGFudHM6IHQsIC4uLm4gfSkge1xyXG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIHQubWFwKChhKSA9PiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGtlLlByb3ZpZGVyLCB7IHZhbHVlOiBhLCBrZXk6IGEuaWRlbnRpdHkgfSwgZWUobi5jaGlsZHJlbikpKSk7XHJcbn1cclxuZnVuY3Rpb24gUmEoeyB2b2x1bWU6IHQsIG11dGVkOiBuIH0pIHtcclxuICBjb25zdCBhID0gWGUoXHJcbiAgICBbeS5Tb3VyY2UuTWljcm9waG9uZSwgeS5Tb3VyY2UuU2NyZWVuU2hhcmVBdWRpbywgeS5Tb3VyY2UuVW5rbm93bl0sXHJcbiAgICB7XHJcbiAgICAgIHVwZGF0ZU9ubHlPbjogW10sXHJcbiAgICAgIG9ubHlTdWJzY3JpYmVkOiAhMFxyXG4gICAgfVxyXG4gICkuZmlsdGVyKChyKSA9PiAhci5wYXJ0aWNpcGFudC5pc0xvY2FsICYmIHIucHVibGljYXRpb24ua2luZCA9PT0geS5LaW5kLkF1ZGlvKTtcclxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB7IGRpc3BsYXk6IFwibm9uZVwiIH0gfSwgYS5tYXAoKHIpID0+IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgICBuZSxcclxuICAgIHtcclxuICAgICAga2V5OiBSZShyKSxcclxuICAgICAgdHJhY2tSZWY6IHIsXHJcbiAgICAgIHZvbHVtZTogdCxcclxuICAgICAgbXV0ZWQ6IG5cclxuICAgIH1cclxuICApKSk7XHJcbn1cclxuY29uc3QgTWEgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKGZ1bmN0aW9uKHsgY2hpbGRyZW5Qb3NpdGlvbjogbiA9IFwiYmVmb3JlXCIsIGNoaWxkcmVuOiBhLCAuLi5yIH0sIGMpIHtcclxuICBjb25zdCB7IG5hbWU6IHMgfSA9IFllKCk7XHJcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgcmVmOiBjLCAuLi5yIH0sIG4gPT09IFwiYmVmb3JlXCIgJiYgYSwgcywgbiA9PT0gXCJhZnRlclwiICYmIGEpO1xyXG59KTtcclxuZnVuY3Rpb24gJHQodCkge1xyXG4gIGNvbnN0IG4gPSBlLnVzZU1lbW8oKCkgPT4gUyh0LCB7IGNsYXNzTmFtZTogXCJsay10b2FzdFwiIH0pLCBbdF0pO1xyXG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgLi4ubiB9LCB0LmNoaWxkcmVuKTtcclxufVxyXG5jb25zdCBEdCA9ICh0KSA9PiB7XHJcbiAgY29uc3QgbiA9IFtdO1xyXG4gIGZvciAobGV0IGEgPSAwOyBhIDwgdDsgYSsrKVxyXG4gICAgbi5wdXNoKFthLCB0IC0gMSAtIGFdKTtcclxuICByZXR1cm4gbjtcclxufSwgZmUgPSAodCkgPT4gW1tNYXRoLmZsb29yKHQgLyAyKV0sIFstMV1dLCBVdCA9ICh0LCBuLCBhKSA9PiB7XHJcbiAgY29uc3QgW3IsIGNdID0gQigwKSwgW3MsIG9dID0gQihbW11dKTtcclxuICB6KCgpID0+IHtcclxuICAgIGlmICh0ID09PSBcInRoaW5raW5nXCIpXHJcbiAgICAgIG8oZmUobikpO1xyXG4gICAgZWxzZSBpZiAodCA9PT0gXCJjb25uZWN0aW5nXCIgfHwgdCA9PT0gXCJpbml0aWFsaXppbmdcIikge1xyXG4gICAgICBjb25zdCBpID0gWy4uLkR0KG4pXTtcclxuICAgICAgbyhpKTtcclxuICAgIH0gZWxzZSBvKHQgPT09IFwibGlzdGVuaW5nXCIgPyBmZShuKSA6IHQgPT09IHZvaWQgMCB8fCB0ID09PSBcInNwZWFraW5nXCIgPyBbbmV3IEFycmF5KG4pLmZpbGwoMCkubWFwKChpLCB1KSA9PiB1KV0gOiBbW11dKTtcclxuICAgIGMoMCk7XHJcbiAgfSwgW3QsIG5dKTtcclxuICBjb25zdCBsID0gTChudWxsKTtcclxuICByZXR1cm4geigoKSA9PiB7XHJcbiAgICBsZXQgaSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgY29uc3QgdSA9IChkKSA9PiB7XHJcbiAgICAgIGQgLSBpID49IGEgJiYgKGMoKGYpID0+IGYgKyAxKSwgaSA9IGQpLCBsLmN1cnJlbnQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGwuY3VycmVudCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh1KSwgKCkgPT4ge1xyXG4gICAgICBsLmN1cnJlbnQgIT09IG51bGwgJiYgY2FuY2VsQW5pbWF0aW9uRnJhbWUobC5jdXJyZW50KTtcclxuICAgIH07XHJcbiAgfSwgW2EsIG4sIHQsIHMubGVuZ3RoXSksIHNbciAlIHMubGVuZ3RoXTtcclxufSwgR3QgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcChbXHJcbiAgW1wiY29ubmVjdGluZ1wiLCAyZTNdLFxyXG4gIFtcImluaXRpYWxpemluZ1wiLCAyZTNdLFxyXG4gIFtcImxpc3RlbmluZ1wiLCA1MDBdLFxyXG4gIFtcInRoaW5raW5nXCIsIDE1MF1cclxuXSksIFF0ID0gKHQsIG4pID0+IHtcclxuICBpZiAodCA9PT0gdm9pZCAwKVxyXG4gICAgcmV0dXJuIDFlMztcclxuICBsZXQgYSA9IEd0LmdldCh0KTtcclxuICBpZiAoYSlcclxuICAgIHN3aXRjaCAodCkge1xyXG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxyXG4gICAgICAgIGEgLz0gbjtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICByZXR1cm4gYTtcclxufSwgWHQgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxyXG4gIGZ1bmN0aW9uKHsgc3RhdGU6IG4sIG9wdGlvbnM6IGEsIGJhckNvdW50OiByID0gMTUsIHRyYWNrUmVmOiBjLCBjaGlsZHJlbjogcywgLi4ubyB9LCBsKSB7XHJcbiAgICBjb25zdCBpID0gUyhvLCB7IGNsYXNzTmFtZTogXCJsay1hdWRpby1iYXItdmlzdWFsaXplclwiIH0pO1xyXG4gICAgbGV0IHUgPSB0ZSgpO1xyXG4gICAgYyAmJiAodSA9IGMpO1xyXG4gICAgY29uc3QgZCA9IEVlKHUsIHtcclxuICAgICAgYmFuZHM6IHIsXHJcbiAgICAgIGxvUGFzczogMTAwLFxyXG4gICAgICBoaVBhc3M6IDIwMFxyXG4gICAgfSksIGcgPSAoYSA9PSBudWxsID8gdm9pZCAwIDogYS5taW5IZWlnaHQpID8/IDIwLCBmID0gKGEgPT0gbnVsbCA/IHZvaWQgMCA6IGEubWF4SGVpZ2h0KSA/PyAxMDAsIHcgPSBVdChcclxuICAgICAgbixcclxuICAgICAgcixcclxuICAgICAgUXQobiwgcikgPz8gMTAwXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGwsIC4uLmksIFwiZGF0YS1say12YS1zdGF0ZVwiOiBuIH0sIGQubWFwKFxyXG4gICAgICAocCwgbSkgPT4gcyA/IGVlKHMsIHtcclxuICAgICAgICBcImRhdGEtbGstaGlnaGxpZ2h0ZWRcIjogdy5pbmNsdWRlcyhtKSxcclxuICAgICAgICBcImRhdGEtbGstYmFyLWluZGV4XCI6IG0sXHJcbiAgICAgICAgY2xhc3NOYW1lOiBcImxrLWF1ZGlvLWJhclwiLFxyXG4gICAgICAgIHN0eWxlOiB7IGhlaWdodDogYCR7TWF0aC5taW4oZiwgTWF0aC5tYXgoZywgcCAqIDEwMCArIDUpKX0lYCB9XHJcbiAgICAgIH0pIDogLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcclxuICAgICAgICBcInNwYW5cIixcclxuICAgICAgICB7XHJcbiAgICAgICAgICBrZXk6IG0sXHJcbiAgICAgICAgICBcImRhdGEtbGstaGlnaGxpZ2h0ZWRcIjogdy5pbmNsdWRlcyhtKSxcclxuICAgICAgICAgIFwiZGF0YS1say1iYXItaW5kZXhcIjogbSxcclxuICAgICAgICAgIGNsYXNzTmFtZTogYGxrLWF1ZGlvLWJhciAke3cuaW5jbHVkZXMobSkgJiYgXCJsay1oaWdobGlnaHRlZFwifWAsXHJcbiAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAvLyBUT0RPIHRyYW5zZm9ybSBhbmltYXRpb25zIHdvdWxkIGJlIG1vcmUgcGVyZm9ybWFudCwgaG93ZXZlciB0aGUgYm9yZGVyLXJhZGl1cyBnZXRzIGRpc3RvcnRlZCB3aGVuIHVzaW5nIHNjYWxlIHRyYW5zZm9ybXMuIGEgOS1zbGljZSBhcHByb2FjaCAob3IgMyBpbiB0aGlzIGNhc2UpIGNvdWxkIHdvcmtcclxuICAgICAgICAgICAgLy8gdHJhbnNmb3JtOiBgc2NhbGUoMSwgJHtNYXRoLm1pbihtYXhIZWlnaHQsIE1hdGgubWF4KG1pbkhlaWdodCwgdm9sdW1lKSl9YCxcclxuICAgICAgICAgICAgaGVpZ2h0OiBgJHtNYXRoLm1pbihmLCBNYXRoLm1heChnLCBwICogMTAwICsgNSkpfSVgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICApKTtcclxuICB9XHJcbiksIHlhID0gLyogQF9fUFVSRV9fICovIGUuZm9yd2FyZFJlZihcclxuICBmdW5jdGlvbih7XHJcbiAgICBjaGlsZHJlbjogbixcclxuICAgIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogYSxcclxuICAgIG9uUGFydGljaXBhbnRDbGljazogcixcclxuICAgIHRyYWNrUmVmOiBjLFxyXG4gICAgLi4uc1xyXG4gIH0sIG8pIHtcclxuICAgIGNvbnN0IGwgPSBfKGMpLCB7IGVsZW1lbnRQcm9wczogaSB9ID0gdmUoe1xyXG4gICAgICB0cmFja1JlZjogbCxcclxuICAgICAgaHRtbFByb3BzOiBzLFxyXG4gICAgICBkaXNhYmxlU3BlYWtpbmdJbmRpY2F0b3I6IGEsXHJcbiAgICAgIG9uUGFydGljaXBhbnRDbGljazogclxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogbywgc3R5bGU6IHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiwgbWluSGVpZ2h0OiBcIjE2MHB4XCIgfSwgLi4uaSB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGFlLlByb3ZpZGVyLCB7IHZhbHVlOiBsIH0sIG4gPz8gLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCAkKGwpICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQobmUsIHsgdHJhY2tSZWY6IGwgfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoWHQsIHsgYmFyQ291bnQ6IDcsIG9wdGlvbnM6IHsgbWluSGVpZ2h0OiA4IH0gfSksIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbWV0YWRhdGFcIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImxrLXBhcnRpY2lwYW50LW1ldGFkYXRhLWl0ZW1cIiB9LCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFNlLCB7IHRyYWNrUmVmOiBsIH0pLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KEssIG51bGwpKSwgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChiZSwgeyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbWV0YWRhdGEtaXRlbVwiIH0pKSkpKTtcclxuICB9XHJcbik7XHJcbmZ1bmN0aW9uIGJhKHQpIHtcclxuICBjb25zdCBbbiwgYV0gPSBlLnVzZVN0YXRlKHZvaWQgMCksIHIgPSBoZSh0LnJvb20pO1xyXG4gIHJldHVybiBlLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHIpIHtcclxuICAgICAgY2FzZSBYLlJlY29ubmVjdGluZzpcclxuICAgICAgICBhKFxyXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChlLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KG9lLCB7IGNsYXNzTmFtZTogXCJsay1zcGlubmVyXCIgfSksIFwiIFJlY29ubmVjdGluZ1wiKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgWC5Db25uZWN0aW5nOlxyXG4gICAgICAgIGEoXHJcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQob2UsIHsgY2xhc3NOYW1lOiBcImxrLXNwaW5uZXJcIiB9KSwgXCIgQ29ubmVjdGluZ1wiKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgWC5EaXNjb25uZWN0ZWQ6XHJcbiAgICAgICAgYSgvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KGUuRnJhZ21lbnQsIG51bGwsIFwiRGlzY29ubmVjdGVkXCIpKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBhKHZvaWQgMCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfSwgW3JdKSwgbiA/IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoJHQsIHsgY2xhc3NOYW1lOiBcImxrLXRvYXN0LWNvbm5lY3Rpb24tc3RhdGVcIiB9LCBuKSA6IC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoZS5GcmFnbWVudCwgbnVsbCk7XHJcbn1cclxuY29uc3QgU2EgPSAvKiBAX19QVVJFX18gKi8gZS5mb3J3YXJkUmVmKFxyXG4gIGZ1bmN0aW9uKHsgZW50cnk6IG4sIGhpZGVOYW1lOiBhID0gITEsIGhpZGVUaW1lc3RhbXA6IHIgPSAhMSwgbWVzc2FnZUZvcm1hdHRlcjogYywgLi4ucyB9LCBvKSB7XHJcbiAgICB2YXIgZiwgdywgcCwgbTtcclxuICAgIGNvbnN0IGwgPSBlLnVzZU1lbW8oKCkgPT4gYyA/IGMobi5tZXNzYWdlKSA6IG4ubWVzc2FnZSwgW24ubWVzc2FnZSwgY10pLCBpID0gISFuLmVkaXRUaW1lc3RhbXAsIHUgPSBuZXcgRGF0ZShuLnRpbWVzdGFtcCksIGQgPSB0eXBlb2YgbmF2aWdhdG9yIDwgXCJ1XCIgPyBuYXZpZ2F0b3IubGFuZ3VhZ2UgOiBcImVuLVVTXCIsIGcgPSAoKGYgPSBuLmZyb20pID09IG51bGwgPyB2b2lkIDAgOiBmLm5hbWUpID8/ICgodyA9IG4uZnJvbSkgPT0gbnVsbCA/IHZvaWQgMCA6IHcuaWRlbnRpdHkpO1xyXG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgIFwibGlcIixcclxuICAgICAge1xyXG4gICAgICAgIHJlZjogbyxcclxuICAgICAgICBjbGFzc05hbWU6IFwibGstY2hhdC1lbnRyeVwiLFxyXG4gICAgICAgIHRpdGxlOiB1LnRvTG9jYWxlVGltZVN0cmluZyhkLCB7IHRpbWVTdHlsZTogXCJmdWxsXCIgfSksXHJcbiAgICAgICAgXCJkYXRhLWxrLW1lc3NhZ2Utb3JpZ2luXCI6IChwID0gbi5mcm9tKSAhPSBudWxsICYmIHAuaXNMb2NhbCA/IFwibG9jYWxcIiA6IFwicmVtb3RlXCIsXHJcbiAgICAgICAgLi4uc1xyXG4gICAgICB9LFxyXG4gICAgICAoIXIgfHwgIWEgfHwgaSkgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwibGstbWV0YS1kYXRhXCIgfSwgIWEgJiYgLyogQF9fUFVSRV9fICovIGUuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCB7IGNsYXNzTmFtZTogXCJsay1wYXJ0aWNpcGFudC1uYW1lXCIgfSwgZyksICghciB8fCBpKSAmJiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJsay10aW1lc3RhbXBcIiB9LCBpICYmIFwiZWRpdGVkIFwiLCB1LnRvTG9jYWxlVGltZVN0cmluZyhkLCB7IHRpbWVTdHlsZTogXCJzaG9ydFwiIH0pKSksXHJcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImxrLW1lc3NhZ2UtYm9keVwiIH0sIGwpLFxyXG4gICAgICAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJsay1tZXNzYWdlLWF0dGFjaGVtZW50c1wiIH0sIChtID0gbi5hdHRhY2hlZEZpbGVzKSA9PSBudWxsID8gdm9pZCAwIDogbS5tYXAoXHJcbiAgICAgICAgKHYpID0+IHYudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpICYmIC8qIEBfX1BVUkVfXyAqLyBlLmNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICBcImltZ1wiLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBzdHlsZTogeyBtYXhXaWR0aDogXCIzMDBweFwiLCBtYXhIZWlnaHQ6IFwiMzAwcHhcIiB9LFxyXG4gICAgICAgICAgICBrZXk6IHYubmFtZSxcclxuICAgICAgICAgICAgc3JjOiBVUkwuY3JlYXRlT2JqZWN0VVJMKHYpLFxyXG4gICAgICAgICAgICBhbHQ6IHYubmFtZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgKSlcclxuICAgICk7XHJcbiAgfVxyXG4pO1xyXG5mdW5jdGlvbiBDYSh0KSB7XHJcbiAgcmV0dXJuIGZ0KHQsIGh0KCkpLm1hcCgobiwgYSkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBuID09IFwic3RyaW5nXCIpXHJcbiAgICAgIHJldHVybiBuO1xyXG4gICAge1xyXG4gICAgICBjb25zdCByID0gbi5jb250ZW50LnRvU3RyaW5nKCksIGMgPSBuLnR5cGUgPT09IFwidXJsXCIgPyAvXmh0dHAocz8pOlxcL1xcLy8udGVzdChyKSA/IHIgOiBgaHR0cHM6Ly8ke3J9YCA6IGBtYWlsdG86JHtyfWA7XHJcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gZS5jcmVhdGVFbGVtZW50KFwiYVwiLCB7IGNsYXNzTmFtZTogXCJsay1jaGF0LWxpbmtcIiwga2V5OiBhLCBocmVmOiBjLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIHJlbDogXCJub3JlZmVycmVyXCIgfSwgcik7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuZXhwb3J0IHtcclxuICB3YSBhcyBBLFxyXG4gIFh0IGFzIEIsXHJcbiAgcmEgYXMgQyxcclxuICBjYSBhcyBELFxyXG4gIHZ0IGFzIEUsXHJcbiAgaGEgYXMgRixcclxuICB2YSBhcyBHLFxyXG4gIGllIGFzIEgsXHJcbiAgRXQgYXMgSSxcclxuICBwdCBhcyBKLFxyXG4gIHd0IGFzIEssXHJcbiAgcGEgYXMgTCxcclxuICB1YSBhcyBNLFxyXG4gIGt0IGFzIE4sXHJcbiAgUnQgYXMgTyxcclxuICBCdCBhcyBQLFxyXG4gIE10IGFzIFEsXHJcbiAgUmEgYXMgUixcclxuICBsYSBhcyBTLFxyXG4gIGZhIGFzIFQsXHJcbiAgeXQgYXMgVSxcclxuICBGdCBhcyBWLFxyXG4gIGJ0IGFzIFcsXHJcbiAgTWUgYXMgWCxcclxuICBTdCBhcyBZLFxyXG4gIG9lIGFzIFosXHJcbiAgQ3QgYXMgXyxcclxuICBTYSBhcyBhLFxyXG4gIFB0IGFzIGIsXHJcbiAgc2EgYXMgYyxcclxuICBpYSBhcyBkLFxyXG4gIG9hIGFzIGUsXHJcbiAgbWEgYXMgZixcclxuICBFYSBhcyBnLFxyXG4gIGdhIGFzIGgsXHJcbiAgYmEgYXMgaSxcclxuICBJZSBhcyBqLFxyXG4gIHlhIGFzIGssXHJcbiAgJHQgYXMgbCxcclxuICBDYSBhcyBtLFxyXG4gIGFhIGFzIG4sXHJcbiAgbmEgYXMgbyxcclxuICBJdCBhcyBwLFxyXG4gIGRhIGFzIHEsXHJcbiAgYmUgYXMgcixcclxuICBuZSBhcyBzLFxyXG4gIEsgYXMgdCxcclxuICBTZSBhcyB1LFxyXG4gIGthIGFzIHYsXHJcbiAgTWEgYXMgdyxcclxuICBadCBhcyB4LFxyXG4gIEh0IGFzIHksXHJcbiAgZ3QgYXMgelxyXG59O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnRzLUJlSzJ2SWliLm1qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/dist/components-BeK2vIib.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/dist/contexts-Cm1aSBTs.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/dist/contexts-Cm1aSBTs.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ Is),\n/* harmony export */   A: () => (/* binding */ Xo),\n/* harmony export */   B: () => (/* binding */ Lo),\n/* harmony export */   C: () => (/* binding */ lo),\n/* harmony export */   D: () => (/* binding */ ys),\n/* harmony export */   E: () => (/* binding */ as),\n/* harmony export */   F: () => (/* binding */ $s),\n/* harmony export */   G: () => (/* binding */ zo),\n/* harmony export */   H: () => (/* binding */ cs),\n/* harmony export */   I: () => (/* binding */ ls),\n/* harmony export */   J: () => (/* binding */ ts),\n/* harmony export */   K: () => (/* binding */ ns),\n/* harmony export */   L: () => (/* binding */ Io),\n/* harmony export */   M: () => (/* binding */ Jo),\n/* harmony export */   N: () => (/* binding */ xs),\n/* harmony export */   O: () => (/* binding */ Ss),\n/* harmony export */   P: () => (/* binding */ Ts),\n/* harmony export */   Q: () => (/* binding */ gs),\n/* harmony export */   R: () => (/* binding */ Wn),\n/* harmony export */   S: () => (/* binding */ ds),\n/* harmony export */   T: () => (/* binding */ ps),\n/* harmony export */   U: () => (/* binding */ Ki),\n/* harmony export */   V: () => (/* binding */ As),\n/* harmony export */   W: () => (/* binding */ Go),\n/* harmony export */   X: () => (/* binding */ Bt),\n/* harmony export */   Y: () => (/* binding */ Zo),\n/* harmony export */   Z: () => (/* binding */ ws),\n/* harmony export */   _: () => (/* binding */ Rs),\n/* harmony export */   a: () => (/* binding */ Ds),\n/* harmony export */   a0: () => (/* binding */ is),\n/* harmony export */   a1: () => (/* binding */ j),\n/* harmony export */   a2: () => (/* binding */ Os),\n/* harmony export */   a3: () => (/* binding */ Ls),\n/* harmony export */   a4: () => (/* binding */ ks),\n/* harmony export */   a5: () => (/* binding */ Ko),\n/* harmony export */   a6: () => (/* binding */ qo),\n/* harmony export */   a7: () => (/* binding */ fs),\n/* harmony export */   a8: () => (/* binding */ os),\n/* harmony export */   a9: () => (/* binding */ Ms),\n/* harmony export */   aa: () => (/* binding */ ho),\n/* harmony export */   ab: () => (/* binding */ Un),\n/* harmony export */   ac: () => (/* binding */ Nn),\n/* harmony export */   ad: () => (/* binding */ bs),\n/* harmony export */   ae: () => (/* binding */ Mo),\n/* harmony export */   af: () => (/* binding */ Ar),\n/* harmony export */   ag: () => (/* binding */ jn),\n/* harmony export */   ah: () => (/* binding */ Fn),\n/* harmony export */   ai: () => (/* binding */ zs),\n/* harmony export */   aj: () => (/* binding */ _s),\n/* harmony export */   ak: () => (/* binding */ No),\n/* harmony export */   al: () => (/* binding */ Fs),\n/* harmony export */   am: () => (/* binding */ Bo),\n/* harmony export */   an: () => (/* binding */ Wo),\n/* harmony export */   ao: () => (/* binding */ Uo),\n/* harmony export */   ap: () => (/* binding */ jo),\n/* harmony export */   aq: () => (/* binding */ Yo),\n/* harmony export */   ar: () => (/* binding */ Ns),\n/* harmony export */   as: () => (/* binding */ Do),\n/* harmony export */   at: () => (/* binding */ Fo),\n/* harmony export */   au: () => (/* binding */ Vo),\n/* harmony export */   av: () => (/* binding */ Ho),\n/* harmony export */   aw: () => (/* binding */ Ws),\n/* harmony export */   ax: () => (/* binding */ Us),\n/* harmony export */   b: () => (/* binding */ Cs),\n/* harmony export */   c: () => (/* binding */ Bs),\n/* harmony export */   d: () => (/* binding */ ms),\n/* harmony export */   e: () => (/* binding */ es),\n/* harmony export */   f: () => (/* binding */ Vs),\n/* harmony export */   g: () => (/* binding */ mo),\n/* harmony export */   h: () => (/* binding */ vs),\n/* harmony export */   i: () => (/* binding */ js),\n/* harmony export */   j: () => (/* binding */ ko),\n/* harmony export */   k: () => (/* binding */ Es),\n/* harmony export */   l: () => (/* binding */ _),\n/* harmony export */   m: () => (/* binding */ $o),\n/* harmony export */   n: () => (/* binding */ Yi),\n/* harmony export */   o: () => (/* binding */ po),\n/* harmony export */   p: () => (/* binding */ N),\n/* harmony export */   q: () => (/* binding */ ss),\n/* harmony export */   r: () => (/* binding */ ao),\n/* harmony export */   s: () => (/* binding */ Ps),\n/* harmony export */   t: () => (/* binding */ In),\n/* harmony export */   u: () => (/* binding */ Hs),\n/* harmony export */   v: () => (/* binding */ us),\n/* harmony export */   w: () => (/* binding */ _o),\n/* harmony export */   x: () => (/* binding */ rs),\n/* harmony export */   y: () => (/* binding */ hs),\n/* harmony export */   z: () => (/* binding */ Qo)\n/* harmony export */ });\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\r\n\r\nconst De = Math.min, se = Math.max, $e = Math.round, Le = Math.floor, G = (e) => ({\r\n  x: e,\r\n  y: e\r\n}), Yn = {\r\n  left: \"right\",\r\n  right: \"left\",\r\n  bottom: \"top\",\r\n  top: \"bottom\"\r\n}, qn = {\r\n  start: \"end\",\r\n  end: \"start\"\r\n};\r\nfunction Et(e, t, n) {\r\n  return se(e, De(t, n));\r\n}\r\nfunction He(e, t) {\r\n  return typeof e == \"function\" ? e(t) : e;\r\n}\r\nfunction ae(e) {\r\n  return e.split(\"-\")[0];\r\n}\r\nfunction ze(e) {\r\n  return e.split(\"-\")[1];\r\n}\r\nfunction qt(e) {\r\n  return e === \"x\" ? \"y\" : \"x\";\r\n}\r\nfunction Kt(e) {\r\n  return e === \"y\" ? \"height\" : \"width\";\r\n}\r\nfunction he(e) {\r\n  return [\"top\", \"bottom\"].includes(ae(e)) ? \"y\" : \"x\";\r\n}\r\nfunction Gt(e) {\r\n  return qt(he(e));\r\n}\r\nfunction Kn(e, t, n) {\r\n  n === void 0 && (n = !1);\r\n  const r = ze(e), i = Gt(e), o = Kt(i);\r\n  let s = i === \"x\" ? r === (n ? \"end\" : \"start\") ? \"right\" : \"left\" : r === \"start\" ? \"bottom\" : \"top\";\r\n  return t.reference[o] > t.floating[o] && (s = Ne(s)), [s, Ne(s)];\r\n}\r\nfunction Gn(e) {\r\n  const t = Ne(e);\r\n  return [it(e), t, it(t)];\r\n}\r\nfunction it(e) {\r\n  return e.replace(/start|end/g, (t) => qn[t]);\r\n}\r\nfunction Qn(e, t, n) {\r\n  const r = [\"left\", \"right\"], i = [\"right\", \"left\"], o = [\"top\", \"bottom\"], s = [\"bottom\", \"top\"];\r\n  switch (e) {\r\n    case \"top\":\r\n    case \"bottom\":\r\n      return n ? t ? i : r : t ? r : i;\r\n    case \"left\":\r\n    case \"right\":\r\n      return t ? o : s;\r\n    default:\r\n      return [];\r\n  }\r\n}\r\nfunction Jn(e, t, n, r) {\r\n  const i = ze(e);\r\n  let o = Qn(ae(e), n === \"start\", r);\r\n  return i && (o = o.map((s) => s + \"-\" + i), t && (o = o.concat(o.map(it)))), o;\r\n}\r\nfunction Ne(e) {\r\n  return e.replace(/left|right|bottom|top/g, (t) => Yn[t]);\r\n}\r\nfunction Xn(e) {\r\n  return {\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    ...e\r\n  };\r\n}\r\nfunction Zn(e) {\r\n  return typeof e != \"number\" ? Xn(e) : {\r\n    top: e,\r\n    right: e,\r\n    bottom: e,\r\n    left: e\r\n  };\r\n}\r\nfunction Fe(e) {\r\n  const {\r\n    x: t,\r\n    y: n,\r\n    width: r,\r\n    height: i\r\n  } = e;\r\n  return {\r\n    width: r,\r\n    height: i,\r\n    top: n,\r\n    left: t,\r\n    right: t + r,\r\n    bottom: n + i,\r\n    x: t,\r\n    y: n\r\n  };\r\n}\r\nfunction Ct(e, t, n) {\r\n  let {\r\n    reference: r,\r\n    floating: i\r\n  } = e;\r\n  const o = he(t), s = Gt(t), a = Kt(s), c = ae(t), u = o === \"y\", l = r.x + r.width / 2 - i.width / 2, f = r.y + r.height / 2 - i.height / 2, v = r[a] / 2 - i[a] / 2;\r\n  let d;\r\n  switch (c) {\r\n    case \"top\":\r\n      d = {\r\n        x: l,\r\n        y: r.y - i.height\r\n      };\r\n      break;\r\n    case \"bottom\":\r\n      d = {\r\n        x: l,\r\n        y: r.y + r.height\r\n      };\r\n      break;\r\n    case \"right\":\r\n      d = {\r\n        x: r.x + r.width,\r\n        y: f\r\n      };\r\n      break;\r\n    case \"left\":\r\n      d = {\r\n        x: r.x - i.width,\r\n        y: f\r\n      };\r\n      break;\r\n    default:\r\n      d = {\r\n        x: r.x,\r\n        y: r.y\r\n      };\r\n  }\r\n  switch (ze(t)) {\r\n    case \"start\":\r\n      d[s] -= v * (n && u ? -1 : 1);\r\n      break;\r\n    case \"end\":\r\n      d[s] += v * (n && u ? -1 : 1);\r\n      break;\r\n  }\r\n  return d;\r\n}\r\nconst er = async (e, t, n) => {\r\n  const {\r\n    placement: r = \"bottom\",\r\n    strategy: i = \"absolute\",\r\n    middleware: o = [],\r\n    platform: s\r\n  } = n, a = o.filter(Boolean), c = await (s.isRTL == null ? void 0 : s.isRTL(t));\r\n  let u = await s.getElementRects({\r\n    reference: e,\r\n    floating: t,\r\n    strategy: i\r\n  }), {\r\n    x: l,\r\n    y: f\r\n  } = Ct(u, r, c), v = r, d = {}, m = 0;\r\n  for (let p = 0; p < a.length; p++) {\r\n    const {\r\n      name: g,\r\n      fn: h\r\n    } = a[p], {\r\n      x,\r\n      y: E,\r\n      data: P,\r\n      reset: b\r\n    } = await h({\r\n      x: l,\r\n      y: f,\r\n      initialPlacement: r,\r\n      placement: v,\r\n      strategy: i,\r\n      middlewareData: d,\r\n      rects: u,\r\n      platform: s,\r\n      elements: {\r\n        reference: e,\r\n        floating: t\r\n      }\r\n    });\r\n    l = x ?? l, f = E ?? f, d = {\r\n      ...d,\r\n      [g]: {\r\n        ...d[g],\r\n        ...P\r\n      }\r\n    }, b && m <= 50 && (m++, typeof b == \"object\" && (b.placement && (v = b.placement), b.rects && (u = b.rects === !0 ? await s.getElementRects({\r\n      reference: e,\r\n      floating: t,\r\n      strategy: i\r\n    }) : b.rects), {\r\n      x: l,\r\n      y: f\r\n    } = Ct(u, v, c)), p = -1);\r\n  }\r\n  return {\r\n    x: l,\r\n    y: f,\r\n    placement: v,\r\n    strategy: i,\r\n    middlewareData: d\r\n  };\r\n};\r\nasync function Qt(e, t) {\r\n  var n;\r\n  t === void 0 && (t = {});\r\n  const {\r\n    x: r,\r\n    y: i,\r\n    platform: o,\r\n    rects: s,\r\n    elements: a,\r\n    strategy: c\r\n  } = e, {\r\n    boundary: u = \"clippingAncestors\",\r\n    rootBoundary: l = \"viewport\",\r\n    elementContext: f = \"floating\",\r\n    altBoundary: v = !1,\r\n    padding: d = 0\r\n  } = He(t, e), m = Zn(d), g = a[v ? f === \"floating\" ? \"reference\" : \"floating\" : f], h = Fe(await o.getClippingRect({\r\n    element: (n = await (o.isElement == null ? void 0 : o.isElement(g))) == null || n ? g : g.contextElement || await (o.getDocumentElement == null ? void 0 : o.getDocumentElement(a.floating)),\r\n    boundary: u,\r\n    rootBoundary: l,\r\n    strategy: c\r\n  })), x = f === \"floating\" ? {\r\n    x: r,\r\n    y: i,\r\n    width: s.floating.width,\r\n    height: s.floating.height\r\n  } : s.reference, E = await (o.getOffsetParent == null ? void 0 : o.getOffsetParent(a.floating)), P = await (o.isElement == null ? void 0 : o.isElement(E)) ? await (o.getScale == null ? void 0 : o.getScale(E)) || {\r\n    x: 1,\r\n    y: 1\r\n  } : {\r\n    x: 1,\r\n    y: 1\r\n  }, b = Fe(o.convertOffsetParentRelativeRectToViewportRelativeRect ? await o.convertOffsetParentRelativeRectToViewportRelativeRect({\r\n    elements: a,\r\n    rect: x,\r\n    offsetParent: E,\r\n    strategy: c\r\n  }) : x);\r\n  return {\r\n    top: (h.top - b.top + m.top) / P.y,\r\n    bottom: (b.bottom - h.bottom + m.bottom) / P.y,\r\n    left: (h.left - b.left + m.left) / P.x,\r\n    right: (b.right - h.right + m.right) / P.x\r\n  };\r\n}\r\nconst tr = function(e) {\r\n  return e === void 0 && (e = {}), {\r\n    name: \"flip\",\r\n    options: e,\r\n    async fn(t) {\r\n      var n, r;\r\n      const {\r\n        placement: i,\r\n        middlewareData: o,\r\n        rects: s,\r\n        initialPlacement: a,\r\n        platform: c,\r\n        elements: u\r\n      } = t, {\r\n        mainAxis: l = !0,\r\n        crossAxis: f = !0,\r\n        fallbackPlacements: v,\r\n        fallbackStrategy: d = \"bestFit\",\r\n        fallbackAxisSideDirection: m = \"none\",\r\n        flipAlignment: p = !0,\r\n        ...g\r\n      } = He(e, t);\r\n      if ((n = o.arrow) != null && n.alignmentOffset)\r\n        return {};\r\n      const h = ae(i), x = he(a), E = ae(a) === a, P = await (c.isRTL == null ? void 0 : c.isRTL(u.floating)), b = v || (E || !p ? [Ne(a)] : Gn(a)), S = m !== \"none\";\r\n      !v && S && b.push(...Jn(a, p, m, P));\r\n      const C = [a, ...b], $ = await Qt(t, g), I = [];\r\n      let z = ((r = o.flip) == null ? void 0 : r.overflows) || [];\r\n      if (l && I.push($[h]), f) {\r\n        const K = Kn(i, s, P);\r\n        I.push($[K[0]], $[K[1]]);\r\n      }\r\n      if (z = [...z, {\r\n        placement: i,\r\n        overflows: I\r\n      }], !I.every((K) => K <= 0)) {\r\n        var T, L;\r\n        const K = (((T = o.flip) == null ? void 0 : T.index) || 0) + 1, ke = C[K];\r\n        if (ke)\r\n          return {\r\n            data: {\r\n              index: K,\r\n              overflows: z\r\n            },\r\n            reset: {\r\n              placement: ke\r\n            }\r\n          };\r\n        let xe = (L = z.filter((fe) => fe.overflows[0] <= 0).sort((fe, te) => fe.overflows[1] - te.overflows[1])[0]) == null ? void 0 : L.placement;\r\n        if (!xe)\r\n          switch (d) {\r\n            case \"bestFit\": {\r\n              var oe;\r\n              const fe = (oe = z.filter((te) => {\r\n                if (S) {\r\n                  const ne = he(te.placement);\r\n                  return ne === x || // Create a bias to the `y` side axis due to horizontal\r\n                  // reading directions favoring greater width.\r\n                  ne === \"y\";\r\n                }\r\n                return !0;\r\n              }).map((te) => [te.placement, te.overflows.filter((ne) => ne > 0).reduce((ne, Bn) => ne + Bn, 0)]).sort((te, ne) => te[1] - ne[1])[0]) == null ? void 0 : oe[0];\r\n              fe && (xe = fe);\r\n              break;\r\n            }\r\n            case \"initialPlacement\":\r\n              xe = a;\r\n              break;\r\n          }\r\n        if (i !== xe)\r\n          return {\r\n            reset: {\r\n              placement: xe\r\n            }\r\n          };\r\n      }\r\n      return {};\r\n    }\r\n  };\r\n};\r\nasync function nr(e, t) {\r\n  const {\r\n    placement: n,\r\n    platform: r,\r\n    elements: i\r\n  } = e, o = await (r.isRTL == null ? void 0 : r.isRTL(i.floating)), s = ae(n), a = ze(n), c = he(n) === \"y\", u = [\"left\", \"top\"].includes(s) ? -1 : 1, l = o && c ? -1 : 1, f = He(t, e);\r\n  let {\r\n    mainAxis: v,\r\n    crossAxis: d,\r\n    alignmentAxis: m\r\n  } = typeof f == \"number\" ? {\r\n    mainAxis: f,\r\n    crossAxis: 0,\r\n    alignmentAxis: null\r\n  } : {\r\n    mainAxis: f.mainAxis || 0,\r\n    crossAxis: f.crossAxis || 0,\r\n    alignmentAxis: f.alignmentAxis\r\n  };\r\n  return a && typeof m == \"number\" && (d = a === \"end\" ? m * -1 : m), c ? {\r\n    x: d * l,\r\n    y: v * u\r\n  } : {\r\n    x: v * u,\r\n    y: d * l\r\n  };\r\n}\r\nconst rr = function(e) {\r\n  return e === void 0 && (e = 0), {\r\n    name: \"offset\",\r\n    options: e,\r\n    async fn(t) {\r\n      var n, r;\r\n      const {\r\n        x: i,\r\n        y: o,\r\n        placement: s,\r\n        middlewareData: a\r\n      } = t, c = await nr(t, e);\r\n      return s === ((n = a.offset) == null ? void 0 : n.placement) && (r = a.arrow) != null && r.alignmentOffset ? {} : {\r\n        x: i + c.x,\r\n        y: o + c.y,\r\n        data: {\r\n          ...c,\r\n          placement: s\r\n        }\r\n      };\r\n    }\r\n  };\r\n}, ir = function(e) {\r\n  return e === void 0 && (e = {}), {\r\n    name: \"shift\",\r\n    options: e,\r\n    async fn(t) {\r\n      const {\r\n        x: n,\r\n        y: r,\r\n        placement: i\r\n      } = t, {\r\n        mainAxis: o = !0,\r\n        crossAxis: s = !1,\r\n        limiter: a = {\r\n          fn: (g) => {\r\n            let {\r\n              x: h,\r\n              y: x\r\n            } = g;\r\n            return {\r\n              x: h,\r\n              y: x\r\n            };\r\n          }\r\n        },\r\n        ...c\r\n      } = He(e, t), u = {\r\n        x: n,\r\n        y: r\r\n      }, l = await Qt(t, c), f = he(ae(i)), v = qt(f);\r\n      let d = u[v], m = u[f];\r\n      if (o) {\r\n        const g = v === \"y\" ? \"top\" : \"left\", h = v === \"y\" ? \"bottom\" : \"right\", x = d + l[g], E = d - l[h];\r\n        d = Et(x, d, E);\r\n      }\r\n      if (s) {\r\n        const g = f === \"y\" ? \"top\" : \"left\", h = f === \"y\" ? \"bottom\" : \"right\", x = m + l[g], E = m - l[h];\r\n        m = Et(x, m, E);\r\n      }\r\n      const p = a.fn({\r\n        ...t,\r\n        [v]: d,\r\n        [f]: m\r\n      });\r\n      return {\r\n        ...p,\r\n        data: {\r\n          x: p.x - n,\r\n          y: p.y - r,\r\n          enabled: {\r\n            [v]: o,\r\n            [f]: s\r\n          }\r\n        }\r\n      };\r\n    }\r\n  };\r\n};\r\nfunction Ye() {\r\n  return typeof window < \"u\";\r\n}\r\nfunction be(e) {\r\n  return Jt(e) ? (e.nodeName || \"\").toLowerCase() : \"#document\";\r\n}\r\nfunction U(e) {\r\n  var t;\r\n  return (e == null || (t = e.ownerDocument) == null ? void 0 : t.defaultView) || window;\r\n}\r\nfunction J(e) {\r\n  var t;\r\n  return (t = (Jt(e) ? e.ownerDocument : e.document) || window.document) == null ? void 0 : t.documentElement;\r\n}\r\nfunction Jt(e) {\r\n  return Ye() ? e instanceof Node || e instanceof U(e).Node : !1;\r\n}\r\nfunction Y(e) {\r\n  return Ye() ? e instanceof Element || e instanceof U(e).Element : !1;\r\n}\r\nfunction Q(e) {\r\n  return Ye() ? e instanceof HTMLElement || e instanceof U(e).HTMLElement : !1;\r\n}\r\nfunction Pt(e) {\r\n  return !Ye() || typeof ShadowRoot > \"u\" ? !1 : e instanceof ShadowRoot || e instanceof U(e).ShadowRoot;\r\n}\r\nfunction Ae(e) {\r\n  const {\r\n    overflow: t,\r\n    overflowX: n,\r\n    overflowY: r,\r\n    display: i\r\n  } = q(e);\r\n  return /auto|scroll|overlay|hidden|clip/.test(t + r + n) && ![\"inline\", \"contents\"].includes(i);\r\n}\r\nfunction or(e) {\r\n  return [\"table\", \"td\", \"th\"].includes(be(e));\r\n}\r\nfunction qe(e) {\r\n  return [\":popover-open\", \":modal\"].some((t) => {\r\n    try {\r\n      return e.matches(t);\r\n    } catch {\r\n      return !1;\r\n    }\r\n  });\r\n}\r\nfunction ft(e) {\r\n  const t = dt(), n = Y(e) ? q(e) : e;\r\n  return [\"transform\", \"translate\", \"scale\", \"rotate\", \"perspective\"].some((r) => n[r] ? n[r] !== \"none\" : !1) || (n.containerType ? n.containerType !== \"normal\" : !1) || !t && (n.backdropFilter ? n.backdropFilter !== \"none\" : !1) || !t && (n.filter ? n.filter !== \"none\" : !1) || [\"transform\", \"translate\", \"scale\", \"rotate\", \"perspective\", \"filter\"].some((r) => (n.willChange || \"\").includes(r)) || [\"paint\", \"layout\", \"strict\", \"content\"].some((r) => (n.contain || \"\").includes(r));\r\n}\r\nfunction sr(e) {\r\n  let t = ie(e);\r\n  for (; Q(t) && !ve(t); ) {\r\n    if (ft(t))\r\n      return t;\r\n    if (qe(t))\r\n      return null;\r\n    t = ie(t);\r\n  }\r\n  return null;\r\n}\r\nfunction dt() {\r\n  return typeof CSS > \"u\" || !CSS.supports ? !1 : CSS.supports(\"-webkit-backdrop-filter\", \"none\");\r\n}\r\nfunction ve(e) {\r\n  return [\"html\", \"body\", \"#document\"].includes(be(e));\r\n}\r\nfunction q(e) {\r\n  return U(e).getComputedStyle(e);\r\n}\r\nfunction Ke(e) {\r\n  return Y(e) ? {\r\n    scrollLeft: e.scrollLeft,\r\n    scrollTop: e.scrollTop\r\n  } : {\r\n    scrollLeft: e.scrollX,\r\n    scrollTop: e.scrollY\r\n  };\r\n}\r\nfunction ie(e) {\r\n  if (be(e) === \"html\")\r\n    return e;\r\n  const t = (\r\n    // Step into the shadow DOM of the parent of a slotted node.\r\n    e.assignedSlot || // DOM Element detected.\r\n    e.parentNode || // ShadowRoot detected.\r\n    Pt(e) && e.host || // Fallback.\r\n    J(e)\r\n  );\r\n  return Pt(t) ? t.host : t;\r\n}\r\nfunction Xt(e) {\r\n  const t = ie(e);\r\n  return ve(t) ? e.ownerDocument ? e.ownerDocument.body : e.body : Q(t) && Ae(t) ? t : Xt(t);\r\n}\r\nfunction Ee(e, t, n) {\r\n  var r;\r\n  t === void 0 && (t = []), n === void 0 && (n = !0);\r\n  const i = Xt(e), o = i === ((r = e.ownerDocument) == null ? void 0 : r.body), s = U(i);\r\n  if (o) {\r\n    const a = ot(s);\r\n    return t.concat(s, s.visualViewport || [], Ae(i) ? i : [], a && n ? Ee(a) : []);\r\n  }\r\n  return t.concat(i, Ee(i, [], n));\r\n}\r\nfunction ot(e) {\r\n  return e.parent && Object.getPrototypeOf(e.parent) ? e.frameElement : null;\r\n}\r\nfunction Zt(e) {\r\n  const t = q(e);\r\n  let n = parseFloat(t.width) || 0, r = parseFloat(t.height) || 0;\r\n  const i = Q(e), o = i ? e.offsetWidth : n, s = i ? e.offsetHeight : r, a = $e(n) !== o || $e(r) !== s;\r\n  return a && (n = o, r = s), {\r\n    width: n,\r\n    height: r,\r\n    $: a\r\n  };\r\n}\r\nfunction pt(e) {\r\n  return Y(e) ? e : e.contextElement;\r\n}\r\nfunction de(e) {\r\n  const t = pt(e);\r\n  if (!Q(t))\r\n    return G(1);\r\n  const n = t.getBoundingClientRect(), {\r\n    width: r,\r\n    height: i,\r\n    $: o\r\n  } = Zt(t);\r\n  let s = (o ? $e(n.width) : n.width) / r, a = (o ? $e(n.height) : n.height) / i;\r\n  return (!s || !Number.isFinite(s)) && (s = 1), (!a || !Number.isFinite(a)) && (a = 1), {\r\n    x: s,\r\n    y: a\r\n  };\r\n}\r\nconst ar = /* @__PURE__ */ G(0);\r\nfunction en(e) {\r\n  const t = U(e);\r\n  return !dt() || !t.visualViewport ? ar : {\r\n    x: t.visualViewport.offsetLeft,\r\n    y: t.visualViewport.offsetTop\r\n  };\r\n}\r\nfunction cr(e, t, n) {\r\n  return t === void 0 && (t = !1), !n || t && n !== U(e) ? !1 : t;\r\n}\r\nfunction ce(e, t, n, r) {\r\n  t === void 0 && (t = !1), n === void 0 && (n = !1);\r\n  const i = e.getBoundingClientRect(), o = pt(e);\r\n  let s = G(1);\r\n  t && (r ? Y(r) && (s = de(r)) : s = de(e));\r\n  const a = cr(o, n, r) ? en(o) : G(0);\r\n  let c = (i.left + a.x) / s.x, u = (i.top + a.y) / s.y, l = i.width / s.x, f = i.height / s.y;\r\n  if (o) {\r\n    const v = U(o), d = r && Y(r) ? U(r) : r;\r\n    let m = v, p = ot(m);\r\n    for (; p && r && d !== m; ) {\r\n      const g = de(p), h = p.getBoundingClientRect(), x = q(p), E = h.left + (p.clientLeft + parseFloat(x.paddingLeft)) * g.x, P = h.top + (p.clientTop + parseFloat(x.paddingTop)) * g.y;\r\n      c *= g.x, u *= g.y, l *= g.x, f *= g.y, c += E, u += P, m = U(p), p = ot(m);\r\n    }\r\n  }\r\n  return Fe({\r\n    width: l,\r\n    height: f,\r\n    x: c,\r\n    y: u\r\n  });\r\n}\r\nfunction ht(e, t) {\r\n  const n = Ke(e).scrollLeft;\r\n  return t ? t.left + n : ce(J(e)).left + n;\r\n}\r\nfunction tn(e, t, n) {\r\n  n === void 0 && (n = !1);\r\n  const r = e.getBoundingClientRect(), i = r.left + t.scrollLeft - (n ? 0 : (\r\n    // RTL <body> scrollbar.\r\n    ht(e, r)\r\n  )), o = r.top + t.scrollTop;\r\n  return {\r\n    x: i,\r\n    y: o\r\n  };\r\n}\r\nfunction ur(e) {\r\n  let {\r\n    elements: t,\r\n    rect: n,\r\n    offsetParent: r,\r\n    strategy: i\r\n  } = e;\r\n  const o = i === \"fixed\", s = J(r), a = t ? qe(t.floating) : !1;\r\n  if (r === s || a && o)\r\n    return n;\r\n  let c = {\r\n    scrollLeft: 0,\r\n    scrollTop: 0\r\n  }, u = G(1);\r\n  const l = G(0), f = Q(r);\r\n  if ((f || !f && !o) && ((be(r) !== \"body\" || Ae(s)) && (c = Ke(r)), Q(r))) {\r\n    const d = ce(r);\r\n    u = de(r), l.x = d.x + r.clientLeft, l.y = d.y + r.clientTop;\r\n  }\r\n  const v = s && !f && !o ? tn(s, c, !0) : G(0);\r\n  return {\r\n    width: n.width * u.x,\r\n    height: n.height * u.y,\r\n    x: n.x * u.x - c.scrollLeft * u.x + l.x + v.x,\r\n    y: n.y * u.y - c.scrollTop * u.y + l.y + v.y\r\n  };\r\n}\r\nfunction lr(e) {\r\n  return Array.from(e.getClientRects());\r\n}\r\nfunction fr(e) {\r\n  const t = J(e), n = Ke(e), r = e.ownerDocument.body, i = se(t.scrollWidth, t.clientWidth, r.scrollWidth, r.clientWidth), o = se(t.scrollHeight, t.clientHeight, r.scrollHeight, r.clientHeight);\r\n  let s = -n.scrollLeft + ht(e);\r\n  const a = -n.scrollTop;\r\n  return q(r).direction === \"rtl\" && (s += se(t.clientWidth, r.clientWidth) - i), {\r\n    width: i,\r\n    height: o,\r\n    x: s,\r\n    y: a\r\n  };\r\n}\r\nfunction dr(e, t) {\r\n  const n = U(e), r = J(e), i = n.visualViewport;\r\n  let o = r.clientWidth, s = r.clientHeight, a = 0, c = 0;\r\n  if (i) {\r\n    o = i.width, s = i.height;\r\n    const u = dt();\r\n    (!u || u && t === \"fixed\") && (a = i.offsetLeft, c = i.offsetTop);\r\n  }\r\n  return {\r\n    width: o,\r\n    height: s,\r\n    x: a,\r\n    y: c\r\n  };\r\n}\r\nfunction pr(e, t) {\r\n  const n = ce(e, !0, t === \"fixed\"), r = n.top + e.clientTop, i = n.left + e.clientLeft, o = Q(e) ? de(e) : G(1), s = e.clientWidth * o.x, a = e.clientHeight * o.y, c = i * o.x, u = r * o.y;\r\n  return {\r\n    width: s,\r\n    height: a,\r\n    x: c,\r\n    y: u\r\n  };\r\n}\r\nfunction At(e, t, n) {\r\n  let r;\r\n  if (t === \"viewport\")\r\n    r = dr(e, n);\r\n  else if (t === \"document\")\r\n    r = fr(J(e));\r\n  else if (Y(t))\r\n    r = pr(t, n);\r\n  else {\r\n    const i = en(e);\r\n    r = {\r\n      x: t.x - i.x,\r\n      y: t.y - i.y,\r\n      width: t.width,\r\n      height: t.height\r\n    };\r\n  }\r\n  return Fe(r);\r\n}\r\nfunction nn(e, t) {\r\n  const n = ie(e);\r\n  return n === t || !Y(n) || ve(n) ? !1 : q(n).position === \"fixed\" || nn(n, t);\r\n}\r\nfunction hr(e, t) {\r\n  const n = t.get(e);\r\n  if (n)\r\n    return n;\r\n  let r = Ee(e, [], !1).filter((a) => Y(a) && be(a) !== \"body\"), i = null;\r\n  const o = q(e).position === \"fixed\";\r\n  let s = o ? ie(e) : e;\r\n  for (; Y(s) && !ve(s); ) {\r\n    const a = q(s), c = ft(s);\r\n    !c && a.position === \"fixed\" && (i = null), (o ? !c && !i : !c && a.position === \"static\" && !!i && [\"absolute\", \"fixed\"].includes(i.position) || Ae(s) && !c && nn(e, s)) ? r = r.filter((l) => l !== s) : i = a, s = ie(s);\r\n  }\r\n  return t.set(e, r), r;\r\n}\r\nfunction vr(e) {\r\n  let {\r\n    element: t,\r\n    boundary: n,\r\n    rootBoundary: r,\r\n    strategy: i\r\n  } = e;\r\n  const s = [...n === \"clippingAncestors\" ? qe(t) ? [] : hr(t, this._c) : [].concat(n), r], a = s[0], c = s.reduce((u, l) => {\r\n    const f = At(t, l, i);\r\n    return u.top = se(f.top, u.top), u.right = De(f.right, u.right), u.bottom = De(f.bottom, u.bottom), u.left = se(f.left, u.left), u;\r\n  }, At(t, a, i));\r\n  return {\r\n    width: c.right - c.left,\r\n    height: c.bottom - c.top,\r\n    x: c.left,\r\n    y: c.top\r\n  };\r\n}\r\nfunction mr(e) {\r\n  const {\r\n    width: t,\r\n    height: n\r\n  } = Zt(e);\r\n  return {\r\n    width: t,\r\n    height: n\r\n  };\r\n}\r\nfunction gr(e, t, n) {\r\n  const r = Q(t), i = J(t), o = n === \"fixed\", s = ce(e, !0, o, t);\r\n  let a = {\r\n    scrollLeft: 0,\r\n    scrollTop: 0\r\n  };\r\n  const c = G(0);\r\n  if (r || !r && !o)\r\n    if ((be(t) !== \"body\" || Ae(i)) && (a = Ke(t)), r) {\r\n      const v = ce(t, !0, o, t);\r\n      c.x = v.x + t.clientLeft, c.y = v.y + t.clientTop;\r\n    } else i && (c.x = ht(i));\r\n  const u = i && !r && !o ? tn(i, a) : G(0), l = s.left + a.scrollLeft - c.x - u.x, f = s.top + a.scrollTop - c.y - u.y;\r\n  return {\r\n    x: l,\r\n    y: f,\r\n    width: s.width,\r\n    height: s.height\r\n  };\r\n}\r\nfunction Xe(e) {\r\n  return q(e).position === \"static\";\r\n}\r\nfunction Ot(e, t) {\r\n  if (!Q(e) || q(e).position === \"fixed\")\r\n    return null;\r\n  if (t)\r\n    return t(e);\r\n  let n = e.offsetParent;\r\n  return J(e) === n && (n = n.ownerDocument.body), n;\r\n}\r\nfunction rn(e, t) {\r\n  const n = U(e);\r\n  if (qe(e))\r\n    return n;\r\n  if (!Q(e)) {\r\n    let i = ie(e);\r\n    for (; i && !ve(i); ) {\r\n      if (Y(i) && !Xe(i))\r\n        return i;\r\n      i = ie(i);\r\n    }\r\n    return n;\r\n  }\r\n  let r = Ot(e, t);\r\n  for (; r && or(r) && Xe(r); )\r\n    r = Ot(r, t);\r\n  return r && ve(r) && Xe(r) && !ft(r) ? n : r || sr(e) || n;\r\n}\r\nconst br = async function(e) {\r\n  const t = this.getOffsetParent || rn, n = this.getDimensions, r = await n(e.floating);\r\n  return {\r\n    reference: gr(e.reference, await t(e.floating), e.strategy),\r\n    floating: {\r\n      x: 0,\r\n      y: 0,\r\n      width: r.width,\r\n      height: r.height\r\n    }\r\n  };\r\n};\r\nfunction yr(e) {\r\n  return q(e).direction === \"rtl\";\r\n}\r\nconst wr = {\r\n  convertOffsetParentRelativeRectToViewportRelativeRect: ur,\r\n  getDocumentElement: J,\r\n  getClippingRect: vr,\r\n  getOffsetParent: rn,\r\n  getElementRects: br,\r\n  getClientRects: lr,\r\n  getDimensions: mr,\r\n  getScale: de,\r\n  isElement: Y,\r\n  isRTL: yr\r\n};\r\nfunction on(e, t) {\r\n  return e.x === t.x && e.y === t.y && e.width === t.width && e.height === t.height;\r\n}\r\nfunction xr(e, t) {\r\n  let n = null, r;\r\n  const i = J(e);\r\n  function o() {\r\n    var a;\r\n    clearTimeout(r), (a = n) == null || a.disconnect(), n = null;\r\n  }\r\n  function s(a, c) {\r\n    a === void 0 && (a = !1), c === void 0 && (c = 1), o();\r\n    const u = e.getBoundingClientRect(), {\r\n      left: l,\r\n      top: f,\r\n      width: v,\r\n      height: d\r\n    } = u;\r\n    if (a || t(), !v || !d)\r\n      return;\r\n    const m = Le(f), p = Le(i.clientWidth - (l + v)), g = Le(i.clientHeight - (f + d)), h = Le(l), E = {\r\n      rootMargin: -m + \"px \" + -p + \"px \" + -g + \"px \" + -h + \"px\",\r\n      threshold: se(0, De(1, c)) || 1\r\n    };\r\n    let P = !0;\r\n    function b(S) {\r\n      const C = S[0].intersectionRatio;\r\n      if (C !== c) {\r\n        if (!P)\r\n          return s();\r\n        C ? s(!1, C) : r = setTimeout(() => {\r\n          s(!1, 1e-7);\r\n        }, 1e3);\r\n      }\r\n      C === 1 && !on(u, e.getBoundingClientRect()) && s(), P = !1;\r\n    }\r\n    try {\r\n      n = new IntersectionObserver(b, {\r\n        ...E,\r\n        // Handle <iframe>s\r\n        root: i.ownerDocument\r\n      });\r\n    } catch {\r\n      n = new IntersectionObserver(b, E);\r\n    }\r\n    n.observe(e);\r\n  }\r\n  return s(!0), o;\r\n}\r\nfunction Sr(e, t, n, r) {\r\n  r === void 0 && (r = {});\r\n  const {\r\n    ancestorScroll: i = !0,\r\n    ancestorResize: o = !0,\r\n    elementResize: s = typeof ResizeObserver == \"function\",\r\n    layoutShift: a = typeof IntersectionObserver == \"function\",\r\n    animationFrame: c = !1\r\n  } = r, u = pt(e), l = i || o ? [...u ? Ee(u) : [], ...Ee(t)] : [];\r\n  l.forEach((h) => {\r\n    i && h.addEventListener(\"scroll\", n, {\r\n      passive: !0\r\n    }), o && h.addEventListener(\"resize\", n);\r\n  });\r\n  const f = u && a ? xr(u, n) : null;\r\n  let v = -1, d = null;\r\n  s && (d = new ResizeObserver((h) => {\r\n    let [x] = h;\r\n    x && x.target === u && d && (d.unobserve(t), cancelAnimationFrame(v), v = requestAnimationFrame(() => {\r\n      var E;\r\n      (E = d) == null || E.observe(t);\r\n    })), n();\r\n  }), u && !c && d.observe(u), d.observe(t));\r\n  let m, p = c ? ce(e) : null;\r\n  c && g();\r\n  function g() {\r\n    const h = ce(e);\r\n    p && !on(p, h) && n(), p = h, m = requestAnimationFrame(g);\r\n  }\r\n  return n(), () => {\r\n    var h;\r\n    l.forEach((x) => {\r\n      i && x.removeEventListener(\"scroll\", n), o && x.removeEventListener(\"resize\", n);\r\n    }), f == null || f(), (h = d) == null || h.disconnect(), d = null, c && cancelAnimationFrame(m);\r\n  };\r\n}\r\nconst Tr = rr, Er = ir, Cr = tr, Pr = (e, t, n) => {\r\n  const r = /* @__PURE__ */ new Map(), i = {\r\n    platform: wr,\r\n    ...n\r\n  }, o = {\r\n    ...i.platform,\r\n    _c: r\r\n  };\r\n  return er(e, t, {\r\n    ...i,\r\n    platform: o\r\n  });\r\n};\r\nvar Mo = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {};\r\nfunction Ar(e) {\r\n  return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, \"default\") ? e.default : e;\r\n}\r\nvar Re = { exports: {} }, Or = Re.exports, kt;\r\nfunction kr() {\r\n  return kt || (kt = 1, function(e) {\r\n    (function(t, n) {\r\n      e.exports ? e.exports = n() : t.log = n();\r\n    })(Or, function() {\r\n      var t = function() {\r\n      }, n = \"undefined\", r = typeof window !== n && typeof window.navigator !== n && /Trident\\/|MSIE /.test(window.navigator.userAgent), i = [\r\n        \"trace\",\r\n        \"debug\",\r\n        \"info\",\r\n        \"warn\",\r\n        \"error\"\r\n      ], o = {}, s = null;\r\n      function a(p, g) {\r\n        var h = p[g];\r\n        if (typeof h.bind == \"function\")\r\n          return h.bind(p);\r\n        try {\r\n          return Function.prototype.bind.call(h, p);\r\n        } catch {\r\n          return function() {\r\n            return Function.prototype.apply.apply(h, [p, arguments]);\r\n          };\r\n        }\r\n      }\r\n      function c() {\r\n        console.log && (console.log.apply ? console.log.apply(console, arguments) : Function.prototype.apply.apply(console.log, [console, arguments])), console.trace && console.trace();\r\n      }\r\n      function u(p) {\r\n        return p === \"debug\" && (p = \"log\"), typeof console === n ? !1 : p === \"trace\" && r ? c : console[p] !== void 0 ? a(console, p) : console.log !== void 0 ? a(console, \"log\") : t;\r\n      }\r\n      function l() {\r\n        for (var p = this.getLevel(), g = 0; g < i.length; g++) {\r\n          var h = i[g];\r\n          this[h] = g < p ? t : this.methodFactory(h, p, this.name);\r\n        }\r\n        if (this.log = this.debug, typeof console === n && p < this.levels.SILENT)\r\n          return \"No console available for logging\";\r\n      }\r\n      function f(p) {\r\n        return function() {\r\n          typeof console !== n && (l.call(this), this[p].apply(this, arguments));\r\n        };\r\n      }\r\n      function v(p, g, h) {\r\n        return u(p) || f.apply(this, arguments);\r\n      }\r\n      function d(p, g) {\r\n        var h = this, x, E, P, b = \"loglevel\";\r\n        typeof p == \"string\" ? b += \":\" + p : typeof p == \"symbol\" && (b = void 0);\r\n        function S(T) {\r\n          var L = (i[T] || \"silent\").toUpperCase();\r\n          if (!(typeof window === n || !b)) {\r\n            try {\r\n              window.localStorage[b] = L;\r\n              return;\r\n            } catch {\r\n            }\r\n            try {\r\n              window.document.cookie = encodeURIComponent(b) + \"=\" + L + \";\";\r\n            } catch {\r\n            }\r\n          }\r\n        }\r\n        function C() {\r\n          var T;\r\n          if (!(typeof window === n || !b)) {\r\n            try {\r\n              T = window.localStorage[b];\r\n            } catch {\r\n            }\r\n            if (typeof T === n)\r\n              try {\r\n                var L = window.document.cookie, oe = encodeURIComponent(b), K = L.indexOf(oe + \"=\");\r\n                K !== -1 && (T = /^([^;]+)/.exec(\r\n                  L.slice(K + oe.length + 1)\r\n                )[1]);\r\n              } catch {\r\n              }\r\n            return h.levels[T] === void 0 && (T = void 0), T;\r\n          }\r\n        }\r\n        function $() {\r\n          if (!(typeof window === n || !b)) {\r\n            try {\r\n              window.localStorage.removeItem(b);\r\n            } catch {\r\n            }\r\n            try {\r\n              window.document.cookie = encodeURIComponent(b) + \"=; expires=Thu, 01 Jan 1970 00:00:00 UTC\";\r\n            } catch {\r\n            }\r\n          }\r\n        }\r\n        function I(T) {\r\n          var L = T;\r\n          if (typeof L == \"string\" && h.levels[L.toUpperCase()] !== void 0 && (L = h.levels[L.toUpperCase()]), typeof L == \"number\" && L >= 0 && L <= h.levels.SILENT)\r\n            return L;\r\n          throw new TypeError(\"log.setLevel() called with invalid level: \" + T);\r\n        }\r\n        h.name = p, h.levels = {\r\n          TRACE: 0,\r\n          DEBUG: 1,\r\n          INFO: 2,\r\n          WARN: 3,\r\n          ERROR: 4,\r\n          SILENT: 5\r\n        }, h.methodFactory = g || v, h.getLevel = function() {\r\n          return P ?? E ?? x;\r\n        }, h.setLevel = function(T, L) {\r\n          return P = I(T), L !== !1 && S(P), l.call(h);\r\n        }, h.setDefaultLevel = function(T) {\r\n          E = I(T), C() || h.setLevel(T, !1);\r\n        }, h.resetLevel = function() {\r\n          P = null, $(), l.call(h);\r\n        }, h.enableAll = function(T) {\r\n          h.setLevel(h.levels.TRACE, T);\r\n        }, h.disableAll = function(T) {\r\n          h.setLevel(h.levels.SILENT, T);\r\n        }, h.rebuild = function() {\r\n          if (s !== h && (x = I(s.getLevel())), l.call(h), s === h)\r\n            for (var T in o)\r\n              o[T].rebuild();\r\n        }, x = I(\r\n          s ? s.getLevel() : \"WARN\"\r\n        );\r\n        var z = C();\r\n        z != null && (P = I(z)), l.call(h);\r\n      }\r\n      s = new d(), s.getLogger = function(g) {\r\n        if (typeof g != \"symbol\" && typeof g != \"string\" || g === \"\")\r\n          throw new TypeError(\"You must supply a name when creating a logger.\");\r\n        var h = o[g];\r\n        return h || (h = o[g] = new d(\r\n          g,\r\n          s.methodFactory\r\n        )), h;\r\n      };\r\n      var m = typeof window !== n ? window.log : void 0;\r\n      return s.noConflict = function() {\r\n        return typeof window !== n && window.log === s && (window.log = m), s;\r\n      }, s.getLoggers = function() {\r\n        return o;\r\n      }, s.default = s, s;\r\n    });\r\n  }(Re)), Re.exports;\r\n}\r\nvar Lr = kr();\r\nconst _r = /* @__PURE__ */ Ar(Lr);\r\nvar st = function(e, t) {\r\n  return st = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(n, r) {\r\n    n.__proto__ = r;\r\n  } || function(n, r) {\r\n    for (var i in r) Object.prototype.hasOwnProperty.call(r, i) && (n[i] = r[i]);\r\n  }, st(e, t);\r\n};\r\nfunction ee(e, t) {\r\n  if (typeof t != \"function\" && t !== null)\r\n    throw new TypeError(\"Class extends value \" + String(t) + \" is not a constructor or null\");\r\n  st(e, t);\r\n  function n() {\r\n    this.constructor = e;\r\n  }\r\n  e.prototype = t === null ? Object.create(t) : (n.prototype = t.prototype, new n());\r\n}\r\nfunction Ir(e, t, n, r) {\r\n  function i(o) {\r\n    return o instanceof n ? o : new n(function(s) {\r\n      s(o);\r\n    });\r\n  }\r\n  return new (n || (n = Promise))(function(o, s) {\r\n    function a(l) {\r\n      try {\r\n        u(r.next(l));\r\n      } catch (f) {\r\n        s(f);\r\n      }\r\n    }\r\n    function c(l) {\r\n      try {\r\n        u(r.throw(l));\r\n      } catch (f) {\r\n        s(f);\r\n      }\r\n    }\r\n    function u(l) {\r\n      l.done ? o(l.value) : i(l.value).then(a, c);\r\n    }\r\n    u((r = r.apply(e, t || [])).next());\r\n  });\r\n}\r\nfunction sn(e, t) {\r\n  var n = { label: 0, sent: function() {\r\n    if (o[0] & 1) throw o[1];\r\n    return o[1];\r\n  }, trys: [], ops: [] }, r, i, o, s = Object.create((typeof Iterator == \"function\" ? Iterator : Object).prototype);\r\n  return s.next = a(0), s.throw = a(1), s.return = a(2), typeof Symbol == \"function\" && (s[Symbol.iterator] = function() {\r\n    return this;\r\n  }), s;\r\n  function a(u) {\r\n    return function(l) {\r\n      return c([u, l]);\r\n    };\r\n  }\r\n  function c(u) {\r\n    if (r) throw new TypeError(\"Generator is already executing.\");\r\n    for (; s && (s = 0, u[0] && (n = 0)), n; ) try {\r\n      if (r = 1, i && (o = u[0] & 2 ? i.return : u[0] ? i.throw || ((o = i.return) && o.call(i), 0) : i.next) && !(o = o.call(i, u[1])).done) return o;\r\n      switch (i = 0, o && (u = [u[0] & 2, o.value]), u[0]) {\r\n        case 0:\r\n        case 1:\r\n          o = u;\r\n          break;\r\n        case 4:\r\n          return n.label++, { value: u[1], done: !1 };\r\n        case 5:\r\n          n.label++, i = u[1], u = [0];\r\n          continue;\r\n        case 7:\r\n          u = n.ops.pop(), n.trys.pop();\r\n          continue;\r\n        default:\r\n          if (o = n.trys, !(o = o.length > 0 && o[o.length - 1]) && (u[0] === 6 || u[0] === 2)) {\r\n            n = 0;\r\n            continue;\r\n          }\r\n          if (u[0] === 3 && (!o || u[1] > o[0] && u[1] < o[3])) {\r\n            n.label = u[1];\r\n            break;\r\n          }\r\n          if (u[0] === 6 && n.label < o[1]) {\r\n            n.label = o[1], o = u;\r\n            break;\r\n          }\r\n          if (o && n.label < o[2]) {\r\n            n.label = o[2], n.ops.push(u);\r\n            break;\r\n          }\r\n          o[2] && n.ops.pop(), n.trys.pop();\r\n          continue;\r\n      }\r\n      u = t.call(e, n);\r\n    } catch (l) {\r\n      u = [6, l], i = 0;\r\n    } finally {\r\n      r = o = 0;\r\n    }\r\n    if (u[0] & 5) throw u[1];\r\n    return { value: u[0] ? u[1] : void 0, done: !0 };\r\n  }\r\n}\r\nfunction me(e) {\r\n  var t = typeof Symbol == \"function\" && Symbol.iterator, n = t && e[t], r = 0;\r\n  if (n) return n.call(e);\r\n  if (e && typeof e.length == \"number\") return {\r\n    next: function() {\r\n      return e && r >= e.length && (e = void 0), { value: e && e[r++], done: !e };\r\n    }\r\n  };\r\n  throw new TypeError(t ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\nfunction ue(e, t) {\r\n  var n = typeof Symbol == \"function\" && e[Symbol.iterator];\r\n  if (!n) return e;\r\n  var r = n.call(e), i, o = [], s;\r\n  try {\r\n    for (; (t === void 0 || t-- > 0) && !(i = r.next()).done; ) o.push(i.value);\r\n  } catch (a) {\r\n    s = { error: a };\r\n  } finally {\r\n    try {\r\n      i && !i.done && (n = r.return) && n.call(r);\r\n    } finally {\r\n      if (s) throw s.error;\r\n    }\r\n  }\r\n  return o;\r\n}\r\nfunction ge(e, t, n) {\r\n  if (n || arguments.length === 2) for (var r = 0, i = t.length, o; r < i; r++)\r\n    (o || !(r in t)) && (o || (o = Array.prototype.slice.call(t, 0, r)), o[r] = t[r]);\r\n  return e.concat(o || Array.prototype.slice.call(t));\r\n}\r\nfunction pe(e) {\r\n  return this instanceof pe ? (this.v = e, this) : new pe(e);\r\n}\r\nfunction Rr(e, t, n) {\r\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n  var r = n.apply(e, t || []), i, o = [];\r\n  return i = Object.create((typeof AsyncIterator == \"function\" ? AsyncIterator : Object).prototype), a(\"next\"), a(\"throw\"), a(\"return\", s), i[Symbol.asyncIterator] = function() {\r\n    return this;\r\n  }, i;\r\n  function s(d) {\r\n    return function(m) {\r\n      return Promise.resolve(m).then(d, f);\r\n    };\r\n  }\r\n  function a(d, m) {\r\n    r[d] && (i[d] = function(p) {\r\n      return new Promise(function(g, h) {\r\n        o.push([d, p, g, h]) > 1 || c(d, p);\r\n      });\r\n    }, m && (i[d] = m(i[d])));\r\n  }\r\n  function c(d, m) {\r\n    try {\r\n      u(r[d](m));\r\n    } catch (p) {\r\n      v(o[0][3], p);\r\n    }\r\n  }\r\n  function u(d) {\r\n    d.value instanceof pe ? Promise.resolve(d.value.v).then(l, f) : v(o[0][2], d);\r\n  }\r\n  function l(d) {\r\n    c(\"next\", d);\r\n  }\r\n  function f(d) {\r\n    c(\"throw\", d);\r\n  }\r\n  function v(d, m) {\r\n    d(m), o.shift(), o.length && c(o[0][0], o[0][1]);\r\n  }\r\n}\r\nfunction Mr(e) {\r\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n  var t = e[Symbol.asyncIterator], n;\r\n  return t ? t.call(e) : (e = typeof me == \"function\" ? me(e) : e[Symbol.iterator](), n = {}, r(\"next\"), r(\"throw\"), r(\"return\"), n[Symbol.asyncIterator] = function() {\r\n    return this;\r\n  }, n);\r\n  function r(o) {\r\n    n[o] = e[o] && function(s) {\r\n      return new Promise(function(a, c) {\r\n        s = e[o](s), i(a, c, s.done, s.value);\r\n      });\r\n    };\r\n  }\r\n  function i(o, s, a, c) {\r\n    Promise.resolve(c).then(function(u) {\r\n      o({ value: u, done: a });\r\n    }, s);\r\n  }\r\n}\r\nfunction A(e) {\r\n  return typeof e == \"function\";\r\n}\r\nfunction vt(e) {\r\n  var t = function(r) {\r\n    Error.call(r), r.stack = new Error().stack;\r\n  }, n = e(t);\r\n  return n.prototype = Object.create(Error.prototype), n.prototype.constructor = n, n;\r\n}\r\nvar Ze = vt(function(e) {\r\n  return function(n) {\r\n    e(this), this.message = n ? n.length + ` errors occurred during unsubscription:\r\n` + n.map(function(r, i) {\r\n      return i + 1 + \") \" + r.toString();\r\n    }).join(`\r\n  `) : \"\", this.name = \"UnsubscriptionError\", this.errors = n;\r\n  };\r\n});\r\nfunction Ue(e, t) {\r\n  if (e) {\r\n    var n = e.indexOf(t);\r\n    0 <= n && e.splice(n, 1);\r\n  }\r\n}\r\nvar Oe = function() {\r\n  function e(t) {\r\n    this.initialTeardown = t, this.closed = !1, this._parentage = null, this._finalizers = null;\r\n  }\r\n  return e.prototype.unsubscribe = function() {\r\n    var t, n, r, i, o;\r\n    if (!this.closed) {\r\n      this.closed = !0;\r\n      var s = this._parentage;\r\n      if (s)\r\n        if (this._parentage = null, Array.isArray(s))\r\n          try {\r\n            for (var a = me(s), c = a.next(); !c.done; c = a.next()) {\r\n              var u = c.value;\r\n              u.remove(this);\r\n            }\r\n          } catch (p) {\r\n            t = { error: p };\r\n          } finally {\r\n            try {\r\n              c && !c.done && (n = a.return) && n.call(a);\r\n            } finally {\r\n              if (t) throw t.error;\r\n            }\r\n          }\r\n        else\r\n          s.remove(this);\r\n      var l = this.initialTeardown;\r\n      if (A(l))\r\n        try {\r\n          l();\r\n        } catch (p) {\r\n          o = p instanceof Ze ? p.errors : [p];\r\n        }\r\n      var f = this._finalizers;\r\n      if (f) {\r\n        this._finalizers = null;\r\n        try {\r\n          for (var v = me(f), d = v.next(); !d.done; d = v.next()) {\r\n            var m = d.value;\r\n            try {\r\n              Lt(m);\r\n            } catch (p) {\r\n              o = o ?? [], p instanceof Ze ? o = ge(ge([], ue(o)), ue(p.errors)) : o.push(p);\r\n            }\r\n          }\r\n        } catch (p) {\r\n          r = { error: p };\r\n        } finally {\r\n          try {\r\n            d && !d.done && (i = v.return) && i.call(v);\r\n          } finally {\r\n            if (r) throw r.error;\r\n          }\r\n        }\r\n      }\r\n      if (o)\r\n        throw new Ze(o);\r\n    }\r\n  }, e.prototype.add = function(t) {\r\n    var n;\r\n    if (t && t !== this)\r\n      if (this.closed)\r\n        Lt(t);\r\n      else {\r\n        if (t instanceof e) {\r\n          if (t.closed || t._hasParent(this))\r\n            return;\r\n          t._addParent(this);\r\n        }\r\n        (this._finalizers = (n = this._finalizers) !== null && n !== void 0 ? n : []).push(t);\r\n      }\r\n  }, e.prototype._hasParent = function(t) {\r\n    var n = this._parentage;\r\n    return n === t || Array.isArray(n) && n.includes(t);\r\n  }, e.prototype._addParent = function(t) {\r\n    var n = this._parentage;\r\n    this._parentage = Array.isArray(n) ? (n.push(t), n) : n ? [n, t] : t;\r\n  }, e.prototype._removeParent = function(t) {\r\n    var n = this._parentage;\r\n    n === t ? this._parentage = null : Array.isArray(n) && Ue(n, t);\r\n  }, e.prototype.remove = function(t) {\r\n    var n = this._finalizers;\r\n    n && Ue(n, t), t instanceof e && t._removeParent(this);\r\n  }, e.EMPTY = function() {\r\n    var t = new e();\r\n    return t.closed = !0, t;\r\n  }(), e;\r\n}(), an = Oe.EMPTY;\r\nfunction cn(e) {\r\n  return e instanceof Oe || e && \"closed\" in e && A(e.remove) && A(e.add) && A(e.unsubscribe);\r\n}\r\nfunction Lt(e) {\r\n  A(e) ? e() : e.unsubscribe();\r\n}\r\nvar Dr = {\r\n  Promise: void 0\r\n}, $r = {\r\n  setTimeout: function(e, t) {\r\n    for (var n = [], r = 2; r < arguments.length; r++)\r\n      n[r - 2] = arguments[r];\r\n    return setTimeout.apply(void 0, ge([e, t], ue(n)));\r\n  },\r\n  clearTimeout: function(e) {\r\n    return clearTimeout(e);\r\n  },\r\n  delegate: void 0\r\n};\r\nfunction un(e) {\r\n  $r.setTimeout(function() {\r\n    throw e;\r\n  });\r\n}\r\nfunction je() {\r\n}\r\nfunction Me(e) {\r\n  e();\r\n}\r\nvar mt = function(e) {\r\n  ee(t, e);\r\n  function t(n) {\r\n    var r = e.call(this) || this;\r\n    return r.isStopped = !1, n ? (r.destination = n, cn(n) && n.add(r)) : r.destination = Ur, r;\r\n  }\r\n  return t.create = function(n, r, i) {\r\n    return new Ce(n, r, i);\r\n  }, t.prototype.next = function(n) {\r\n    this.isStopped || this._next(n);\r\n  }, t.prototype.error = function(n) {\r\n    this.isStopped || (this.isStopped = !0, this._error(n));\r\n  }, t.prototype.complete = function() {\r\n    this.isStopped || (this.isStopped = !0, this._complete());\r\n  }, t.prototype.unsubscribe = function() {\r\n    this.closed || (this.isStopped = !0, e.prototype.unsubscribe.call(this), this.destination = null);\r\n  }, t.prototype._next = function(n) {\r\n    this.destination.next(n);\r\n  }, t.prototype._error = function(n) {\r\n    try {\r\n      this.destination.error(n);\r\n    } finally {\r\n      this.unsubscribe();\r\n    }\r\n  }, t.prototype._complete = function() {\r\n    try {\r\n      this.destination.complete();\r\n    } finally {\r\n      this.unsubscribe();\r\n    }\r\n  }, t;\r\n}(Oe), Nr = function() {\r\n  function e(t) {\r\n    this.partialObserver = t;\r\n  }\r\n  return e.prototype.next = function(t) {\r\n    var n = this.partialObserver;\r\n    if (n.next)\r\n      try {\r\n        n.next(t);\r\n      } catch (r) {\r\n        _e(r);\r\n      }\r\n  }, e.prototype.error = function(t) {\r\n    var n = this.partialObserver;\r\n    if (n.error)\r\n      try {\r\n        n.error(t);\r\n      } catch (r) {\r\n        _e(r);\r\n      }\r\n    else\r\n      _e(t);\r\n  }, e.prototype.complete = function() {\r\n    var t = this.partialObserver;\r\n    if (t.complete)\r\n      try {\r\n        t.complete();\r\n      } catch (n) {\r\n        _e(n);\r\n      }\r\n  }, e;\r\n}(), Ce = function(e) {\r\n  ee(t, e);\r\n  function t(n, r, i) {\r\n    var o = e.call(this) || this, s;\r\n    return A(n) || !n ? s = {\r\n      next: n ?? void 0,\r\n      error: r ?? void 0,\r\n      complete: i ?? void 0\r\n    } : s = n, o.destination = new Nr(s), o;\r\n  }\r\n  return t;\r\n}(mt);\r\nfunction _e(e) {\r\n  un(e);\r\n}\r\nfunction Fr(e) {\r\n  throw e;\r\n}\r\nvar Ur = {\r\n  closed: !0,\r\n  next: je,\r\n  error: Fr,\r\n  complete: je\r\n}, gt = function() {\r\n  return typeof Symbol == \"function\" && Symbol.observable || \"@@observable\";\r\n}();\r\nfunction bt(e) {\r\n  return e;\r\n}\r\nfunction jr(e) {\r\n  return e.length === 0 ? bt : e.length === 1 ? e[0] : function(n) {\r\n    return e.reduce(function(r, i) {\r\n      return i(r);\r\n    }, n);\r\n  };\r\n}\r\nvar k = function() {\r\n  function e(t) {\r\n    t && (this._subscribe = t);\r\n  }\r\n  return e.prototype.lift = function(t) {\r\n    var n = new e();\r\n    return n.source = this, n.operator = t, n;\r\n  }, e.prototype.subscribe = function(t, n, r) {\r\n    var i = this, o = Br(t) ? t : new Ce(t, n, r);\r\n    return Me(function() {\r\n      var s = i, a = s.operator, c = s.source;\r\n      o.add(a ? a.call(o, c) : c ? i._subscribe(o) : i._trySubscribe(o));\r\n    }), o;\r\n  }, e.prototype._trySubscribe = function(t) {\r\n    try {\r\n      return this._subscribe(t);\r\n    } catch (n) {\r\n      t.error(n);\r\n    }\r\n  }, e.prototype.forEach = function(t, n) {\r\n    var r = this;\r\n    return n = _t(n), new n(function(i, o) {\r\n      var s = new Ce({\r\n        next: function(a) {\r\n          try {\r\n            t(a);\r\n          } catch (c) {\r\n            o(c), s.unsubscribe();\r\n          }\r\n        },\r\n        error: o,\r\n        complete: i\r\n      });\r\n      r.subscribe(s);\r\n    });\r\n  }, e.prototype._subscribe = function(t) {\r\n    var n;\r\n    return (n = this.source) === null || n === void 0 ? void 0 : n.subscribe(t);\r\n  }, e.prototype[gt] = function() {\r\n    return this;\r\n  }, e.prototype.pipe = function() {\r\n    for (var t = [], n = 0; n < arguments.length; n++)\r\n      t[n] = arguments[n];\r\n    return jr(t)(this);\r\n  }, e.prototype.toPromise = function(t) {\r\n    var n = this;\r\n    return t = _t(t), new t(function(r, i) {\r\n      var o;\r\n      n.subscribe(function(s) {\r\n        return o = s;\r\n      }, function(s) {\r\n        return i(s);\r\n      }, function() {\r\n        return r(o);\r\n      });\r\n    });\r\n  }, e.create = function(t) {\r\n    return new e(t);\r\n  }, e;\r\n}();\r\nfunction _t(e) {\r\n  var t;\r\n  return (t = e ?? Dr.Promise) !== null && t !== void 0 ? t : Promise;\r\n}\r\nfunction Wr(e) {\r\n  return e && A(e.next) && A(e.error) && A(e.complete);\r\n}\r\nfunction Br(e) {\r\n  return e && e instanceof mt || Wr(e) && cn(e);\r\n}\r\nfunction Vr(e) {\r\n  return A(e == null ? void 0 : e.lift);\r\n}\r\nfunction B(e) {\r\n  return function(t) {\r\n    if (Vr(t))\r\n      return t.lift(function(n) {\r\n        try {\r\n          return e(n, this);\r\n        } catch (r) {\r\n          this.error(r);\r\n        }\r\n      });\r\n    throw new TypeError(\"Unable to lift unknown Observable type\");\r\n  };\r\n}\r\nfunction W(e, t, n, r, i) {\r\n  return new Hr(e, t, n, r, i);\r\n}\r\nvar Hr = function(e) {\r\n  ee(t, e);\r\n  function t(n, r, i, o, s, a) {\r\n    var c = e.call(this, n) || this;\r\n    return c.onFinalize = s, c.shouldUnsubscribe = a, c._next = r ? function(u) {\r\n      try {\r\n        r(u);\r\n      } catch (l) {\r\n        n.error(l);\r\n      }\r\n    } : e.prototype._next, c._error = o ? function(u) {\r\n      try {\r\n        o(u);\r\n      } catch (l) {\r\n        n.error(l);\r\n      } finally {\r\n        this.unsubscribe();\r\n      }\r\n    } : e.prototype._error, c._complete = i ? function() {\r\n      try {\r\n        i();\r\n      } catch (u) {\r\n        n.error(u);\r\n      } finally {\r\n        this.unsubscribe();\r\n      }\r\n    } : e.prototype._complete, c;\r\n  }\r\n  return t.prototype.unsubscribe = function() {\r\n    var n;\r\n    if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\r\n      var r = this.closed;\r\n      e.prototype.unsubscribe.call(this), !r && ((n = this.onFinalize) === null || n === void 0 || n.call(this));\r\n    }\r\n  }, t;\r\n}(mt), zr = vt(function(e) {\r\n  return function() {\r\n    e(this), this.name = \"ObjectUnsubscribedError\", this.message = \"object unsubscribed\";\r\n  };\r\n}), Z = function(e) {\r\n  ee(t, e);\r\n  function t() {\r\n    var n = e.call(this) || this;\r\n    return n.closed = !1, n.currentObservers = null, n.observers = [], n.isStopped = !1, n.hasError = !1, n.thrownError = null, n;\r\n  }\r\n  return t.prototype.lift = function(n) {\r\n    var r = new It(this, this);\r\n    return r.operator = n, r;\r\n  }, t.prototype._throwIfClosed = function() {\r\n    if (this.closed)\r\n      throw new zr();\r\n  }, t.prototype.next = function(n) {\r\n    var r = this;\r\n    Me(function() {\r\n      var i, o;\r\n      if (r._throwIfClosed(), !r.isStopped) {\r\n        r.currentObservers || (r.currentObservers = Array.from(r.observers));\r\n        try {\r\n          for (var s = me(r.currentObservers), a = s.next(); !a.done; a = s.next()) {\r\n            var c = a.value;\r\n            c.next(n);\r\n          }\r\n        } catch (u) {\r\n          i = { error: u };\r\n        } finally {\r\n          try {\r\n            a && !a.done && (o = s.return) && o.call(s);\r\n          } finally {\r\n            if (i) throw i.error;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }, t.prototype.error = function(n) {\r\n    var r = this;\r\n    Me(function() {\r\n      if (r._throwIfClosed(), !r.isStopped) {\r\n        r.hasError = r.isStopped = !0, r.thrownError = n;\r\n        for (var i = r.observers; i.length; )\r\n          i.shift().error(n);\r\n      }\r\n    });\r\n  }, t.prototype.complete = function() {\r\n    var n = this;\r\n    Me(function() {\r\n      if (n._throwIfClosed(), !n.isStopped) {\r\n        n.isStopped = !0;\r\n        for (var r = n.observers; r.length; )\r\n          r.shift().complete();\r\n      }\r\n    });\r\n  }, t.prototype.unsubscribe = function() {\r\n    this.isStopped = this.closed = !0, this.observers = this.currentObservers = null;\r\n  }, Object.defineProperty(t.prototype, \"observed\", {\r\n    get: function() {\r\n      var n;\r\n      return ((n = this.observers) === null || n === void 0 ? void 0 : n.length) > 0;\r\n    },\r\n    enumerable: !1,\r\n    configurable: !0\r\n  }), t.prototype._trySubscribe = function(n) {\r\n    return this._throwIfClosed(), e.prototype._trySubscribe.call(this, n);\r\n  }, t.prototype._subscribe = function(n) {\r\n    return this._throwIfClosed(), this._checkFinalizedStatuses(n), this._innerSubscribe(n);\r\n  }, t.prototype._innerSubscribe = function(n) {\r\n    var r = this, i = this, o = i.hasError, s = i.isStopped, a = i.observers;\r\n    return o || s ? an : (this.currentObservers = null, a.push(n), new Oe(function() {\r\n      r.currentObservers = null, Ue(a, n);\r\n    }));\r\n  }, t.prototype._checkFinalizedStatuses = function(n) {\r\n    var r = this, i = r.hasError, o = r.thrownError, s = r.isStopped;\r\n    i ? n.error(o) : s && n.complete();\r\n  }, t.prototype.asObservable = function() {\r\n    var n = new k();\r\n    return n.source = this, n;\r\n  }, t.create = function(n, r) {\r\n    return new It(n, r);\r\n  }, t;\r\n}(k), It = function(e) {\r\n  ee(t, e);\r\n  function t(n, r) {\r\n    var i = e.call(this) || this;\r\n    return i.destination = n, i.source = r, i;\r\n  }\r\n  return t.prototype.next = function(n) {\r\n    var r, i;\r\n    (i = (r = this.destination) === null || r === void 0 ? void 0 : r.next) === null || i === void 0 || i.call(r, n);\r\n  }, t.prototype.error = function(n) {\r\n    var r, i;\r\n    (i = (r = this.destination) === null || r === void 0 ? void 0 : r.error) === null || i === void 0 || i.call(r, n);\r\n  }, t.prototype.complete = function() {\r\n    var n, r;\r\n    (r = (n = this.destination) === null || n === void 0 ? void 0 : n.complete) === null || r === void 0 || r.call(n);\r\n  }, t.prototype._subscribe = function(n) {\r\n    var r, i;\r\n    return (i = (r = this.source) === null || r === void 0 ? void 0 : r.subscribe(n)) !== null && i !== void 0 ? i : an;\r\n  }, t;\r\n}(Z), ln = function(e) {\r\n  ee(t, e);\r\n  function t(n) {\r\n    var r = e.call(this) || this;\r\n    return r._value = n, r;\r\n  }\r\n  return Object.defineProperty(t.prototype, \"value\", {\r\n    get: function() {\r\n      return this.getValue();\r\n    },\r\n    enumerable: !1,\r\n    configurable: !0\r\n  }), t.prototype._subscribe = function(n) {\r\n    var r = e.prototype._subscribe.call(this, n);\r\n    return !r.closed && n.next(this._value), r;\r\n  }, t.prototype.getValue = function() {\r\n    var n = this, r = n.hasError, i = n.thrownError, o = n._value;\r\n    if (r)\r\n      throw i;\r\n    return this._throwIfClosed(), o;\r\n  }, t.prototype.next = function(n) {\r\n    e.prototype.next.call(this, this._value = n);\r\n  }, t;\r\n}(Z), Yr = {\r\n  now: function() {\r\n    return Date.now();\r\n  }\r\n}, qr = function(e) {\r\n  ee(t, e);\r\n  function t(n, r) {\r\n    return e.call(this) || this;\r\n  }\r\n  return t.prototype.schedule = function(n, r) {\r\n    return this;\r\n  }, t;\r\n}(Oe), Rt = {\r\n  setInterval: function(e, t) {\r\n    for (var n = [], r = 2; r < arguments.length; r++)\r\n      n[r - 2] = arguments[r];\r\n    return setInterval.apply(void 0, ge([e, t], ue(n)));\r\n  },\r\n  clearInterval: function(e) {\r\n    return clearInterval(e);\r\n  },\r\n  delegate: void 0\r\n}, Kr = function(e) {\r\n  ee(t, e);\r\n  function t(n, r) {\r\n    var i = e.call(this, n, r) || this;\r\n    return i.scheduler = n, i.work = r, i.pending = !1, i;\r\n  }\r\n  return t.prototype.schedule = function(n, r) {\r\n    var i;\r\n    if (r === void 0 && (r = 0), this.closed)\r\n      return this;\r\n    this.state = n;\r\n    var o = this.id, s = this.scheduler;\r\n    return o != null && (this.id = this.recycleAsyncId(s, o, r)), this.pending = !0, this.delay = r, this.id = (i = this.id) !== null && i !== void 0 ? i : this.requestAsyncId(s, this.id, r), this;\r\n  }, t.prototype.requestAsyncId = function(n, r, i) {\r\n    return i === void 0 && (i = 0), Rt.setInterval(n.flush.bind(n, this), i);\r\n  }, t.prototype.recycleAsyncId = function(n, r, i) {\r\n    if (i === void 0 && (i = 0), i != null && this.delay === i && this.pending === !1)\r\n      return r;\r\n    r != null && Rt.clearInterval(r);\r\n  }, t.prototype.execute = function(n, r) {\r\n    if (this.closed)\r\n      return new Error(\"executing a cancelled action\");\r\n    this.pending = !1;\r\n    var i = this._execute(n, r);\r\n    if (i)\r\n      return i;\r\n    this.pending === !1 && this.id != null && (this.id = this.recycleAsyncId(this.scheduler, this.id, null));\r\n  }, t.prototype._execute = function(n, r) {\r\n    var i = !1, o;\r\n    try {\r\n      this.work(n);\r\n    } catch (s) {\r\n      i = !0, o = s || new Error(\"Scheduled action threw falsy error\");\r\n    }\r\n    if (i)\r\n      return this.unsubscribe(), o;\r\n  }, t.prototype.unsubscribe = function() {\r\n    if (!this.closed) {\r\n      var n = this, r = n.id, i = n.scheduler, o = i.actions;\r\n      this.work = this.state = this.scheduler = null, this.pending = !1, Ue(o, this), r != null && (this.id = this.recycleAsyncId(i, r, null)), this.delay = null, e.prototype.unsubscribe.call(this);\r\n    }\r\n  }, t;\r\n}(qr), Mt = function() {\r\n  function e(t, n) {\r\n    n === void 0 && (n = e.now), this.schedulerActionCtor = t, this.now = n;\r\n  }\r\n  return e.prototype.schedule = function(t, n, r) {\r\n    return n === void 0 && (n = 0), new this.schedulerActionCtor(this, t).schedule(r, n);\r\n  }, e.now = Yr.now, e;\r\n}(), Gr = function(e) {\r\n  ee(t, e);\r\n  function t(n, r) {\r\n    r === void 0 && (r = Mt.now);\r\n    var i = e.call(this, n, r) || this;\r\n    return i.actions = [], i._active = !1, i;\r\n  }\r\n  return t.prototype.flush = function(n) {\r\n    var r = this.actions;\r\n    if (this._active) {\r\n      r.push(n);\r\n      return;\r\n    }\r\n    var i;\r\n    this._active = !0;\r\n    do\r\n      if (i = n.execute(n.state, n.delay))\r\n        break;\r\n    while (n = r.shift());\r\n    if (this._active = !1, i) {\r\n      for (; n = r.shift(); )\r\n        n.unsubscribe();\r\n      throw i;\r\n    }\r\n  }, t;\r\n}(Mt), Qr = new Gr(Kr);\r\nfunction Jr(e) {\r\n  return e && A(e.schedule);\r\n}\r\nfunction Xr(e) {\r\n  return e[e.length - 1];\r\n}\r\nfunction yt(e) {\r\n  return Jr(Xr(e)) ? e.pop() : void 0;\r\n}\r\nvar wt = function(e) {\r\n  return e && typeof e.length == \"number\" && typeof e != \"function\";\r\n};\r\nfunction fn(e) {\r\n  return A(e == null ? void 0 : e.then);\r\n}\r\nfunction dn(e) {\r\n  return A(e[gt]);\r\n}\r\nfunction pn(e) {\r\n  return Symbol.asyncIterator && A(e == null ? void 0 : e[Symbol.asyncIterator]);\r\n}\r\nfunction hn(e) {\r\n  return new TypeError(\"You provided \" + (e !== null && typeof e == \"object\" ? \"an invalid object\" : \"'\" + e + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\r\n}\r\nfunction Zr() {\r\n  return typeof Symbol != \"function\" || !Symbol.iterator ? \"@@iterator\" : Symbol.iterator;\r\n}\r\nvar vn = Zr();\r\nfunction mn(e) {\r\n  return A(e == null ? void 0 : e[vn]);\r\n}\r\nfunction gn(e) {\r\n  return Rr(this, arguments, function() {\r\n    var n, r, i, o;\r\n    return sn(this, function(s) {\r\n      switch (s.label) {\r\n        case 0:\r\n          n = e.getReader(), s.label = 1;\r\n        case 1:\r\n          s.trys.push([1, , 9, 10]), s.label = 2;\r\n        case 2:\r\n          return [4, pe(n.read())];\r\n        case 3:\r\n          return r = s.sent(), i = r.value, o = r.done, o ? [4, pe(void 0)] : [3, 5];\r\n        case 4:\r\n          return [2, s.sent()];\r\n        case 5:\r\n          return [4, pe(i)];\r\n        case 6:\r\n          return [4, s.sent()];\r\n        case 7:\r\n          return s.sent(), [3, 2];\r\n        case 8:\r\n          return [3, 10];\r\n        case 9:\r\n          return n.releaseLock(), [7];\r\n        case 10:\r\n          return [2];\r\n      }\r\n    });\r\n  });\r\n}\r\nfunction bn(e) {\r\n  return A(e == null ? void 0 : e.getReader);\r\n}\r\nfunction H(e) {\r\n  if (e instanceof k)\r\n    return e;\r\n  if (e != null) {\r\n    if (dn(e))\r\n      return ei(e);\r\n    if (wt(e))\r\n      return ti(e);\r\n    if (fn(e))\r\n      return ni(e);\r\n    if (pn(e))\r\n      return yn(e);\r\n    if (mn(e))\r\n      return ri(e);\r\n    if (bn(e))\r\n      return ii(e);\r\n  }\r\n  throw hn(e);\r\n}\r\nfunction ei(e) {\r\n  return new k(function(t) {\r\n    var n = e[gt]();\r\n    if (A(n.subscribe))\r\n      return n.subscribe(t);\r\n    throw new TypeError(\"Provided object does not correctly implement Symbol.observable\");\r\n  });\r\n}\r\nfunction ti(e) {\r\n  return new k(function(t) {\r\n    for (var n = 0; n < e.length && !t.closed; n++)\r\n      t.next(e[n]);\r\n    t.complete();\r\n  });\r\n}\r\nfunction ni(e) {\r\n  return new k(function(t) {\r\n    e.then(function(n) {\r\n      t.closed || (t.next(n), t.complete());\r\n    }, function(n) {\r\n      return t.error(n);\r\n    }).then(null, un);\r\n  });\r\n}\r\nfunction ri(e) {\r\n  return new k(function(t) {\r\n    var n, r;\r\n    try {\r\n      for (var i = me(e), o = i.next(); !o.done; o = i.next()) {\r\n        var s = o.value;\r\n        if (t.next(s), t.closed)\r\n          return;\r\n      }\r\n    } catch (a) {\r\n      n = { error: a };\r\n    } finally {\r\n      try {\r\n        o && !o.done && (r = i.return) && r.call(i);\r\n      } finally {\r\n        if (n) throw n.error;\r\n      }\r\n    }\r\n    t.complete();\r\n  });\r\n}\r\nfunction yn(e) {\r\n  return new k(function(t) {\r\n    oi(e, t).catch(function(n) {\r\n      return t.error(n);\r\n    });\r\n  });\r\n}\r\nfunction ii(e) {\r\n  return yn(gn(e));\r\n}\r\nfunction oi(e, t) {\r\n  var n, r, i, o;\r\n  return Ir(this, void 0, void 0, function() {\r\n    var s, a;\r\n    return sn(this, function(c) {\r\n      switch (c.label) {\r\n        case 0:\r\n          c.trys.push([0, 5, 6, 11]), n = Mr(e), c.label = 1;\r\n        case 1:\r\n          return [4, n.next()];\r\n        case 2:\r\n          if (r = c.sent(), !!r.done) return [3, 4];\r\n          if (s = r.value, t.next(s), t.closed)\r\n            return [2];\r\n          c.label = 3;\r\n        case 3:\r\n          return [3, 1];\r\n        case 4:\r\n          return [3, 11];\r\n        case 5:\r\n          return a = c.sent(), i = { error: a }, [3, 11];\r\n        case 6:\r\n          return c.trys.push([6, , 9, 10]), r && !r.done && (o = n.return) ? [4, o.call(n)] : [3, 8];\r\n        case 7:\r\n          c.sent(), c.label = 8;\r\n        case 8:\r\n          return [3, 10];\r\n        case 9:\r\n          if (i) throw i.error;\r\n          return [7];\r\n        case 10:\r\n          return [7];\r\n        case 11:\r\n          return t.complete(), [2];\r\n      }\r\n    });\r\n  });\r\n}\r\nfunction re(e, t, n, r, i) {\r\n  r === void 0 && (r = 0), i === void 0 && (i = !1);\r\n  var o = t.schedule(function() {\r\n    n(), i ? e.add(this.schedule(null, r)) : this.unsubscribe();\r\n  }, r);\r\n  if (e.add(o), !i)\r\n    return o;\r\n}\r\nfunction wn(e, t) {\r\n  return t === void 0 && (t = 0), B(function(n, r) {\r\n    n.subscribe(W(r, function(i) {\r\n      return re(r, e, function() {\r\n        return r.next(i);\r\n      }, t);\r\n    }, function() {\r\n      return re(r, e, function() {\r\n        return r.complete();\r\n      }, t);\r\n    }, function(i) {\r\n      return re(r, e, function() {\r\n        return r.error(i);\r\n      }, t);\r\n    }));\r\n  });\r\n}\r\nfunction xn(e, t) {\r\n  return t === void 0 && (t = 0), B(function(n, r) {\r\n    r.add(e.schedule(function() {\r\n      return n.subscribe(r);\r\n    }, t));\r\n  });\r\n}\r\nfunction si(e, t) {\r\n  return H(e).pipe(xn(t), wn(t));\r\n}\r\nfunction ai(e, t) {\r\n  return H(e).pipe(xn(t), wn(t));\r\n}\r\nfunction ci(e, t) {\r\n  return new k(function(n) {\r\n    var r = 0;\r\n    return t.schedule(function() {\r\n      r === e.length ? n.complete() : (n.next(e[r++]), n.closed || this.schedule());\r\n    });\r\n  });\r\n}\r\nfunction ui(e, t) {\r\n  return new k(function(n) {\r\n    var r;\r\n    return re(n, t, function() {\r\n      r = e[vn](), re(n, t, function() {\r\n        var i, o, s;\r\n        try {\r\n          i = r.next(), o = i.value, s = i.done;\r\n        } catch (a) {\r\n          n.error(a);\r\n          return;\r\n        }\r\n        s ? n.complete() : n.next(o);\r\n      }, 0, !0);\r\n    }), function() {\r\n      return A(r == null ? void 0 : r.return) && r.return();\r\n    };\r\n  });\r\n}\r\nfunction Sn(e, t) {\r\n  if (!e)\r\n    throw new Error(\"Iterable cannot be null\");\r\n  return new k(function(n) {\r\n    re(n, t, function() {\r\n      var r = e[Symbol.asyncIterator]();\r\n      re(n, t, function() {\r\n        r.next().then(function(i) {\r\n          i.done ? n.complete() : n.next(i.value);\r\n        });\r\n      }, 0, !0);\r\n    });\r\n  });\r\n}\r\nfunction li(e, t) {\r\n  return Sn(gn(e), t);\r\n}\r\nfunction fi(e, t) {\r\n  if (e != null) {\r\n    if (dn(e))\r\n      return si(e, t);\r\n    if (wt(e))\r\n      return ci(e, t);\r\n    if (fn(e))\r\n      return ai(e, t);\r\n    if (pn(e))\r\n      return Sn(e, t);\r\n    if (mn(e))\r\n      return ui(e, t);\r\n    if (bn(e))\r\n      return li(e, t);\r\n  }\r\n  throw hn(e);\r\n}\r\nfunction Ge(e, t) {\r\n  return t ? fi(e, t) : H(e);\r\n}\r\nfunction Dt() {\r\n  for (var e = [], t = 0; t < arguments.length; t++)\r\n    e[t] = arguments[t];\r\n  var n = yt(e);\r\n  return Ge(e, n);\r\n}\r\nfunction di(e) {\r\n  return e instanceof Date && !isNaN(e);\r\n}\r\nvar pi = vt(function(e) {\r\n  return function(n) {\r\n    n === void 0 && (n = null), e(this), this.message = \"Timeout has occurred\", this.name = \"TimeoutError\", this.info = n;\r\n  };\r\n});\r\nfunction hi(e, t) {\r\n  var n = di(e) ? { first: e } : typeof e == \"number\" ? { each: e } : e, r = n.first, i = n.each, o = n.with, s = o === void 0 ? vi : o, a = n.scheduler, c = a === void 0 ? Qr : a, u = n.meta, l = u === void 0 ? null : u;\r\n  if (r == null && i == null)\r\n    throw new TypeError(\"No timeout provided.\");\r\n  return B(function(f, v) {\r\n    var d, m, p = null, g = 0, h = function(x) {\r\n      m = re(v, c, function() {\r\n        try {\r\n          d.unsubscribe(), H(s({\r\n            meta: l,\r\n            lastValue: p,\r\n            seen: g\r\n          })).subscribe(v);\r\n        } catch (E) {\r\n          v.error(E);\r\n        }\r\n      }, x);\r\n    };\r\n    d = f.subscribe(W(v, function(x) {\r\n      m == null || m.unsubscribe(), g++, v.next(p = x), i > 0 && h(i);\r\n    }, void 0, void 0, function() {\r\n      m != null && m.closed || m == null || m.unsubscribe(), p = null;\r\n    })), !g && h(r != null ? typeof r == \"number\" ? r : +r - c.now() : i);\r\n  });\r\n}\r\nfunction vi(e) {\r\n  throw new pi(e);\r\n}\r\nfunction O(e, t) {\r\n  return B(function(n, r) {\r\n    var i = 0;\r\n    n.subscribe(W(r, function(o) {\r\n      r.next(e.call(t, o, i++));\r\n    }));\r\n  });\r\n}\r\nvar mi = Array.isArray;\r\nfunction gi(e, t) {\r\n  return mi(t) ? e.apply(void 0, ge([], ue(t))) : e(t);\r\n}\r\nfunction bi(e) {\r\n  return O(function(t) {\r\n    return gi(e, t);\r\n  });\r\n}\r\nfunction yi(e, t, n, r, i, o, s, a) {\r\n  var c = [], u = 0, l = 0, f = !1, v = function() {\r\n    f && !c.length && !u && t.complete();\r\n  }, d = function(p) {\r\n    return u < r ? m(p) : c.push(p);\r\n  }, m = function(p) {\r\n    u++;\r\n    var g = !1;\r\n    H(n(p, l++)).subscribe(W(t, function(h) {\r\n      t.next(h);\r\n    }, function() {\r\n      g = !0;\r\n    }, void 0, function() {\r\n      if (g)\r\n        try {\r\n          u--;\r\n          for (var h = function() {\r\n            var x = c.shift();\r\n            s || m(x);\r\n          }; c.length && u < r; )\r\n            h();\r\n          v();\r\n        } catch (x) {\r\n          t.error(x);\r\n        }\r\n    }));\r\n  };\r\n  return e.subscribe(W(t, d, function() {\r\n    f = !0, v();\r\n  })), function() {\r\n  };\r\n}\r\nfunction xt(e, t, n) {\r\n  return n === void 0 && (n = 1 / 0), A(t) ? xt(function(r, i) {\r\n    return O(function(o, s) {\r\n      return t(r, o, i, s);\r\n    })(H(e(r, i)));\r\n  }, n) : (typeof t == \"number\" && (n = t), B(function(r, i) {\r\n    return yi(r, i, e, n);\r\n  }));\r\n}\r\nfunction wi(e) {\r\n  return xt(bt, e);\r\n}\r\nfunction xi() {\r\n  return wi(1);\r\n}\r\nfunction We() {\r\n  for (var e = [], t = 0; t < arguments.length; t++)\r\n    e[t] = arguments[t];\r\n  return xi()(Ge(e, yt(e)));\r\n}\r\nvar Si = [\"addListener\", \"removeListener\"], Ti = [\"addEventListener\", \"removeEventListener\"], Ei = [\"on\", \"off\"];\r\nfunction at(e, t, n, r) {\r\n  if (A(n) && (r = n, n = void 0), r)\r\n    return at(e, t, n).pipe(bi(r));\r\n  var i = ue(Ai(e) ? Ti.map(function(a) {\r\n    return function(c) {\r\n      return e[a](t, c, n);\r\n    };\r\n  }) : Ci(e) ? Si.map($t(e, t)) : Pi(e) ? Ei.map($t(e, t)) : [], 2), o = i[0], s = i[1];\r\n  if (!o && wt(e))\r\n    return xt(function(a) {\r\n      return at(a, t, n);\r\n    })(H(e));\r\n  if (!o)\r\n    throw new TypeError(\"Invalid event target\");\r\n  return new k(function(a) {\r\n    var c = function() {\r\n      for (var u = [], l = 0; l < arguments.length; l++)\r\n        u[l] = arguments[l];\r\n      return a.next(1 < u.length ? u : u[0]);\r\n    };\r\n    return o(c), function() {\r\n      return s(c);\r\n    };\r\n  });\r\n}\r\nfunction $t(e, t) {\r\n  return function(n) {\r\n    return function(r) {\r\n      return e[n](t, r);\r\n    };\r\n  };\r\n}\r\nfunction Ci(e) {\r\n  return A(e.addListener) && A(e.removeListener);\r\n}\r\nfunction Pi(e) {\r\n  return A(e.on) && A(e.off);\r\n}\r\nfunction Ai(e) {\r\n  return A(e.addEventListener) && A(e.removeEventListener);\r\n}\r\nfunction Qe(e, t) {\r\n  return B(function(n, r) {\r\n    var i = 0;\r\n    n.subscribe(W(r, function(o) {\r\n      return e.call(t, o, i++) && r.next(o);\r\n    }));\r\n  });\r\n}\r\nfunction Oi(e, t, n, r, i) {\r\n  return function(o, s) {\r\n    var a = n, c = t, u = 0;\r\n    o.subscribe(W(s, function(l) {\r\n      var f = u++;\r\n      c = a ? e(c, l, f) : (a = !0, l), s.next(c);\r\n    }, i));\r\n  };\r\n}\r\nfunction ki(e, t) {\r\n  return t === void 0 && (t = bt), e = e ?? Li, B(function(n, r) {\r\n    var i, o = !0;\r\n    n.subscribe(W(r, function(s) {\r\n      var a = t(s);\r\n      (o || !e(i, a)) && (o = !1, i = a, r.next(s));\r\n    }));\r\n  });\r\n}\r\nfunction Li(e, t) {\r\n  return e === t;\r\n}\r\nfunction ct(e, t) {\r\n  return B(Oi(e, t, arguments.length >= 2, !0));\r\n}\r\nfunction _i(e) {\r\n  e === void 0 && (e = {});\r\n  var t = e.connector, n = t === void 0 ? function() {\r\n    return new Z();\r\n  } : t, r = e.resetOnError, i = r === void 0 ? !0 : r, o = e.resetOnComplete, s = o === void 0 ? !0 : o, a = e.resetOnRefCountZero, c = a === void 0 ? !0 : a;\r\n  return function(u) {\r\n    var l, f, v, d = 0, m = !1, p = !1, g = function() {\r\n      f == null || f.unsubscribe(), f = void 0;\r\n    }, h = function() {\r\n      g(), l = v = void 0, m = p = !1;\r\n    }, x = function() {\r\n      var E = l;\r\n      h(), E == null || E.unsubscribe();\r\n    };\r\n    return B(function(E, P) {\r\n      d++, !p && !m && g();\r\n      var b = v = v ?? n();\r\n      P.add(function() {\r\n        d--, d === 0 && !p && !m && (f = et(x, c));\r\n      }), b.subscribe(P), !l && d > 0 && (l = new Ce({\r\n        next: function(S) {\r\n          return b.next(S);\r\n        },\r\n        error: function(S) {\r\n          p = !0, g(), f = et(h, i, S), b.error(S);\r\n        },\r\n        complete: function() {\r\n          m = !0, g(), f = et(h, s), b.complete();\r\n        }\r\n      }), H(E).subscribe(l));\r\n    })(u);\r\n  };\r\n}\r\nfunction et(e, t) {\r\n  for (var n = [], r = 2; r < arguments.length; r++)\r\n    n[r - 2] = arguments[r];\r\n  if (t === !0) {\r\n    e();\r\n    return;\r\n  }\r\n  if (t !== !1) {\r\n    var i = new Ce({\r\n      next: function() {\r\n        i.unsubscribe(), e();\r\n      }\r\n    });\r\n    return H(t.apply(void 0, ge([], ue(n)))).subscribe(i);\r\n  }\r\n}\r\nfunction Ii(e) {\r\n  return B(function(t, n) {\r\n    var r = !1, i = W(n, function() {\r\n      i == null || i.unsubscribe(), r = !0;\r\n    }, je);\r\n    H(e).subscribe(i), t.subscribe(W(n, function(o) {\r\n      return r && n.next(o);\r\n    }));\r\n  });\r\n}\r\nfunction D() {\r\n  for (var e = [], t = 0; t < arguments.length; t++)\r\n    e[t] = arguments[t];\r\n  var n = yt(e);\r\n  return B(function(r, i) {\r\n    (n ? We(e, r, n) : We(e, r)).subscribe(i);\r\n  });\r\n}\r\nfunction Tn(e, t) {\r\n  return B(function(n, r) {\r\n    var i = null, o = 0, s = !1, a = function() {\r\n      return s && !i && r.complete();\r\n    };\r\n    n.subscribe(W(r, function(c) {\r\n      i == null || i.unsubscribe();\r\n      var u = 0, l = o++;\r\n      H(e(c, l)).subscribe(i = W(r, function(f) {\r\n        return r.next(t ? t(c, f, l, u++) : f);\r\n      }, function() {\r\n        i = null, a();\r\n      }));\r\n    }, function() {\r\n      s = !0, a();\r\n    }));\r\n  });\r\n}\r\nfunction Nt(e) {\r\n  return B(function(t, n) {\r\n    H(e).subscribe(W(n, function() {\r\n      return n.complete();\r\n    }, je)), !n.closed && t.subscribe(n);\r\n  });\r\n}\r\nvar Ri = Object.defineProperty, Mi = Object.defineProperties, Di = Object.getOwnPropertyDescriptors, Ft = Object.getOwnPropertySymbols, $i = Object.prototype.hasOwnProperty, Ni = Object.prototype.propertyIsEnumerable, Ut = (e, t, n) => t in e ? Ri(e, t, { enumerable: !0, configurable: !0, writable: !0, value: n }) : e[t] = n, X = (e, t) => {\r\n  for (var n in t || (t = {}))\r\n    $i.call(t, n) && Ut(e, n, t[n]);\r\n  if (Ft)\r\n    for (var n of Ft(t))\r\n      Ni.call(t, n) && Ut(e, n, t[n]);\r\n  return e;\r\n}, Te = (e, t) => Mi(e, Di(t)), V = (e, t, n) => new Promise((r, i) => {\r\n  var o = (c) => {\r\n    try {\r\n      a(n.next(c));\r\n    } catch (u) {\r\n      i(u);\r\n    }\r\n  }, s = (c) => {\r\n    try {\r\n      a(n.throw(c));\r\n    } catch (u) {\r\n      i(u);\r\n    }\r\n  }, a = (c) => c.done ? r(c.value) : Promise.resolve(c.value).then(o, s);\r\n  a((n = n.apply(e, t)).next());\r\n}), En = \"lk\";\r\nfunction j(e) {\r\n  return typeof e > \"u\" ? !1 : Fi(e) || Ui(e);\r\n}\r\nfunction Fi(e) {\r\n  var t;\r\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && e.hasOwnProperty(\"track\") && typeof ((t = e.publication) == null ? void 0 : t.track) < \"u\" : !1;\r\n}\r\nfunction Ui(e) {\r\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && e.hasOwnProperty(\"publication\") && typeof e.publication < \"u\" : !1;\r\n}\r\nfunction Pe(e) {\r\n  return e ? e.hasOwnProperty(\"participant\") && e.hasOwnProperty(\"source\") && typeof e.publication > \"u\" : !1;\r\n}\r\nfunction N(e) {\r\n  if (typeof e == \"string\" || typeof e == \"number\")\r\n    return `${e}`;\r\n  if (Pe(e))\r\n    return `${e.participant.identity}_${e.source}_placeholder`;\r\n  if (j(e))\r\n    return `${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;\r\n  throw new Error(`Can't generate a id for the given track reference: ${e}`);\r\n}\r\nfunction Do(e, t) {\r\n  return e === void 0 || t === void 0 ? !1 : j(e) && j(t) ? e.publication.trackSid === t.publication.trackSid : N(e) === N(t);\r\n}\r\nfunction $o(e, t) {\r\n  return typeof t > \"u\" ? !1 : j(e) ? t.some(\r\n    (n) => n.participant.identity === e.participant.identity && j(n) && n.publication.trackSid === e.publication.trackSid\r\n  ) : Pe(e) ? t.some(\r\n    (n) => n.participant.identity === e.participant.identity && Pe(n) && n.source === e.source\r\n  ) : !1;\r\n}\r\nfunction ji(e, t) {\r\n  return Pe(e) && j(t) && t.participant.identity === e.participant.identity && t.source === e.source;\r\n}\r\nfunction No() {\r\n  const e = document.createElement(\"p\");\r\n  e.style.width = \"100%\", e.style.height = \"200px\";\r\n  const t = document.createElement(\"div\");\r\n  t.style.position = \"absolute\", t.style.top = \"0px\", t.style.left = \"0px\", t.style.visibility = \"hidden\", t.style.width = \"200px\", t.style.height = \"150px\", t.style.overflow = \"hidden\", t.appendChild(e), document.body.appendChild(t);\r\n  const n = e.offsetWidth;\r\n  t.style.overflow = \"scroll\";\r\n  let r = e.offsetWidth;\r\n  return n === r && (r = t.clientWidth), document.body.removeChild(t), n - r;\r\n}\r\nfunction Fo() {\r\n  return typeof document < \"u\";\r\n}\r\nfunction Wi(e) {\r\n  e = X({}, e);\r\n  const t = \"(?:(?:[a-z]+:)?//)?\", n = \"(?:\\\\S+(?::\\\\S*)?@)?\", r = new RegExp(\r\n    \"(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}\",\r\n    \"g\"\r\n  ).source, u = `(?:${t}|www\\\\.)${n}(?:localhost|${r}|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9][-_]*)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\\\\.?)(?::\\\\d{2,5})?(?:[/?#][^\\\\s\"]*)?`;\r\n  return e.exact ? new RegExp(`(?:^${u}$)`, \"i\") : new RegExp(u, \"ig\");\r\n}\r\nvar jt = \"[^\\\\.\\\\s@:](?:[^\\\\s@:]*[^\\\\s@:\\\\.])?@[^\\\\.\\\\s@]+(?:\\\\.[^\\\\.\\\\s@]+)*\";\r\nfunction Bi({ exact: e } = {}) {\r\n  return e ? new RegExp(`^${jt}$`) : new RegExp(jt, \"g\");\r\n}\r\nfunction Uo(e, t, n) {\r\n  return Sr(e, t, () => V(this, null, function* () {\r\n    const { x: i, y: o } = yield Pr(e, t, {\r\n      placement: \"top\",\r\n      middleware: [Tr(6), Cr(), Er({ padding: 5 })]\r\n    });\r\n    n == null || n(i, o);\r\n  }));\r\n}\r\nfunction jo(e, t) {\r\n  return !e.contains(t.target);\r\n}\r\nvar Wo = () => ({\r\n  email: Bi(),\r\n  url: Wi({})\r\n});\r\nfunction Bo(e, t) {\r\n  const n = Object.entries(t).map(\r\n    ([o, s], a) => Array.from(e.matchAll(s)).map(({ index: c, 0: u }) => ({\r\n      type: o,\r\n      weight: a,\r\n      content: u,\r\n      index: c ?? 0\r\n    }))\r\n  ).flat().sort((o, s) => {\r\n    const a = o.index - s.index;\r\n    return a !== 0 ? a : o.weight - s.weight;\r\n  }).filter(({ index: o }, s, a) => {\r\n    if (s === 0) return !0;\r\n    const c = a[s - 1];\r\n    return c.index + c.content.length <= o;\r\n  }), r = [];\r\n  let i = 0;\r\n  for (const { type: o, content: s, index: a } of n)\r\n    a > i && r.push(e.substring(i, a)), r.push({ type: o, content: s }), i = a + s.length;\r\n  return e.length > i && r.push(e.substring(i)), r;\r\n}\r\nvar Vi = [\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RoomMetadataChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionQualityChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantPermissionsChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantMetadataChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantNameChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantAttributesChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackMuted,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnmuted,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackPublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnpublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackStreamStateChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionFailed,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionPermissionChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionStatusChanged\r\n], Cn = [\r\n  ...Vi,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished\r\n], Hi = [\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackStreamStateChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscribed,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnsubscribed,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionPermissionChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionFailed,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\r\n], zi = [\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ConnectionQualityChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.IsSpeakingChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantMetadataChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackStreamStateChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionFailed,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionPermissionChanged,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionStatusChanged\r\n], Pn = [\r\n  ...zi,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\r\n], _ = _r.getLogger(\"lk-components-js\");\r\n_.setDefaultLevel(\"WARN\");\r\nfunction Vo(e, t = {}) {\r\n  var n;\r\n  _.setLevel(e), (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel)((n = t.liveKitClientLogLevel) != null ? n : e);\r\n}\r\nfunction Ho(e, t = {}) {\r\n  var n;\r\n  const r = _.methodFactory;\r\n  _.methodFactory = (i, o, s) => {\r\n    const a = r(i, o, s), c = livekit_client__WEBPACK_IMPORTED_MODULE_0__.LogLevel[i], u = c >= o && c < livekit_client__WEBPACK_IMPORTED_MODULE_0__.LogLevel.silent;\r\n    return (l, f) => {\r\n      f ? a(l, f) : a(l), u && e(c, l, f);\r\n    };\r\n  }, _.setLevel(_.getLevel()), (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.setLogExtension)((n = t.liveKitClientLogExtension) != null ? n : e);\r\n}\r\nvar zo = [\r\n  {\r\n    columns: 1,\r\n    rows: 1\r\n  },\r\n  {\r\n    columns: 1,\r\n    rows: 2,\r\n    orientation: \"portrait\"\r\n  },\r\n  {\r\n    columns: 2,\r\n    rows: 1,\r\n    orientation: \"landscape\"\r\n  },\r\n  {\r\n    columns: 2,\r\n    rows: 2,\r\n    minWidth: 560\r\n  },\r\n  {\r\n    columns: 3,\r\n    rows: 3,\r\n    minWidth: 700\r\n  },\r\n  {\r\n    columns: 4,\r\n    rows: 4,\r\n    minWidth: 960\r\n  },\r\n  {\r\n    columns: 5,\r\n    rows: 5,\r\n    minWidth: 1100\r\n  }\r\n];\r\nfunction Yi(e, t, n, r) {\r\n  if (e.length < 1)\r\n    throw new Error(\"At least one grid layout definition must be provided.\");\r\n  const i = qi(e);\r\n  if (n <= 0 || r <= 0)\r\n    return i[0];\r\n  let o = 0;\r\n  const s = n / r > 1 ? \"landscape\" : \"portrait\";\r\n  let a = i.find((c, u, l) => {\r\n    o = u;\r\n    const f = l.findIndex((v, d) => {\r\n      const m = !v.orientation || v.orientation === s, p = d > u, g = v.maxTiles === c.maxTiles;\r\n      return p && g && m;\r\n    }) !== -1;\r\n    return c.maxTiles >= t && !f;\r\n  });\r\n  if (a === void 0)\r\n    if (a = i[i.length - 1], a)\r\n      _.warn(\r\n        `No layout found for: participantCount: ${t}, width/height: ${n}/${r} fallback to biggest available layout (${a}).`\r\n      );\r\n    else\r\n      throw new Error(\"No layout or fallback layout found.\");\r\n  if ((n < a.minWidth || r < a.minHeight) && o > 0) {\r\n    const c = i[o - 1];\r\n    a = Yi(\r\n      i.slice(0, o),\r\n      c.maxTiles,\r\n      n,\r\n      r\r\n    );\r\n  }\r\n  return a;\r\n}\r\nfunction qi(e) {\r\n  return [...e].map((t) => {\r\n    var n, r;\r\n    return {\r\n      name: `${t.columns}x${t.rows}`,\r\n      columns: t.columns,\r\n      rows: t.rows,\r\n      maxTiles: t.columns * t.rows,\r\n      minWidth: (n = t.minWidth) != null ? n : 0,\r\n      minHeight: (r = t.minHeight) != null ? r : 0,\r\n      orientation: t.orientation\r\n    };\r\n  }).sort((t, n) => t.maxTiles !== n.maxTiles ? t.maxTiles - n.maxTiles : t.minWidth !== 0 || n.minWidth !== 0 ? t.minWidth - n.minWidth : t.minHeight !== 0 || n.minHeight !== 0 ? t.minHeight - n.minHeight : 0);\r\n}\r\nfunction Yo() {\r\n  return typeof navigator < \"u\" && navigator.mediaDevices && !!navigator.mediaDevices.getDisplayMedia;\r\n}\r\nfunction qo(e, t) {\r\n  var n;\r\n  return Te(X({}, e), {\r\n    receivedAtMediaTimestamp: (n = t.rtpTimestamp) != null ? n : 0,\r\n    receivedAt: t.timestamp\r\n  });\r\n}\r\nfunction Ko(e, t, n) {\r\n  return [...e, ...t].reduceRight((r, i) => (r.find((o) => o.id === i.id) || r.unshift(i), r), []).slice(0 - n);\r\n}\r\nvar An = [], On = {\r\n  showChat: !1,\r\n  unreadMessages: 0,\r\n  showSettings: !1\r\n};\r\nfunction Ki(e) {\r\n  return typeof e == \"object\";\r\n}\r\nfunction Go(e) {\r\n  return Array.isArray(e) && e.filter(Ki).length > 0;\r\n}\r\nfunction kn(e, t) {\r\n  return t.audioLevel - e.audioLevel;\r\n}\r\nfunction Ln(e, t) {\r\n  return e.isSpeaking === t.isSpeaking ? 0 : e.isSpeaking ? -1 : 1;\r\n}\r\nfunction _n(e, t) {\r\n  var n, r, i, o;\r\n  return e.lastSpokeAt !== void 0 || t.lastSpokeAt !== void 0 ? ((r = (n = t.lastSpokeAt) == null ? void 0 : n.getTime()) != null ? r : 0) - ((o = (i = e.lastSpokeAt) == null ? void 0 : i.getTime()) != null ? o : 0) : 0;\r\n}\r\nfunction Be(e, t) {\r\n  var n, r, i, o;\r\n  return ((r = (n = e.joinedAt) == null ? void 0 : n.getTime()) != null ? r : 0) - ((o = (i = t.joinedAt) == null ? void 0 : i.getTime()) != null ? o : 0);\r\n}\r\nfunction Gi(e, t) {\r\n  return j(e) ? j(t) ? 0 : -1 : j(t) ? 1 : 0;\r\n}\r\nfunction Qi(e, t) {\r\n  const n = e.participant.isCameraEnabled, r = t.participant.isCameraEnabled;\r\n  return n !== r ? n ? -1 : 1 : 0;\r\n}\r\nfunction Qo(e) {\r\n  const t = [], n = [], r = [], i = [];\r\n  e.forEach((a) => {\r\n    a.participant.isLocal && a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera ? t.push(a) : a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare ? n.push(a) : a.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera ? r.push(a) : i.push(a);\r\n  });\r\n  const o = Ji(n), s = Xi(r);\r\n  return [...t, ...o, ...s, ...i];\r\n}\r\nfunction Ji(e) {\r\n  const t = [], n = [];\r\n  return e.forEach((i) => {\r\n    i.participant.isLocal ? t.push(i) : n.push(i);\r\n  }), t.sort((i, o) => Be(i.participant, o.participant)), n.sort((i, o) => Be(i.participant, o.participant)), [...n, ...t];\r\n}\r\nfunction Xi(e) {\r\n  const t = [], n = [];\r\n  return e.forEach((r) => {\r\n    r.participant.isLocal ? t.push(r) : n.push(r);\r\n  }), n.sort((r, i) => r.participant.isSpeaking && i.participant.isSpeaking ? kn(r.participant, i.participant) : r.participant.isSpeaking !== i.participant.isSpeaking ? Ln(r.participant, i.participant) : r.participant.lastSpokeAt !== i.participant.lastSpokeAt ? _n(r.participant, i.participant) : j(r) !== j(i) ? Gi(r, i) : r.participant.isCameraEnabled !== i.participant.isCameraEnabled ? Qi(r, i) : Be(r.participant, i.participant)), [...t, ...n];\r\n}\r\nfunction Jo(e) {\r\n  const t = [...e];\r\n  t.sort((r, i) => {\r\n    if (r.isSpeaking && i.isSpeaking)\r\n      return kn(r, i);\r\n    if (r.isSpeaking !== i.isSpeaking)\r\n      return Ln(r, i);\r\n    if (r.lastSpokeAt !== i.lastSpokeAt)\r\n      return _n(r, i);\r\n    const o = r.videoTrackPublications.size > 0, s = i.videoTrackPublications.size > 0;\r\n    return o !== s ? o ? -1 : 1 : Be(r, i);\r\n  });\r\n  const n = t.find((r) => r.isLocal);\r\n  if (n) {\r\n    const r = t.indexOf(n);\r\n    r >= 0 && (t.splice(r, 1), t.length > 0 ? t.splice(0, 0, n) : t.push(n));\r\n  }\r\n  return t;\r\n}\r\nfunction Zi(e, t) {\r\n  return e.reduce(\r\n    (n, r, i) => i % t === 0 ? [...n, [r]] : [...n.slice(0, -1), [...n.slice(-1)[0], r]],\r\n    []\r\n  );\r\n}\r\nfunction Wt(e, t) {\r\n  const n = Math.max(e.length, t.length);\r\n  return new Array(n).fill([]).map((r, i) => [e[i], t[i]]);\r\n}\r\nfunction Ve(e, t, n) {\r\n  return e.filter((r) => !t.map((i) => n(i)).includes(n(r)));\r\n}\r\nfunction ut(e) {\r\n  return e.map((t) => typeof t == \"string\" || typeof t == \"number\" ? `${t}` : N(t));\r\n}\r\nfunction eo(e, t) {\r\n  return {\r\n    dropped: Ve(e, t, N),\r\n    added: Ve(t, e, N)\r\n  };\r\n}\r\nfunction to(e) {\r\n  return e.added.length !== 0 || e.dropped.length !== 0;\r\n}\r\nfunction lt(e, t) {\r\n  const n = t.findIndex(\r\n    (r) => N(r) === N(e)\r\n  );\r\n  if (n === -1)\r\n    throw new Error(\r\n      `Element not part of the array: ${N(\r\n        e\r\n      )} not in ${ut(t)}`\r\n    );\r\n  return n;\r\n}\r\nfunction no(e, t, n) {\r\n  const r = lt(e, n), i = lt(t, n);\r\n  return n.splice(r, 1, t), n.splice(i, 1, e), n;\r\n}\r\nfunction ro(e, t) {\r\n  const n = lt(e, t);\r\n  return t.splice(n, 1), t;\r\n}\r\nfunction io(e, t) {\r\n  return [...t, e];\r\n}\r\nfunction tt(e, t) {\r\n  return Zi(e, t);\r\n}\r\nfunction Xo(e, t, n) {\r\n  let r = oo(e, t);\r\n  if (r.length < t.length) {\r\n    const s = Ve(t, r, N);\r\n    r = [...r, ...s];\r\n  }\r\n  const i = tt(r, n), o = tt(t, n);\r\n  if (Wt(i, o).forEach(([s, a], c) => {\r\n    if (s && a) {\r\n      const u = tt(r, n)[c], l = eo(u, a);\r\n      to(l) && (_.debug(\r\n        `Detected visual changes on page: ${c}, current: ${ut(\r\n          s\r\n        )}, next: ${ut(a)}`,\r\n        { changes: l }\r\n      ), l.added.length === l.dropped.length && Wt(l.added, l.dropped).forEach(([f, v]) => {\r\n        if (f && v)\r\n          r = no(f, v, r);\r\n        else\r\n          throw new Error(\r\n            `For a swap action we need a addition and a removal one is missing: ${f}, ${v}`\r\n          );\r\n      }), l.added.length === 0 && l.dropped.length > 0 && l.dropped.forEach((f) => {\r\n        r = ro(f, r);\r\n      }), l.added.length > 0 && l.dropped.length === 0 && l.added.forEach((f) => {\r\n        r = io(f, r);\r\n      }));\r\n    }\r\n  }), r.length > t.length) {\r\n    const s = Ve(r, t, N);\r\n    r = r.filter(\r\n      (a) => !s.map(N).includes(N(a))\r\n    );\r\n  }\r\n  return r;\r\n}\r\nfunction oo(e, t) {\r\n  return e.map((n) => {\r\n    const r = t.find(\r\n      (i) => (\r\n        // If the IDs match or ..\r\n        N(n) === N(i) || // ... if the current item is a placeholder and the new item is the track reference can replace it.\r\n        typeof n != \"number\" && Pe(n) && j(i) && ji(n, i)\r\n      )\r\n    );\r\n    return r ?? n;\r\n  });\r\n}\r\nfunction F(e) {\r\n  return `${En}-${e}`;\r\n}\r\nfunction Zo(e) {\r\n  const t = Bt(e), n = In(e.participant).pipe(\r\n    O(() => Bt(e)),\r\n    D(t)\r\n  );\r\n  return { className: F(\r\n    e.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera || e.source === livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare ? \"participant-media-video\" : \"participant-media-audio\"\r\n  ), trackObserver: n };\r\n}\r\nfunction Bt(e) {\r\n  if (j(e))\r\n    return e.publication;\r\n  {\r\n    const { source: t, name: n, participant: r } = e;\r\n    if (t && n)\r\n      return r.getTrackPublications().find((i) => i.source === t && i.trackName === n);\r\n    if (n)\r\n      return r.getTrackPublicationByName(n);\r\n    if (t)\r\n      return r.getTrackPublication(t);\r\n    throw new Error(\"At least one of source and name needs to be defined\");\r\n  }\r\n}\r\nfunction le(e, ...t) {\r\n  return new k((r) => {\r\n    const i = () => {\r\n      r.next(e);\r\n    };\r\n    return t.forEach((s) => {\r\n      e.on(s, i);\r\n    }), () => {\r\n      t.forEach((s) => {\r\n        e.off(s, i);\r\n      });\r\n    };\r\n  }).pipe(D(e));\r\n}\r\nfunction ye(e, t) {\r\n  return new k((r) => {\r\n    const i = (...s) => {\r\n      r.next(s);\r\n    };\r\n    return e.on(t, i), () => {\r\n      e.off(t, i);\r\n    };\r\n  });\r\n}\r\nfunction es(e) {\r\n  return ye(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged).pipe(\r\n    O(([t]) => t),\r\n    D(e.state)\r\n  );\r\n}\r\nfunction ts(e) {\r\n  return le(\r\n    e,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RoomMetadataChanged,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\r\n  ).pipe(\r\n    O((n) => ({ name: n.name, metadata: n.metadata }))\r\n  );\r\n}\r\nfunction ns(e) {\r\n  return ye(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveSpeakersChanged).pipe(\r\n    O(([t]) => t)\r\n  );\r\n}\r\nfunction rs(e, t, n = !0) {\r\n  const r = new k((o) => {\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.Room.getLocalDevices(e, n).then((s) => {\r\n      o.next(s), o.complete();\r\n    }).catch((s) => {\r\n      t == null || t(s), o.next([]), o.complete();\r\n    });\r\n  }), i = new k((o) => {\r\n    var s;\r\n    const a = () => V(this, null, function* () {\r\n      try {\r\n        const c = yield livekit_client__WEBPACK_IMPORTED_MODULE_0__.Room.getLocalDevices(e, n);\r\n        o.next(c);\r\n      } catch (c) {\r\n        t == null || t(c);\r\n      }\r\n    });\r\n    if (typeof window < \"u\") {\r\n      if (!window.isSecureContext)\r\n        throw new Error(\r\n          \"Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices\"\r\n        );\r\n      (s = navigator == null ? void 0 : navigator.mediaDevices) == null || s.addEventListener(\"devicechange\", a);\r\n    }\r\n    return () => {\r\n      var c;\r\n      (c = navigator == null ? void 0 : navigator.mediaDevices) == null || c.removeEventListener(\"devicechange\", a);\r\n    };\r\n  });\r\n  return We(r, i);\r\n}\r\nfunction so(e) {\r\n  return ye(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.DataReceived);\r\n}\r\nfunction ao(e) {\r\n  return le(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.AudioPlaybackStatusChanged).pipe(\r\n    O((n) => ({ canPlayAudio: n.canPlaybackAudio }))\r\n  );\r\n}\r\nfunction co(e) {\r\n  return le(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.VideoPlaybackStatusChanged).pipe(\r\n    O((n) => ({ canPlayVideo: n.canPlaybackVideo }))\r\n  );\r\n}\r\nfunction uo(e, t) {\r\n  return ye(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ActiveDeviceChanged).pipe(\r\n    Qe(([n]) => n === t),\r\n    O(([n, r]) => (_.debug(\"activeDeviceObservable | RoomEvent.ActiveDeviceChanged\", { kind: n, deviceId: r }), r))\r\n  );\r\n}\r\nfunction is(e, t) {\r\n  return ye(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantEncryptionStatusChanged).pipe(\r\n    Qe(\r\n      ([, n]) => (t == null ? void 0 : t.identity) === (n == null ? void 0 : n.identity) || !n && (t == null ? void 0 : t.identity) === e.localParticipant.identity\r\n    ),\r\n    O(([n]) => n),\r\n    D(\r\n      t != null && t.isLocal ? t.isE2EEEnabled : !!(t != null && t.isEncrypted)\r\n    )\r\n  );\r\n}\r\nfunction os(e) {\r\n  return ye(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.RecordingStatusChanged).pipe(\r\n    O(([t]) => t),\r\n    D(e.isRecording)\r\n  );\r\n}\r\nfunction we(e, ...t) {\r\n  return new k((r) => {\r\n    const i = () => {\r\n      r.next(e);\r\n    };\r\n    return t.forEach((s) => {\r\n      e.on(s, i);\r\n    }), () => {\r\n      t.forEach((s) => {\r\n        e.off(s, i);\r\n      });\r\n    };\r\n  }).pipe(D(e));\r\n}\r\nfunction In(e) {\r\n  return we(\r\n    e,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged,\r\n    // ParticipantEvent.IsSpeakingChanged,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackPublished,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnpublished,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.MediaDevicesError,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscriptionStatusChanged\r\n    // ParticipantEvent.ConnectionQualityChanged,\r\n  ).pipe(\r\n    O((n) => {\r\n      const { isMicrophoneEnabled: r, isCameraEnabled: i, isScreenShareEnabled: o } = n, s = n.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone), a = n.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera);\r\n      return {\r\n        isCameraEnabled: i,\r\n        isMicrophoneEnabled: r,\r\n        isScreenShareEnabled: o,\r\n        cameraTrack: a,\r\n        microphoneTrack: s,\r\n        participant: n\r\n      };\r\n    })\r\n  );\r\n}\r\nfunction lo(e) {\r\n  return e ? we(\r\n    e,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantMetadataChanged,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantNameChanged\r\n  ).pipe(\r\n    O(({ name: n, identity: r, metadata: i }) => ({\r\n      name: n,\r\n      identity: r,\r\n      metadata: i\r\n    })),\r\n    D({\r\n      name: e.name,\r\n      identity: e.identity,\r\n      metadata: e.metadata\r\n    })\r\n  ) : void 0;\r\n}\r\nfunction fo(e) {\r\n  return Je(\r\n    e,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ConnectionQualityChanged\r\n  ).pipe(\r\n    O(([n]) => n),\r\n    D(e.connectionQuality)\r\n  );\r\n}\r\nfunction Je(e, t) {\r\n  return new k((r) => {\r\n    const i = (...s) => {\r\n      r.next(s);\r\n    };\r\n    return e.on(t, i), () => {\r\n      e.off(t, i);\r\n    };\r\n  });\r\n}\r\nfunction po(e) {\r\n  var t, n, r, i;\r\n  return we(\r\n    e.participant,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackMuted,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnmuted,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackSubscribed,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.TrackUnsubscribed,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackPublished,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.LocalTrackUnpublished\r\n  ).pipe(\r\n    O((o) => {\r\n      var s, a;\r\n      const c = (s = e.publication) != null ? s : o.getTrackPublication(e.source);\r\n      return (a = c == null ? void 0 : c.isMuted) != null ? a : !0;\r\n    }),\r\n    D(\r\n      (i = (r = (t = e.publication) == null ? void 0 : t.isMuted) != null ? r : (n = e.participant.getTrackPublication(e.source)) == null ? void 0 : n.isMuted) != null ? i : !0\r\n    )\r\n  );\r\n}\r\nfunction ss(e) {\r\n  return Je(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.IsSpeakingChanged).pipe(\r\n    O(([t]) => t)\r\n  );\r\n}\r\nfunction as(e, t = {}) {\r\n  var n;\r\n  let r;\r\n  const i = new k((c) => (r = c, () => a.unsubscribe())).pipe(D(Array.from(e.remoteParticipants.values()))), o = (n = t.additionalRoomEvents) != null ? n : Cn, s = Array.from(\r\n    /* @__PURE__ */ new Set([\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\r\n      ...o\r\n    ])\r\n  ), a = le(e, ...s).subscribe(\r\n    (c) => r == null ? void 0 : r.next(Array.from(c.remoteParticipants.values()))\r\n  );\r\n  return e.remoteParticipants.size > 0 && (r == null || r.next(Array.from(e.remoteParticipants.values()))), i;\r\n}\r\nfunction cs(e, t, n = {}) {\r\n  var r;\r\n  const i = (r = n.additionalEvents) != null ? r : Pn;\r\n  return le(\r\n    e,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\r\n  ).pipe(\r\n    Tn((s) => {\r\n      const a = s.getParticipantByIdentity(t);\r\n      return a ? we(a, ...i) : new k((c) => c.next(void 0));\r\n    }),\r\n    D(e.getParticipantByIdentity(t))\r\n  );\r\n}\r\nfunction us(e) {\r\n  return Je(\r\n    e,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.ParticipantPermissionsChanged\r\n  ).pipe(\r\n    O(() => e.permissions),\r\n    D(e.permissions)\r\n  );\r\n}\r\nfunction ls(e, { kind: t, identity: n }, r = {}) {\r\n  var i;\r\n  const o = (i = r.additionalEvents) != null ? i : Pn, s = (c) => {\r\n    let u = !0;\r\n    return t && (u = u && c.kind === t), n && (u = u && c.identity === n), u;\r\n  };\r\n  return le(\r\n    e,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\r\n    livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged\r\n  ).pipe(\r\n    Tn((c) => {\r\n      const u = Array.from(c.remoteParticipants.values()).find(\r\n        (l) => s(l)\r\n      );\r\n      return u ? we(u, ...o) : new k((l) => l.next(void 0));\r\n    }),\r\n    D(Array.from(e.remoteParticipants.values()).find((c) => s(c)))\r\n  );\r\n}\r\nfunction fs(e) {\r\n  return typeof e > \"u\" ? new k() : Je(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.ParticipantEvent.AttributesChanged).pipe(\r\n    O(([t]) => ({\r\n      changed: t,\r\n      attributes: e.attributes\r\n    })),\r\n    D({ changed: e.attributes, attributes: e.attributes })\r\n  );\r\n}\r\nfunction ds(e, t, n, r, i) {\r\n  const { localParticipant: o } = t, s = (f, v) => {\r\n    let d = !1;\r\n    switch (f) {\r\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\r\n        d = v.isCameraEnabled;\r\n        break;\r\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\r\n        d = v.isMicrophoneEnabled;\r\n        break;\r\n      case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare:\r\n        d = v.isScreenShareEnabled;\r\n        break;\r\n    }\r\n    return d;\r\n  }, a = In(o).pipe(\r\n    O((f) => s(e, f.participant)),\r\n    D(s(e, o))\r\n  ), c = new Z(), u = (f, v) => V(this, null, function* () {\r\n    try {\r\n      switch (v ?? (v = n), c.next(!0), e) {\r\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\r\n          return yield o.setCameraEnabled(\r\n            f ?? !o.isCameraEnabled,\r\n            v,\r\n            r\r\n          ), o.isCameraEnabled;\r\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\r\n          return yield o.setMicrophoneEnabled(\r\n            f ?? !o.isMicrophoneEnabled,\r\n            v,\r\n            r\r\n          ), o.isMicrophoneEnabled;\r\n        case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.ScreenShare:\r\n          return yield o.setScreenShareEnabled(\r\n            f ?? !o.isScreenShareEnabled,\r\n            v,\r\n            r\r\n          ), o.isScreenShareEnabled;\r\n        default:\r\n          throw new TypeError(\"Tried to toggle unsupported source\");\r\n      }\r\n    } catch (d) {\r\n      if (i && d instanceof Error) {\r\n        i == null || i(d);\r\n        return;\r\n      } else\r\n        throw d;\r\n    } finally {\r\n      c.next(!1);\r\n    }\r\n  });\r\n  return {\r\n    className: F(\"button\"),\r\n    toggle: u,\r\n    enabledObserver: a,\r\n    pendingObserver: c.asObservable()\r\n  };\r\n}\r\nfunction ps() {\r\n  let e = !1;\r\n  const t = new Z(), n = new Z(), r = (o) => V(this, null, function* () {\r\n    n.next(!0), e = o ?? !e, t.next(e), n.next(!1);\r\n  });\r\n  return {\r\n    className: F(\"button\"),\r\n    toggle: r,\r\n    enabledObserver: t.asObservable(),\r\n    pendingObserver: n.asObservable()\r\n  };\r\n}\r\nfunction hs(e, t, n) {\r\n  const r = new ln(void 0), i = uo(t, e), o = (a, ...c) => V(this, [a, ...c], function* (u, l = {}) {\r\n    var f, v, d;\r\n    if (t) {\r\n      _.debug(`Switching active device of kind \"${e}\" with id ${u}.`), yield t.switchActiveDevice(e, u, l.exact);\r\n      const m = (f = t.getActiveDevice(e)) != null ? f : u;\r\n      m !== u && u !== \"default\" && _.info(\r\n        `We tried to select the device with id (${u}), but the browser decided to select the device with id (${m}) instead.`\r\n      );\r\n      let p;\r\n      e === \"audioinput\" ? p = (v = t.localParticipant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone)) == null ? void 0 : v.track : e === \"videoinput\" && (p = (d = t.localParticipant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera)) == null ? void 0 : d.track);\r\n      const g = u === \"default\" && !p || u === \"default\" && (p == null ? void 0 : p.mediaStreamTrack.label.startsWith(\"Default\"));\r\n      r.next(g ? u : m);\r\n    }\r\n  });\r\n  return {\r\n    className: F(\"media-device-select\"),\r\n    activeDeviceObservable: i,\r\n    setActiveMediaDevice: o\r\n  };\r\n}\r\nfunction vs(e) {\r\n  const t = (r) => {\r\n    e.disconnect(r);\r\n  };\r\n  return { className: F(\"disconnect-button\"), disconnect: t };\r\n}\r\nfunction ms(e) {\r\n  const t = F(\"connection-quality\"), n = fo(e);\r\n  return { className: t, connectionQualityObserver: n };\r\n}\r\nfunction gs(e) {\r\n  let t = \"track-muted-indicator-camera\";\r\n  switch (e.source) {\r\n    case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Camera:\r\n      t = \"track-muted-indicator-camera\";\r\n      break;\r\n    case livekit_client__WEBPACK_IMPORTED_MODULE_0__.Track.Source.Microphone:\r\n      t = \"track-muted-indicator-microphone\";\r\n      break;\r\n  }\r\n  const n = F(t), r = po(e);\r\n  return { className: n, mediaMutedObserver: r };\r\n}\r\nfunction bs(e) {\r\n  return { className: \"lk-participant-name\", infoObserver: lo(e) };\r\n}\r\nfunction ys() {\r\n  return {\r\n    className: F(\"participant-tile\")\r\n  };\r\n}\r\nvar ho = {\r\n  CHAT: \"lk.chat\",\r\n  TRANSCRIPTION: \"lk.transcription\"\r\n}, vo = {\r\n  CHAT: \"lk-chat-topic\"\r\n};\r\nfunction Rn(e, t) {\r\n  return V(this, arguments, function* (n, r, i = {}) {\r\n    const { reliable: o, destinationIdentities: s, topic: a } = i;\r\n    yield n.publishData(r, {\r\n      destinationIdentities: s,\r\n      topic: a,\r\n      reliable: o\r\n    });\r\n  });\r\n}\r\nfunction mo(e, t, n) {\r\n  const r = Array.isArray(t) ? t : [t], i = so(e).pipe(\r\n    Qe(\r\n      ([, , , c]) => t === void 0 || c !== void 0 && r.includes(c)\r\n    ),\r\n    O(([c, u, , l]) => {\r\n      const f = {\r\n        payload: c,\r\n        topic: l,\r\n        from: u\r\n      };\r\n      return n == null || n(f), f;\r\n    })\r\n  );\r\n  let o;\r\n  const s = new k((c) => {\r\n    o = c;\r\n  });\r\n  return { messageObservable: i, isSendingObservable: s, send: (c, ...u) => V(this, [c, ...u], function* (l, f = {}) {\r\n    o.next(!0);\r\n    try {\r\n      yield Rn(e.localParticipant, l, X({ topic: r[0] }, f));\r\n    } finally {\r\n      o.next(!1);\r\n    }\r\n  }) };\r\n}\r\nvar Ie = /* @__PURE__ */ new WeakMap();\r\nfunction go(e) {\r\n  return e.ignoreLegacy == !0;\r\n}\r\nvar bo = (e) => JSON.parse(new TextDecoder().decode(e)), yo = (e) => new TextEncoder().encode(JSON.stringify(e));\r\nfunction ws(e, t) {\r\n  var n, r, i, o, s, a;\r\n  const c = () => {\r\n    var b, S, C;\r\n    return ((b = e.serverInfo) == null ? void 0 : b.edition) === 1 || !!((S = e.serverInfo) != null && S.version) && (0,livekit_client__WEBPACK_IMPORTED_MODULE_0__.compareVersions)((C = e.serverInfo) == null ? void 0 : C.version, \"1.8.2\") > 0;\r\n  }, u = new Z(), l = (n = t == null ? void 0 : t.channelTopic) != null ? n : ho.CHAT, f = (r = t == null ? void 0 : t.channelTopic) != null ? r : vo.CHAT;\r\n  let v = !1;\r\n  Ie.has(e) || (v = !0);\r\n  const d = (i = Ie.get(e)) != null ? i : /* @__PURE__ */ new Map(), m = (o = d.get(l)) != null ? o : new Z();\r\n  d.set(l, m), Ie.set(e, d);\r\n  const p = (s = t == null ? void 0 : t.messageDecoder) != null ? s : bo;\r\n  if (v) {\r\n    e.registerTextStreamHandler(l, (S, C) => V(this, null, function* () {\r\n      const { id: $, timestamp: I } = S.info;\r\n      Ge(S).pipe(\r\n        ct((T, L) => T + L),\r\n        O((T) => ({\r\n          id: $,\r\n          timestamp: I,\r\n          message: T,\r\n          from: e.getParticipantByIdentity(C.identity)\r\n          // editTimestamp: type === 'update' ? timestamp : undefined,\r\n        }))\r\n      ).subscribe({\r\n        next: (T) => m.next(T)\r\n      });\r\n    }));\r\n    const { messageObservable: b } = mo(e, [f]);\r\n    b.pipe(\r\n      O((S) => {\r\n        const C = p(S.payload);\r\n        return go(C) ? void 0 : Te(X({}, C), { from: S.from });\r\n      }),\r\n      Qe((S) => !!S),\r\n      Nt(u)\r\n    ).subscribe(m);\r\n  }\r\n  const g = m.pipe(\r\n    ct((b, S) => {\r\n      if (\"id\" in S && b.find((C) => {\r\n        var $, I;\r\n        return (($ = C.from) == null ? void 0 : $.identity) === ((I = S.from) == null ? void 0 : I.identity) && C.id === S.id;\r\n      })) {\r\n        const C = b.findIndex(($) => $.id === S.id);\r\n        if (C > -1) {\r\n          const $ = b[C];\r\n          b[C] = Te(X({}, S), {\r\n            timestamp: $.timestamp,\r\n            editTimestamp: S.timestamp\r\n          });\r\n        }\r\n        return [...b];\r\n      }\r\n      return [...b, S];\r\n    }, []),\r\n    Nt(u)\r\n  ), h = new ln(!1), x = (a = t == null ? void 0 : t.messageEncoder) != null ? a : yo, E = (b, S) => V(this, null, function* () {\r\n    var C;\r\n    S || (S = {}), (C = S.topic) != null || (S.topic = l), h.next(!0);\r\n    try {\r\n      const I = {\r\n        id: (yield e.localParticipant.sendText(b, S)).id,\r\n        timestamp: Date.now(),\r\n        message: b,\r\n        from: e.localParticipant,\r\n        attachedFiles: S.attachments\r\n      };\r\n      m.next(I);\r\n      const z = x(Te(X({}, I), {\r\n        ignoreLegacy: c()\r\n      }));\r\n      try {\r\n        yield Rn(e.localParticipant, z, {\r\n          reliable: !0,\r\n          topic: f\r\n        });\r\n      } catch (T) {\r\n        _.info(\"could not send message in legacy chat format\", T);\r\n      }\r\n      return I;\r\n    } finally {\r\n      h.next(!1);\r\n    }\r\n  });\r\n  function P() {\r\n    u.next(), u.complete(), m.complete(), Ie.delete(e), e.unregisterTextStreamHandler(l);\r\n  }\r\n  return e.once(livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.Disconnected, P), {\r\n    messageObservable: g,\r\n    isSendingObservable: h,\r\n    send: E\r\n  };\r\n}\r\nfunction xs() {\r\n  const e = (n) => V(this, null, function* () {\r\n    _.info(\"Start Audio for room: \", n), yield n.startAudio();\r\n  });\r\n  return { className: F(\"start-audio-button\"), roomAudioPlaybackAllowedObservable: ao, handleStartAudioPlayback: e };\r\n}\r\nfunction Ss() {\r\n  const e = (n) => V(this, null, function* () {\r\n    _.info(\"Start Video for room: \", n), yield n.startVideo();\r\n  });\r\n  return { className: F(\"start-audio-button\"), roomVideoPlaybackAllowedObservable: co, handleStartVideoPlayback: e };\r\n}\r\nfunction Ts() {\r\n  return { className: [F(\"button\"), F(\"chat-toggle\")].join(\" \") };\r\n}\r\nfunction Es() {\r\n  return { className: [F(\"button\"), F(\"focus-toggle-button\")].join(\" \") };\r\n}\r\nfunction Cs() {\r\n  return { className: \"lk-clear-pin-button lk-button\" };\r\n}\r\nfunction Ps() {\r\n  return { className: \"lk-room-container\" };\r\n}\r\nfunction Vt(e, t, n = !0) {\r\n  const i = [e.localParticipant, ...Array.from(e.remoteParticipants.values())], o = [];\r\n  return i.forEach((s) => {\r\n    t.forEach((a) => {\r\n      const c = Array.from(\r\n        s.trackPublications.values()\r\n      ).filter(\r\n        (u) => u.source === a && // either return all or only the ones that are subscribed\r\n        (!n || u.track)\r\n      ).map((u) => ({\r\n        participant: s,\r\n        publication: u,\r\n        source: u.source\r\n      }));\r\n      o.push(...c);\r\n    });\r\n  }), { trackReferences: o, participants: i };\r\n}\r\nfunction Ht(e, t, n = !1) {\r\n  const { sources: r, kind: i, name: o } = t;\r\n  return Array.from(e.trackPublications.values()).filter(\r\n    (a) => (!r || r.includes(a.source)) && (!i || a.kind === i) && (!o || a.trackName === o) && // either return all or only the ones that are subscribed\r\n    (!n || a.track)\r\n  ).map((a) => ({\r\n    participant: e,\r\n    publication: a,\r\n    source: a.source\r\n  }));\r\n}\r\nfunction As(e, t, n) {\r\n  var r, i;\r\n  const o = (r = n.additionalRoomEvents) != null ? r : Cn, s = (i = n.onlySubscribed) != null ? i : !0, a = Array.from(\r\n    (/* @__PURE__ */ new Set([\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantConnected,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ParticipantDisconnected,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.ConnectionStateChanged,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackPublished,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.LocalTrackUnpublished,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackPublished,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackUnpublished,\r\n      livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.TrackSubscriptionStatusChanged,\r\n      ...o\r\n    ])).values()\r\n  );\r\n  return le(e, ...a).pipe(\r\n    O((u) => {\r\n      const l = Vt(u, t, s);\r\n      return _.debug(`TrackReference[] was updated. (length ${l.trackReferences.length})`, l), l;\r\n    }),\r\n    D(Vt(e, t, s))\r\n  );\r\n}\r\nfunction Os(e, t) {\r\n  return we(e, ...Hi).pipe(\r\n    O((r) => {\r\n      const i = Ht(r, t);\r\n      return _.debug(`TrackReference[] was updated. (length ${i.length})`, i), i;\r\n    }),\r\n    D(Ht(e, t))\r\n  );\r\n}\r\nfunction Mn(e, t) {\r\n  return new k((r) => {\r\n    const i = (...s) => {\r\n      r.next(s);\r\n    };\r\n    return e.on(t, i), () => {\r\n      e.off(t, i);\r\n    };\r\n  });\r\n}\r\nfunction ks(e) {\r\n  return Mn(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.TranscriptionReceived);\r\n}\r\nfunction Ls(e) {\r\n  return Mn(e, livekit_client__WEBPACK_IMPORTED_MODULE_0__.TrackEvent.TimeSyncUpdate).pipe(\r\n    O(([t]) => t)\r\n  );\r\n}\r\nfunction _s(e, t = 1e3) {\r\n  if (e === null) return Dt(!1);\r\n  const n = at(e, \"mousemove\", { passive: !0 }).pipe(O(() => !0)), r = n.pipe(\r\n    hi({\r\n      each: t,\r\n      with: () => We(Dt(!1), r.pipe(Ii(n)))\r\n    }),\r\n    ki()\r\n  );\r\n  return r;\r\n}\r\nfunction wo(e, t) {\r\n  if (typeof localStorage > \"u\") {\r\n    _.error(\"Local storage is not available.\");\r\n    return;\r\n  }\r\n  try {\r\n    if (t) {\r\n      const n = Object.fromEntries(\r\n        Object.entries(t).filter(([, r]) => r !== \"\")\r\n      );\r\n      localStorage.setItem(e, JSON.stringify(n));\r\n    }\r\n  } catch (n) {\r\n    _.error(`Error setting item to local storage: ${n}`);\r\n  }\r\n}\r\nfunction xo(e) {\r\n  if (typeof localStorage > \"u\") {\r\n    _.error(\"Local storage is not available.\");\r\n    return;\r\n  }\r\n  try {\r\n    const t = localStorage.getItem(e);\r\n    if (!t) {\r\n      _.warn(`Item with key ${e} does not exist in local storage.`);\r\n      return;\r\n    }\r\n    return JSON.parse(t);\r\n  } catch (t) {\r\n    _.error(`Error getting item from local storage: ${t}`);\r\n    return;\r\n  }\r\n}\r\nfunction So(e) {\r\n  return {\r\n    load: () => xo(e),\r\n    save: (t) => wo(e, t)\r\n  };\r\n}\r\nvar To = `${En}-user-choices`, Se = {\r\n  videoEnabled: !0,\r\n  audioEnabled: !0,\r\n  videoDeviceId: \"default\",\r\n  audioDeviceId: \"default\",\r\n  username: \"\"\r\n}, { load: Eo, save: Co } = So(To);\r\nfunction Is(e, t = !1) {\r\n  t !== !0 && Co(e);\r\n}\r\nfunction Rs(e, t = !1) {\r\n  var n, r, i, o, s;\r\n  const a = {\r\n    videoEnabled: (n = e == null ? void 0 : e.videoEnabled) != null ? n : Se.videoEnabled,\r\n    audioEnabled: (r = e == null ? void 0 : e.audioEnabled) != null ? r : Se.audioEnabled,\r\n    videoDeviceId: (i = e == null ? void 0 : e.videoDeviceId) != null ? i : Se.videoDeviceId,\r\n    audioDeviceId: (o = e == null ? void 0 : e.audioDeviceId) != null ? o : Se.audioDeviceId,\r\n    username: (s = e == null ? void 0 : e.username) != null ? s : Se.username\r\n  };\r\n  if (t)\r\n    return a;\r\n  {\r\n    const c = Eo();\r\n    return X(X({}, a), c ?? {});\r\n  }\r\n}\r\nvar nt = null, rt = null, Po = 0;\r\nfunction zt() {\r\n  return nt || (nt = /* @__PURE__ */ new Map()), nt;\r\n}\r\nfunction Ao() {\r\n  return rt || (rt = /* @__PURE__ */ new WeakMap()), rt;\r\n}\r\nfunction Oo(e, t) {\r\n  const n = Ao();\r\n  let r = n.get(e);\r\n  return r || (r = `room_${Po++}`, n.set(e, r)), `${r}:${t}`;\r\n}\r\nfunction Ms(e, t) {\r\n  const n = Oo(e, t), r = zt(), i = r.get(n);\r\n  if (i)\r\n    return i;\r\n  const o = new Z(), s = [], a = \"lk.segment_id\";\r\n  e.registerTextStreamHandler(t, (u, l) => V(this, null, function* () {\r\n    var f;\r\n    const v = Ge(u).pipe(\r\n      ct((m, p) => m + p, \"\")\r\n    ), d = !!((f = u.info.attributes) != null && f[a]);\r\n    v.subscribe((m) => {\r\n      const p = s.findIndex(\r\n        (g) => {\r\n          var h, x;\r\n          return g.streamInfo.id === u.info.id || d && ((h = g.streamInfo.attributes) == null ? void 0 : h[a]) === ((x = u.info.attributes) == null ? void 0 : x[a]);\r\n        }\r\n      );\r\n      p !== -1 ? (s[p] = Te(X({}, s[p]), {\r\n        text: m\r\n      }), o.next([...s])) : (s.push({\r\n        text: m,\r\n        participantInfo: l,\r\n        streamInfo: u.info\r\n      }), o.next([...s]));\r\n    });\r\n  }));\r\n  const c = o.asObservable().pipe(_i());\r\n  return r.set(n, c), e.once(livekit_client__WEBPACK_IMPORTED_MODULE_0__.RoomEvent.Disconnected, () => {\r\n    e.unregisterTextStreamHandler(t), o.complete(), zt().delete(n);\r\n  }), c;\r\n}\r\nfunction Dn(e, t) {\r\n  if (t.msg === \"show_chat\")\r\n    return { ...e, showChat: !0, unreadMessages: 0 };\r\n  if (t.msg === \"hide_chat\")\r\n    return { ...e, showChat: !1 };\r\n  if (t.msg === \"toggle_chat\") {\r\n    const n = { ...e, showChat: !e.showChat };\r\n    return n.showChat === !0 && (n.unreadMessages = 0), n;\r\n  } else return t.msg === \"unread_msg\" ? { ...e, unreadMessages: t.count } : t.msg === \"toggle_settings\" ? { ...e, showSettings: !e.showSettings } : { ...e };\r\n}\r\nfunction $n(e, t) {\r\n  return t.msg === \"set_pin\" ? [t.trackReference] : t.msg === \"clear_pin\" ? [] : { ...e };\r\n}\r\nconst Nn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\r\nfunction Ds() {\r\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Nn);\r\n  if (!e)\r\n    throw Error(\"Tried to access LayoutContext context outside a LayoutContextProvider provider.\");\r\n  return e;\r\n}\r\nfunction $s(e) {\r\n  const t = ko();\r\n  if (e ?? (e = t), !e)\r\n    throw Error(\"Tried to access LayoutContext context outside a LayoutContextProvider provider.\");\r\n  return e;\r\n}\r\nfunction Ns() {\r\n  const [e, t] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer($n, An), [n, r] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(Dn, On);\r\n  return {\r\n    pin: { dispatch: t, state: e },\r\n    widget: { dispatch: r, state: n }\r\n  };\r\n}\r\nfunction Fs(e) {\r\n  const [t, n] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer($n, An), [r, i] = react__WEBPACK_IMPORTED_MODULE_1__.useReducer(Dn, On);\r\n  return e ?? {\r\n    pin: { dispatch: n, state: t },\r\n    widget: { dispatch: i, state: r }\r\n  };\r\n}\r\nfunction ko() {\r\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Nn);\r\n}\r\nconst Fn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(\r\n  void 0\r\n);\r\nfunction Us() {\r\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Fn);\r\n  if (!e)\r\n    throw Error(\"tried to access track context outside of track context provider\");\r\n  return e;\r\n}\r\nfunction Un() {\r\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Fn);\r\n}\r\nfunction js(e) {\r\n  const t = Un(), n = e ?? t;\r\n  if (!n)\r\n    throw new Error(\r\n      \"No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly\"\r\n    );\r\n  return n;\r\n}\r\nconst jn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\r\nfunction Ws() {\r\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(jn);\r\n  if (!e)\r\n    throw Error(\"tried to access participant context outside of participant context provider\");\r\n  return e;\r\n}\r\nfunction Lo() {\r\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(jn);\r\n}\r\nfunction Bs(e) {\r\n  const t = Lo(), n = Un(), r = e ?? t ?? (n == null ? void 0 : n.participant);\r\n  if (!r)\r\n    throw new Error(\r\n      \"No participant provided, make sure you are inside a participant context or pass the participant explicitly\"\r\n    );\r\n  return r;\r\n}\r\nconst Wn = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\r\nfunction Vs() {\r\n  const e = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Wn);\r\n  if (!e)\r\n    throw Error(\"tried to access room context outside of livekit room component\");\r\n  return e;\r\n}\r\nfunction _o() {\r\n  return react__WEBPACK_IMPORTED_MODULE_1__.useContext(Wn);\r\n}\r\nfunction Hs(e) {\r\n  const t = _o(), n = e ?? t;\r\n  if (!n)\r\n    throw new Error(\r\n      \"No room provided, make sure you are inside a Room context or pass the room explicitly\"\r\n    );\r\n  return n;\r\n}\r\nconst Io = react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\r\nfunction zs(e) {\r\n  const t = react__WEBPACK_IMPORTED_MODULE_1__.useContext(Io);\r\n  if (e === !0) {\r\n    if (t)\r\n      return t;\r\n    throw Error(\"tried to access feature context, but none is present\");\r\n  }\r\n  return t;\r\n}\r\n\r\n//# sourceMappingURL=contexts-Cm1aSBTs.mjs.map\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L2NvbnRleHRzLUNtMWFTQlRzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa007QUFDdks7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUksNEJBQTRCO0FBQ2hDLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHNIQUFzSDtBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0JBQWdCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdCQUFnQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCw0QkFBNEIsc0JBQXNCO0FBQ2xEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsU0FBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsZ0JBQWdCO0FBQ2hCLFVBQVU7QUFDVjtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxVQUFVO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFVBQVU7QUFDNUM7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsZUFBZTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJCQUEyQjtBQUMvQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixZQUFZO0FBQ1osTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFVBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QzFCO0FBQ0EsWUFBWSw2Q0FBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2Q0FBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdEQUFlO0FBQzFCO0FBQ0EsWUFBWSw2Q0FBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw2Q0FBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdEQUFlO0FBQzFCO0FBQ0EsWUFBWSw2Q0FBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBGRTtBQUNGIiwic291cmNlcyI6WyJEOlxcUHl0aG9uXFx0cmF2ZWwtZGV0YWlsLWRlbW9cXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxkaXN0XFxjb250ZXh0cy1DbTFhU0JUcy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0TG9nTGV2ZWwgYXMgVm4sIExvZ0xldmVsIGFzIFN0LCBzZXRMb2dFeHRlbnNpb24gYXMgSG4sIFJvb21FdmVudCBhcyB5LCBQYXJ0aWNpcGFudEV2ZW50IGFzIHcsIFRyYWNrIGFzIE0sIFRyYWNrRXZlbnQgYXMgWXQsIGNvbXBhcmVWZXJzaW9ucyBhcyB6biwgUm9vbSBhcyBUdCB9IGZyb20gXCJsaXZla2l0LWNsaWVudFwiO1xyXG5pbXBvcnQgKiBhcyBSIGZyb20gXCJyZWFjdFwiO1xyXG5jb25zdCBEZSA9IE1hdGgubWluLCBzZSA9IE1hdGgubWF4LCAkZSA9IE1hdGgucm91bmQsIExlID0gTWF0aC5mbG9vciwgRyA9IChlKSA9PiAoe1xyXG4gIHg6IGUsXHJcbiAgeTogZVxyXG59KSwgWW4gPSB7XHJcbiAgbGVmdDogXCJyaWdodFwiLFxyXG4gIHJpZ2h0OiBcImxlZnRcIixcclxuICBib3R0b206IFwidG9wXCIsXHJcbiAgdG9wOiBcImJvdHRvbVwiXHJcbn0sIHFuID0ge1xyXG4gIHN0YXJ0OiBcImVuZFwiLFxyXG4gIGVuZDogXCJzdGFydFwiXHJcbn07XHJcbmZ1bmN0aW9uIEV0KGUsIHQsIG4pIHtcclxuICByZXR1cm4gc2UoZSwgRGUodCwgbikpO1xyXG59XHJcbmZ1bmN0aW9uIEhlKGUsIHQpIHtcclxuICByZXR1cm4gdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiID8gZSh0KSA6IGU7XHJcbn1cclxuZnVuY3Rpb24gYWUoZSkge1xyXG4gIHJldHVybiBlLnNwbGl0KFwiLVwiKVswXTtcclxufVxyXG5mdW5jdGlvbiB6ZShlKSB7XHJcbiAgcmV0dXJuIGUuc3BsaXQoXCItXCIpWzFdO1xyXG59XHJcbmZ1bmN0aW9uIHF0KGUpIHtcclxuICByZXR1cm4gZSA9PT0gXCJ4XCIgPyBcInlcIiA6IFwieFwiO1xyXG59XHJcbmZ1bmN0aW9uIEt0KGUpIHtcclxuICByZXR1cm4gZSA9PT0gXCJ5XCIgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xyXG59XHJcbmZ1bmN0aW9uIGhlKGUpIHtcclxuICByZXR1cm4gW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKGFlKGUpKSA/IFwieVwiIDogXCJ4XCI7XHJcbn1cclxuZnVuY3Rpb24gR3QoZSkge1xyXG4gIHJldHVybiBxdChoZShlKSk7XHJcbn1cclxuZnVuY3Rpb24gS24oZSwgdCwgbikge1xyXG4gIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcclxuICBjb25zdCByID0gemUoZSksIGkgPSBHdChlKSwgbyA9IEt0KGkpO1xyXG4gIGxldCBzID0gaSA9PT0gXCJ4XCIgPyByID09PSAobiA/IFwiZW5kXCIgOiBcInN0YXJ0XCIpID8gXCJyaWdodFwiIDogXCJsZWZ0XCIgOiByID09PSBcInN0YXJ0XCIgPyBcImJvdHRvbVwiIDogXCJ0b3BcIjtcclxuICByZXR1cm4gdC5yZWZlcmVuY2Vbb10gPiB0LmZsb2F0aW5nW29dICYmIChzID0gTmUocykpLCBbcywgTmUocyldO1xyXG59XHJcbmZ1bmN0aW9uIEduKGUpIHtcclxuICBjb25zdCB0ID0gTmUoZSk7XHJcbiAgcmV0dXJuIFtpdChlKSwgdCwgaXQodCldO1xyXG59XHJcbmZ1bmN0aW9uIGl0KGUpIHtcclxuICByZXR1cm4gZS5yZXBsYWNlKC9zdGFydHxlbmQvZywgKHQpID0+IHFuW3RdKTtcclxufVxyXG5mdW5jdGlvbiBRbihlLCB0LCBuKSB7XHJcbiAgY29uc3QgciA9IFtcImxlZnRcIiwgXCJyaWdodFwiXSwgaSA9IFtcInJpZ2h0XCIsIFwibGVmdFwiXSwgbyA9IFtcInRvcFwiLCBcImJvdHRvbVwiXSwgcyA9IFtcImJvdHRvbVwiLCBcInRvcFwiXTtcclxuICBzd2l0Y2ggKGUpIHtcclxuICAgIGNhc2UgXCJ0b3BcIjpcclxuICAgIGNhc2UgXCJib3R0b21cIjpcclxuICAgICAgcmV0dXJuIG4gPyB0ID8gaSA6IHIgOiB0ID8gciA6IGk7XHJcbiAgICBjYXNlIFwibGVmdFwiOlxyXG4gICAgY2FzZSBcInJpZ2h0XCI6XHJcbiAgICAgIHJldHVybiB0ID8gbyA6IHM7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIEpuKGUsIHQsIG4sIHIpIHtcclxuICBjb25zdCBpID0gemUoZSk7XHJcbiAgbGV0IG8gPSBRbihhZShlKSwgbiA9PT0gXCJzdGFydFwiLCByKTtcclxuICByZXR1cm4gaSAmJiAobyA9IG8ubWFwKChzKSA9PiBzICsgXCItXCIgKyBpKSwgdCAmJiAobyA9IG8uY29uY2F0KG8ubWFwKGl0KSkpKSwgbztcclxufVxyXG5mdW5jdGlvbiBOZShlKSB7XHJcbiAgcmV0dXJuIGUucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csICh0KSA9PiBZblt0XSk7XHJcbn1cclxuZnVuY3Rpb24gWG4oZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICB0b3A6IDAsXHJcbiAgICByaWdodDogMCxcclxuICAgIGJvdHRvbTogMCxcclxuICAgIGxlZnQ6IDAsXHJcbiAgICAuLi5lXHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBabihlKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBlICE9IFwibnVtYmVyXCIgPyBYbihlKSA6IHtcclxuICAgIHRvcDogZSxcclxuICAgIHJpZ2h0OiBlLFxyXG4gICAgYm90dG9tOiBlLFxyXG4gICAgbGVmdDogZVxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gRmUoZSkge1xyXG4gIGNvbnN0IHtcclxuICAgIHg6IHQsXHJcbiAgICB5OiBuLFxyXG4gICAgd2lkdGg6IHIsXHJcbiAgICBoZWlnaHQ6IGlcclxuICB9ID0gZTtcclxuICByZXR1cm4ge1xyXG4gICAgd2lkdGg6IHIsXHJcbiAgICBoZWlnaHQ6IGksXHJcbiAgICB0b3A6IG4sXHJcbiAgICBsZWZ0OiB0LFxyXG4gICAgcmlnaHQ6IHQgKyByLFxyXG4gICAgYm90dG9tOiBuICsgaSxcclxuICAgIHg6IHQsXHJcbiAgICB5OiBuXHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBDdChlLCB0LCBuKSB7XHJcbiAgbGV0IHtcclxuICAgIHJlZmVyZW5jZTogcixcclxuICAgIGZsb2F0aW5nOiBpXHJcbiAgfSA9IGU7XHJcbiAgY29uc3QgbyA9IGhlKHQpLCBzID0gR3QodCksIGEgPSBLdChzKSwgYyA9IGFlKHQpLCB1ID0gbyA9PT0gXCJ5XCIsIGwgPSByLnggKyByLndpZHRoIC8gMiAtIGkud2lkdGggLyAyLCBmID0gci55ICsgci5oZWlnaHQgLyAyIC0gaS5oZWlnaHQgLyAyLCB2ID0gclthXSAvIDIgLSBpW2FdIC8gMjtcclxuICBsZXQgZDtcclxuICBzd2l0Y2ggKGMpIHtcclxuICAgIGNhc2UgXCJ0b3BcIjpcclxuICAgICAgZCA9IHtcclxuICAgICAgICB4OiBsLFxyXG4gICAgICAgIHk6IHIueSAtIGkuaGVpZ2h0XHJcbiAgICAgIH07XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcImJvdHRvbVwiOlxyXG4gICAgICBkID0ge1xyXG4gICAgICAgIHg6IGwsXHJcbiAgICAgICAgeTogci55ICsgci5oZWlnaHRcclxuICAgICAgfTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwicmlnaHRcIjpcclxuICAgICAgZCA9IHtcclxuICAgICAgICB4OiByLnggKyByLndpZHRoLFxyXG4gICAgICAgIHk6IGZcclxuICAgICAgfTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFwibGVmdFwiOlxyXG4gICAgICBkID0ge1xyXG4gICAgICAgIHg6IHIueCAtIGkud2lkdGgsXHJcbiAgICAgICAgeTogZlxyXG4gICAgICB9O1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGQgPSB7XHJcbiAgICAgICAgeDogci54LFxyXG4gICAgICAgIHk6IHIueVxyXG4gICAgICB9O1xyXG4gIH1cclxuICBzd2l0Y2ggKHplKHQpKSB7XHJcbiAgICBjYXNlIFwic3RhcnRcIjpcclxuICAgICAgZFtzXSAtPSB2ICogKG4gJiYgdSA/IC0xIDogMSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBcImVuZFwiOlxyXG4gICAgICBkW3NdICs9IHYgKiAobiAmJiB1ID8gLTEgOiAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG4gIHJldHVybiBkO1xyXG59XHJcbmNvbnN0IGVyID0gYXN5bmMgKGUsIHQsIG4pID0+IHtcclxuICBjb25zdCB7XHJcbiAgICBwbGFjZW1lbnQ6IHIgPSBcImJvdHRvbVwiLFxyXG4gICAgc3RyYXRlZ3k6IGkgPSBcImFic29sdXRlXCIsXHJcbiAgICBtaWRkbGV3YXJlOiBvID0gW10sXHJcbiAgICBwbGF0Zm9ybTogc1xyXG4gIH0gPSBuLCBhID0gby5maWx0ZXIoQm9vbGVhbiksIGMgPSBhd2FpdCAocy5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogcy5pc1JUTCh0KSk7XHJcbiAgbGV0IHUgPSBhd2FpdCBzLmdldEVsZW1lbnRSZWN0cyh7XHJcbiAgICByZWZlcmVuY2U6IGUsXHJcbiAgICBmbG9hdGluZzogdCxcclxuICAgIHN0cmF0ZWd5OiBpXHJcbiAgfSksIHtcclxuICAgIHg6IGwsXHJcbiAgICB5OiBmXHJcbiAgfSA9IEN0KHUsIHIsIGMpLCB2ID0gciwgZCA9IHt9LCBtID0gMDtcclxuICBmb3IgKGxldCBwID0gMDsgcCA8IGEubGVuZ3RoOyBwKyspIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgbmFtZTogZyxcclxuICAgICAgZm46IGhcclxuICAgIH0gPSBhW3BdLCB7XHJcbiAgICAgIHgsXHJcbiAgICAgIHk6IEUsXHJcbiAgICAgIGRhdGE6IFAsXHJcbiAgICAgIHJlc2V0OiBiXHJcbiAgICB9ID0gYXdhaXQgaCh7XHJcbiAgICAgIHg6IGwsXHJcbiAgICAgIHk6IGYsXHJcbiAgICAgIGluaXRpYWxQbGFjZW1lbnQ6IHIsXHJcbiAgICAgIHBsYWNlbWVudDogdixcclxuICAgICAgc3RyYXRlZ3k6IGksXHJcbiAgICAgIG1pZGRsZXdhcmVEYXRhOiBkLFxyXG4gICAgICByZWN0czogdSxcclxuICAgICAgcGxhdGZvcm06IHMsXHJcbiAgICAgIGVsZW1lbnRzOiB7XHJcbiAgICAgICAgcmVmZXJlbmNlOiBlLFxyXG4gICAgICAgIGZsb2F0aW5nOiB0XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgbCA9IHggPz8gbCwgZiA9IEUgPz8gZiwgZCA9IHtcclxuICAgICAgLi4uZCxcclxuICAgICAgW2ddOiB7XHJcbiAgICAgICAgLi4uZFtnXSxcclxuICAgICAgICAuLi5QXHJcbiAgICAgIH1cclxuICAgIH0sIGIgJiYgbSA8PSA1MCAmJiAobSsrLCB0eXBlb2YgYiA9PSBcIm9iamVjdFwiICYmIChiLnBsYWNlbWVudCAmJiAodiA9IGIucGxhY2VtZW50KSwgYi5yZWN0cyAmJiAodSA9IGIucmVjdHMgPT09ICEwID8gYXdhaXQgcy5nZXRFbGVtZW50UmVjdHMoe1xyXG4gICAgICByZWZlcmVuY2U6IGUsXHJcbiAgICAgIGZsb2F0aW5nOiB0LFxyXG4gICAgICBzdHJhdGVneTogaVxyXG4gICAgfSkgOiBiLnJlY3RzKSwge1xyXG4gICAgICB4OiBsLFxyXG4gICAgICB5OiBmXHJcbiAgICB9ID0gQ3QodSwgdiwgYykpLCBwID0gLTEpO1xyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgeDogbCxcclxuICAgIHk6IGYsXHJcbiAgICBwbGFjZW1lbnQ6IHYsXHJcbiAgICBzdHJhdGVneTogaSxcclxuICAgIG1pZGRsZXdhcmVEYXRhOiBkXHJcbiAgfTtcclxufTtcclxuYXN5bmMgZnVuY3Rpb24gUXQoZSwgdCkge1xyXG4gIHZhciBuO1xyXG4gIHQgPT09IHZvaWQgMCAmJiAodCA9IHt9KTtcclxuICBjb25zdCB7XHJcbiAgICB4OiByLFxyXG4gICAgeTogaSxcclxuICAgIHBsYXRmb3JtOiBvLFxyXG4gICAgcmVjdHM6IHMsXHJcbiAgICBlbGVtZW50czogYSxcclxuICAgIHN0cmF0ZWd5OiBjXHJcbiAgfSA9IGUsIHtcclxuICAgIGJvdW5kYXJ5OiB1ID0gXCJjbGlwcGluZ0FuY2VzdG9yc1wiLFxyXG4gICAgcm9vdEJvdW5kYXJ5OiBsID0gXCJ2aWV3cG9ydFwiLFxyXG4gICAgZWxlbWVudENvbnRleHQ6IGYgPSBcImZsb2F0aW5nXCIsXHJcbiAgICBhbHRCb3VuZGFyeTogdiA9ICExLFxyXG4gICAgcGFkZGluZzogZCA9IDBcclxuICB9ID0gSGUodCwgZSksIG0gPSBabihkKSwgZyA9IGFbdiA/IGYgPT09IFwiZmxvYXRpbmdcIiA/IFwicmVmZXJlbmNlXCIgOiBcImZsb2F0aW5nXCIgOiBmXSwgaCA9IEZlKGF3YWl0IG8uZ2V0Q2xpcHBpbmdSZWN0KHtcclxuICAgIGVsZW1lbnQ6IChuID0gYXdhaXQgKG8uaXNFbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBvLmlzRWxlbWVudChnKSkpID09IG51bGwgfHwgbiA/IGcgOiBnLmNvbnRleHRFbGVtZW50IHx8IGF3YWl0IChvLmdldERvY3VtZW50RWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogby5nZXREb2N1bWVudEVsZW1lbnQoYS5mbG9hdGluZykpLFxyXG4gICAgYm91bmRhcnk6IHUsXHJcbiAgICByb290Qm91bmRhcnk6IGwsXHJcbiAgICBzdHJhdGVneTogY1xyXG4gIH0pKSwgeCA9IGYgPT09IFwiZmxvYXRpbmdcIiA/IHtcclxuICAgIHg6IHIsXHJcbiAgICB5OiBpLFxyXG4gICAgd2lkdGg6IHMuZmxvYXRpbmcud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHMuZmxvYXRpbmcuaGVpZ2h0XHJcbiAgfSA6IHMucmVmZXJlbmNlLCBFID0gYXdhaXQgKG8uZ2V0T2Zmc2V0UGFyZW50ID09IG51bGwgPyB2b2lkIDAgOiBvLmdldE9mZnNldFBhcmVudChhLmZsb2F0aW5nKSksIFAgPSBhd2FpdCAoby5pc0VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IG8uaXNFbGVtZW50KEUpKSA/IGF3YWl0IChvLmdldFNjYWxlID09IG51bGwgPyB2b2lkIDAgOiBvLmdldFNjYWxlKEUpKSB8fCB7XHJcbiAgICB4OiAxLFxyXG4gICAgeTogMVxyXG4gIH0gOiB7XHJcbiAgICB4OiAxLFxyXG4gICAgeTogMVxyXG4gIH0sIGIgPSBGZShvLmNvbnZlcnRPZmZzZXRQYXJlbnRSZWxhdGl2ZVJlY3RUb1ZpZXdwb3J0UmVsYXRpdmVSZWN0ID8gYXdhaXQgby5jb252ZXJ0T2Zmc2V0UGFyZW50UmVsYXRpdmVSZWN0VG9WaWV3cG9ydFJlbGF0aXZlUmVjdCh7XHJcbiAgICBlbGVtZW50czogYSxcclxuICAgIHJlY3Q6IHgsXHJcbiAgICBvZmZzZXRQYXJlbnQ6IEUsXHJcbiAgICBzdHJhdGVneTogY1xyXG4gIH0pIDogeCk7XHJcbiAgcmV0dXJuIHtcclxuICAgIHRvcDogKGgudG9wIC0gYi50b3AgKyBtLnRvcCkgLyBQLnksXHJcbiAgICBib3R0b206IChiLmJvdHRvbSAtIGguYm90dG9tICsgbS5ib3R0b20pIC8gUC55LFxyXG4gICAgbGVmdDogKGgubGVmdCAtIGIubGVmdCArIG0ubGVmdCkgLyBQLngsXHJcbiAgICByaWdodDogKGIucmlnaHQgLSBoLnJpZ2h0ICsgbS5yaWdodCkgLyBQLnhcclxuICB9O1xyXG59XHJcbmNvbnN0IHRyID0gZnVuY3Rpb24oZSkge1xyXG4gIHJldHVybiBlID09PSB2b2lkIDAgJiYgKGUgPSB7fSksIHtcclxuICAgIG5hbWU6IFwiZmxpcFwiLFxyXG4gICAgb3B0aW9uczogZSxcclxuICAgIGFzeW5jIGZuKHQpIHtcclxuICAgICAgdmFyIG4sIHI7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICBwbGFjZW1lbnQ6IGksXHJcbiAgICAgICAgbWlkZGxld2FyZURhdGE6IG8sXHJcbiAgICAgICAgcmVjdHM6IHMsXHJcbiAgICAgICAgaW5pdGlhbFBsYWNlbWVudDogYSxcclxuICAgICAgICBwbGF0Zm9ybTogYyxcclxuICAgICAgICBlbGVtZW50czogdVxyXG4gICAgICB9ID0gdCwge1xyXG4gICAgICAgIG1haW5BeGlzOiBsID0gITAsXHJcbiAgICAgICAgY3Jvc3NBeGlzOiBmID0gITAsXHJcbiAgICAgICAgZmFsbGJhY2tQbGFjZW1lbnRzOiB2LFxyXG4gICAgICAgIGZhbGxiYWNrU3RyYXRlZ3k6IGQgPSBcImJlc3RGaXRcIixcclxuICAgICAgICBmYWxsYmFja0F4aXNTaWRlRGlyZWN0aW9uOiBtID0gXCJub25lXCIsXHJcbiAgICAgICAgZmxpcEFsaWdubWVudDogcCA9ICEwLFxyXG4gICAgICAgIC4uLmdcclxuICAgICAgfSA9IEhlKGUsIHQpO1xyXG4gICAgICBpZiAoKG4gPSBvLmFycm93KSAhPSBudWxsICYmIG4uYWxpZ25tZW50T2Zmc2V0KVxyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgICAgY29uc3QgaCA9IGFlKGkpLCB4ID0gaGUoYSksIEUgPSBhZShhKSA9PT0gYSwgUCA9IGF3YWl0IChjLmlzUlRMID09IG51bGwgPyB2b2lkIDAgOiBjLmlzUlRMKHUuZmxvYXRpbmcpKSwgYiA9IHYgfHwgKEUgfHwgIXAgPyBbTmUoYSldIDogR24oYSkpLCBTID0gbSAhPT0gXCJub25lXCI7XHJcbiAgICAgICF2ICYmIFMgJiYgYi5wdXNoKC4uLkpuKGEsIHAsIG0sIFApKTtcclxuICAgICAgY29uc3QgQyA9IFthLCAuLi5iXSwgJCA9IGF3YWl0IFF0KHQsIGcpLCBJID0gW107XHJcbiAgICAgIGxldCB6ID0gKChyID0gby5mbGlwKSA9PSBudWxsID8gdm9pZCAwIDogci5vdmVyZmxvd3MpIHx8IFtdO1xyXG4gICAgICBpZiAobCAmJiBJLnB1c2goJFtoXSksIGYpIHtcclxuICAgICAgICBjb25zdCBLID0gS24oaSwgcywgUCk7XHJcbiAgICAgICAgSS5wdXNoKCRbS1swXV0sICRbS1sxXV0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh6ID0gWy4uLnosIHtcclxuICAgICAgICBwbGFjZW1lbnQ6IGksXHJcbiAgICAgICAgb3ZlcmZsb3dzOiBJXHJcbiAgICAgIH1dLCAhSS5ldmVyeSgoSykgPT4gSyA8PSAwKSkge1xyXG4gICAgICAgIHZhciBULCBMO1xyXG4gICAgICAgIGNvbnN0IEsgPSAoKChUID0gby5mbGlwKSA9PSBudWxsID8gdm9pZCAwIDogVC5pbmRleCkgfHwgMCkgKyAxLCBrZSA9IENbS107XHJcbiAgICAgICAgaWYgKGtlKVxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIGluZGV4OiBLLFxyXG4gICAgICAgICAgICAgIG92ZXJmbG93czogelxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByZXNldDoge1xyXG4gICAgICAgICAgICAgIHBsYWNlbWVudDoga2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICBsZXQgeGUgPSAoTCA9IHouZmlsdGVyKChmZSkgPT4gZmUub3ZlcmZsb3dzWzBdIDw9IDApLnNvcnQoKGZlLCB0ZSkgPT4gZmUub3ZlcmZsb3dzWzFdIC0gdGUub3ZlcmZsb3dzWzFdKVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IEwucGxhY2VtZW50O1xyXG4gICAgICAgIGlmICgheGUpXHJcbiAgICAgICAgICBzd2l0Y2ggKGQpIHtcclxuICAgICAgICAgICAgY2FzZSBcImJlc3RGaXRcIjoge1xyXG4gICAgICAgICAgICAgIHZhciBvZTtcclxuICAgICAgICAgICAgICBjb25zdCBmZSA9IChvZSA9IHouZmlsdGVyKCh0ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKFMpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgbmUgPSBoZSh0ZS5wbGFjZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbmUgPT09IHggfHwgLy8gQ3JlYXRlIGEgYmlhcyB0byB0aGUgYHlgIHNpZGUgYXhpcyBkdWUgdG8gaG9yaXpvbnRhbFxyXG4gICAgICAgICAgICAgICAgICAvLyByZWFkaW5nIGRpcmVjdGlvbnMgZmF2b3JpbmcgZ3JlYXRlciB3aWR0aC5cclxuICAgICAgICAgICAgICAgICAgbmUgPT09IFwieVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgIH0pLm1hcCgodGUpID0+IFt0ZS5wbGFjZW1lbnQsIHRlLm92ZXJmbG93cy5maWx0ZXIoKG5lKSA9PiBuZSA+IDApLnJlZHVjZSgobmUsIEJuKSA9PiBuZSArIEJuLCAwKV0pLnNvcnQoKHRlLCBuZSkgPT4gdGVbMV0gLSBuZVsxXSlbMF0pID09IG51bGwgPyB2b2lkIDAgOiBvZVswXTtcclxuICAgICAgICAgICAgICBmZSAmJiAoeGUgPSBmZSk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcImluaXRpYWxQbGFjZW1lbnRcIjpcclxuICAgICAgICAgICAgICB4ZSA9IGE7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgaWYgKGkgIT09IHhlKVxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzZXQ6IHtcclxuICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHhlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcbmFzeW5jIGZ1bmN0aW9uIG5yKGUsIHQpIHtcclxuICBjb25zdCB7XHJcbiAgICBwbGFjZW1lbnQ6IG4sXHJcbiAgICBwbGF0Zm9ybTogcixcclxuICAgIGVsZW1lbnRzOiBpXHJcbiAgfSA9IGUsIG8gPSBhd2FpdCAoci5pc1JUTCA9PSBudWxsID8gdm9pZCAwIDogci5pc1JUTChpLmZsb2F0aW5nKSksIHMgPSBhZShuKSwgYSA9IHplKG4pLCBjID0gaGUobikgPT09IFwieVwiLCB1ID0gW1wibGVmdFwiLCBcInRvcFwiXS5pbmNsdWRlcyhzKSA/IC0xIDogMSwgbCA9IG8gJiYgYyA/IC0xIDogMSwgZiA9IEhlKHQsIGUpO1xyXG4gIGxldCB7XHJcbiAgICBtYWluQXhpczogdixcclxuICAgIGNyb3NzQXhpczogZCxcclxuICAgIGFsaWdubWVudEF4aXM6IG1cclxuICB9ID0gdHlwZW9mIGYgPT0gXCJudW1iZXJcIiA/IHtcclxuICAgIG1haW5BeGlzOiBmLFxyXG4gICAgY3Jvc3NBeGlzOiAwLFxyXG4gICAgYWxpZ25tZW50QXhpczogbnVsbFxyXG4gIH0gOiB7XHJcbiAgICBtYWluQXhpczogZi5tYWluQXhpcyB8fCAwLFxyXG4gICAgY3Jvc3NBeGlzOiBmLmNyb3NzQXhpcyB8fCAwLFxyXG4gICAgYWxpZ25tZW50QXhpczogZi5hbGlnbm1lbnRBeGlzXHJcbiAgfTtcclxuICByZXR1cm4gYSAmJiB0eXBlb2YgbSA9PSBcIm51bWJlclwiICYmIChkID0gYSA9PT0gXCJlbmRcIiA/IG0gKiAtMSA6IG0pLCBjID8ge1xyXG4gICAgeDogZCAqIGwsXHJcbiAgICB5OiB2ICogdVxyXG4gIH0gOiB7XHJcbiAgICB4OiB2ICogdSxcclxuICAgIHk6IGQgKiBsXHJcbiAgfTtcclxufVxyXG5jb25zdCByciA9IGZ1bmN0aW9uKGUpIHtcclxuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0gMCksIHtcclxuICAgIG5hbWU6IFwib2Zmc2V0XCIsXHJcbiAgICBvcHRpb25zOiBlLFxyXG4gICAgYXN5bmMgZm4odCkge1xyXG4gICAgICB2YXIgbiwgcjtcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIHg6IGksXHJcbiAgICAgICAgeTogbyxcclxuICAgICAgICBwbGFjZW1lbnQ6IHMsXHJcbiAgICAgICAgbWlkZGxld2FyZURhdGE6IGFcclxuICAgICAgfSA9IHQsIGMgPSBhd2FpdCBucih0LCBlKTtcclxuICAgICAgcmV0dXJuIHMgPT09ICgobiA9IGEub2Zmc2V0KSA9PSBudWxsID8gdm9pZCAwIDogbi5wbGFjZW1lbnQpICYmIChyID0gYS5hcnJvdykgIT0gbnVsbCAmJiByLmFsaWdubWVudE9mZnNldCA/IHt9IDoge1xyXG4gICAgICAgIHg6IGkgKyBjLngsXHJcbiAgICAgICAgeTogbyArIGMueSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAuLi5jLFxyXG4gICAgICAgICAgcGxhY2VtZW50OiBzXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn0sIGlyID0gZnVuY3Rpb24oZSkge1xyXG4gIHJldHVybiBlID09PSB2b2lkIDAgJiYgKGUgPSB7fSksIHtcclxuICAgIG5hbWU6IFwic2hpZnRcIixcclxuICAgIG9wdGlvbnM6IGUsXHJcbiAgICBhc3luYyBmbih0KSB7XHJcbiAgICAgIGNvbnN0IHtcclxuICAgICAgICB4OiBuLFxyXG4gICAgICAgIHk6IHIsXHJcbiAgICAgICAgcGxhY2VtZW50OiBpXHJcbiAgICAgIH0gPSB0LCB7XHJcbiAgICAgICAgbWFpbkF4aXM6IG8gPSAhMCxcclxuICAgICAgICBjcm9zc0F4aXM6IHMgPSAhMSxcclxuICAgICAgICBsaW1pdGVyOiBhID0ge1xyXG4gICAgICAgICAgZm46IChnKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCB7XHJcbiAgICAgICAgICAgICAgeDogaCxcclxuICAgICAgICAgICAgICB5OiB4XHJcbiAgICAgICAgICAgIH0gPSBnO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgIHg6IGgsXHJcbiAgICAgICAgICAgICAgeTogeFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLi4uY1xyXG4gICAgICB9ID0gSGUoZSwgdCksIHUgPSB7XHJcbiAgICAgICAgeDogbixcclxuICAgICAgICB5OiByXHJcbiAgICAgIH0sIGwgPSBhd2FpdCBRdCh0LCBjKSwgZiA9IGhlKGFlKGkpKSwgdiA9IHF0KGYpO1xyXG4gICAgICBsZXQgZCA9IHVbdl0sIG0gPSB1W2ZdO1xyXG4gICAgICBpZiAobykge1xyXG4gICAgICAgIGNvbnN0IGcgPSB2ID09PSBcInlcIiA/IFwidG9wXCIgOiBcImxlZnRcIiwgaCA9IHYgPT09IFwieVwiID8gXCJib3R0b21cIiA6IFwicmlnaHRcIiwgeCA9IGQgKyBsW2ddLCBFID0gZCAtIGxbaF07XHJcbiAgICAgICAgZCA9IEV0KHgsIGQsIEUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzKSB7XHJcbiAgICAgICAgY29uc3QgZyA9IGYgPT09IFwieVwiID8gXCJ0b3BcIiA6IFwibGVmdFwiLCBoID0gZiA9PT0gXCJ5XCIgPyBcImJvdHRvbVwiIDogXCJyaWdodFwiLCB4ID0gbSArIGxbZ10sIEUgPSBtIC0gbFtoXTtcclxuICAgICAgICBtID0gRXQoeCwgbSwgRSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgcCA9IGEuZm4oe1xyXG4gICAgICAgIC4uLnQsXHJcbiAgICAgICAgW3ZdOiBkLFxyXG4gICAgICAgIFtmXTogbVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5wLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIHg6IHAueCAtIG4sXHJcbiAgICAgICAgICB5OiBwLnkgLSByLFxyXG4gICAgICAgICAgZW5hYmxlZDoge1xyXG4gICAgICAgICAgICBbdl06IG8sXHJcbiAgICAgICAgICAgIFtmXTogc1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5mdW5jdGlvbiBZZSgpIHtcclxuICByZXR1cm4gdHlwZW9mIHdpbmRvdyA8IFwidVwiO1xyXG59XHJcbmZ1bmN0aW9uIGJlKGUpIHtcclxuICByZXR1cm4gSnQoZSkgPyAoZS5ub2RlTmFtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpIDogXCIjZG9jdW1lbnRcIjtcclxufVxyXG5mdW5jdGlvbiBVKGUpIHtcclxuICB2YXIgdDtcclxuICByZXR1cm4gKGUgPT0gbnVsbCB8fCAodCA9IGUub3duZXJEb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IHQuZGVmYXVsdFZpZXcpIHx8IHdpbmRvdztcclxufVxyXG5mdW5jdGlvbiBKKGUpIHtcclxuICB2YXIgdDtcclxuICByZXR1cm4gKHQgPSAoSnQoZSkgPyBlLm93bmVyRG9jdW1lbnQgOiBlLmRvY3VtZW50KSB8fCB3aW5kb3cuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiB0LmRvY3VtZW50RWxlbWVudDtcclxufVxyXG5mdW5jdGlvbiBKdChlKSB7XHJcbiAgcmV0dXJuIFllKCkgPyBlIGluc3RhbmNlb2YgTm9kZSB8fCBlIGluc3RhbmNlb2YgVShlKS5Ob2RlIDogITE7XHJcbn1cclxuZnVuY3Rpb24gWShlKSB7XHJcbiAgcmV0dXJuIFllKCkgPyBlIGluc3RhbmNlb2YgRWxlbWVudCB8fCBlIGluc3RhbmNlb2YgVShlKS5FbGVtZW50IDogITE7XHJcbn1cclxuZnVuY3Rpb24gUShlKSB7XHJcbiAgcmV0dXJuIFllKCkgPyBlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgZSBpbnN0YW5jZW9mIFUoZSkuSFRNTEVsZW1lbnQgOiAhMTtcclxufVxyXG5mdW5jdGlvbiBQdChlKSB7XHJcbiAgcmV0dXJuICFZZSgpIHx8IHR5cGVvZiBTaGFkb3dSb290ID4gXCJ1XCIgPyAhMSA6IGUgaW5zdGFuY2VvZiBTaGFkb3dSb290IHx8IGUgaW5zdGFuY2VvZiBVKGUpLlNoYWRvd1Jvb3Q7XHJcbn1cclxuZnVuY3Rpb24gQWUoZSkge1xyXG4gIGNvbnN0IHtcclxuICAgIG92ZXJmbG93OiB0LFxyXG4gICAgb3ZlcmZsb3dYOiBuLFxyXG4gICAgb3ZlcmZsb3dZOiByLFxyXG4gICAgZGlzcGxheTogaVxyXG4gIH0gPSBxKGUpO1xyXG4gIHJldHVybiAvYXV0b3xzY3JvbGx8b3ZlcmxheXxoaWRkZW58Y2xpcC8udGVzdCh0ICsgciArIG4pICYmICFbXCJpbmxpbmVcIiwgXCJjb250ZW50c1wiXS5pbmNsdWRlcyhpKTtcclxufVxyXG5mdW5jdGlvbiBvcihlKSB7XHJcbiAgcmV0dXJuIFtcInRhYmxlXCIsIFwidGRcIiwgXCJ0aFwiXS5pbmNsdWRlcyhiZShlKSk7XHJcbn1cclxuZnVuY3Rpb24gcWUoZSkge1xyXG4gIHJldHVybiBbXCI6cG9wb3Zlci1vcGVuXCIsIFwiOm1vZGFsXCJdLnNvbWUoKHQpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBlLm1hdGNoZXModCk7XHJcbiAgICB9IGNhdGNoIHtcclxuICAgICAgcmV0dXJuICExO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGZ0KGUpIHtcclxuICBjb25zdCB0ID0gZHQoKSwgbiA9IFkoZSkgPyBxKGUpIDogZTtcclxuICByZXR1cm4gW1widHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIsIFwic2NhbGVcIiwgXCJyb3RhdGVcIiwgXCJwZXJzcGVjdGl2ZVwiXS5zb21lKChyKSA9PiBuW3JdID8gbltyXSAhPT0gXCJub25lXCIgOiAhMSkgfHwgKG4uY29udGFpbmVyVHlwZSA/IG4uY29udGFpbmVyVHlwZSAhPT0gXCJub3JtYWxcIiA6ICExKSB8fCAhdCAmJiAobi5iYWNrZHJvcEZpbHRlciA/IG4uYmFja2Ryb3BGaWx0ZXIgIT09IFwibm9uZVwiIDogITEpIHx8ICF0ICYmIChuLmZpbHRlciA/IG4uZmlsdGVyICE9PSBcIm5vbmVcIiA6ICExKSB8fCBbXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGVcIiwgXCJzY2FsZVwiLCBcInJvdGF0ZVwiLCBcInBlcnNwZWN0aXZlXCIsIFwiZmlsdGVyXCJdLnNvbWUoKHIpID0+IChuLndpbGxDaGFuZ2UgfHwgXCJcIikuaW5jbHVkZXMocikpIHx8IFtcInBhaW50XCIsIFwibGF5b3V0XCIsIFwic3RyaWN0XCIsIFwiY29udGVudFwiXS5zb21lKChyKSA9PiAobi5jb250YWluIHx8IFwiXCIpLmluY2x1ZGVzKHIpKTtcclxufVxyXG5mdW5jdGlvbiBzcihlKSB7XHJcbiAgbGV0IHQgPSBpZShlKTtcclxuICBmb3IgKDsgUSh0KSAmJiAhdmUodCk7ICkge1xyXG4gICAgaWYgKGZ0KHQpKVxyXG4gICAgICByZXR1cm4gdDtcclxuICAgIGlmIChxZSh0KSlcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB0ID0gaWUodCk7XHJcbiAgfVxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcbmZ1bmN0aW9uIGR0KCkge1xyXG4gIHJldHVybiB0eXBlb2YgQ1NTID4gXCJ1XCIgfHwgIUNTUy5zdXBwb3J0cyA/ICExIDogQ1NTLnN1cHBvcnRzKFwiLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXJcIiwgXCJub25lXCIpO1xyXG59XHJcbmZ1bmN0aW9uIHZlKGUpIHtcclxuICByZXR1cm4gW1wiaHRtbFwiLCBcImJvZHlcIiwgXCIjZG9jdW1lbnRcIl0uaW5jbHVkZXMoYmUoZSkpO1xyXG59XHJcbmZ1bmN0aW9uIHEoZSkge1xyXG4gIHJldHVybiBVKGUpLmdldENvbXB1dGVkU3R5bGUoZSk7XHJcbn1cclxuZnVuY3Rpb24gS2UoZSkge1xyXG4gIHJldHVybiBZKGUpID8ge1xyXG4gICAgc2Nyb2xsTGVmdDogZS5zY3JvbGxMZWZ0LFxyXG4gICAgc2Nyb2xsVG9wOiBlLnNjcm9sbFRvcFxyXG4gIH0gOiB7XHJcbiAgICBzY3JvbGxMZWZ0OiBlLnNjcm9sbFgsXHJcbiAgICBzY3JvbGxUb3A6IGUuc2Nyb2xsWVxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gaWUoZSkge1xyXG4gIGlmIChiZShlKSA9PT0gXCJodG1sXCIpXHJcbiAgICByZXR1cm4gZTtcclxuICBjb25zdCB0ID0gKFxyXG4gICAgLy8gU3RlcCBpbnRvIHRoZSBzaGFkb3cgRE9NIG9mIHRoZSBwYXJlbnQgb2YgYSBzbG90dGVkIG5vZGUuXHJcbiAgICBlLmFzc2lnbmVkU2xvdCB8fCAvLyBET00gRWxlbWVudCBkZXRlY3RlZC5cclxuICAgIGUucGFyZW50Tm9kZSB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkLlxyXG4gICAgUHQoZSkgJiYgZS5ob3N0IHx8IC8vIEZhbGxiYWNrLlxyXG4gICAgSihlKVxyXG4gICk7XHJcbiAgcmV0dXJuIFB0KHQpID8gdC5ob3N0IDogdDtcclxufVxyXG5mdW5jdGlvbiBYdChlKSB7XHJcbiAgY29uc3QgdCA9IGllKGUpO1xyXG4gIHJldHVybiB2ZSh0KSA/IGUub3duZXJEb2N1bWVudCA/IGUub3duZXJEb2N1bWVudC5ib2R5IDogZS5ib2R5IDogUSh0KSAmJiBBZSh0KSA/IHQgOiBYdCh0KTtcclxufVxyXG5mdW5jdGlvbiBFZShlLCB0LCBuKSB7XHJcbiAgdmFyIHI7XHJcbiAgdCA9PT0gdm9pZCAwICYmICh0ID0gW10pLCBuID09PSB2b2lkIDAgJiYgKG4gPSAhMCk7XHJcbiAgY29uc3QgaSA9IFh0KGUpLCBvID0gaSA9PT0gKChyID0gZS5vd25lckRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogci5ib2R5KSwgcyA9IFUoaSk7XHJcbiAgaWYgKG8pIHtcclxuICAgIGNvbnN0IGEgPSBvdChzKTtcclxuICAgIHJldHVybiB0LmNvbmNhdChzLCBzLnZpc3VhbFZpZXdwb3J0IHx8IFtdLCBBZShpKSA/IGkgOiBbXSwgYSAmJiBuID8gRWUoYSkgOiBbXSk7XHJcbiAgfVxyXG4gIHJldHVybiB0LmNvbmNhdChpLCBFZShpLCBbXSwgbikpO1xyXG59XHJcbmZ1bmN0aW9uIG90KGUpIHtcclxuICByZXR1cm4gZS5wYXJlbnQgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGUucGFyZW50KSA/IGUuZnJhbWVFbGVtZW50IDogbnVsbDtcclxufVxyXG5mdW5jdGlvbiBadChlKSB7XHJcbiAgY29uc3QgdCA9IHEoZSk7XHJcbiAgbGV0IG4gPSBwYXJzZUZsb2F0KHQud2lkdGgpIHx8IDAsIHIgPSBwYXJzZUZsb2F0KHQuaGVpZ2h0KSB8fCAwO1xyXG4gIGNvbnN0IGkgPSBRKGUpLCBvID0gaSA/IGUub2Zmc2V0V2lkdGggOiBuLCBzID0gaSA/IGUub2Zmc2V0SGVpZ2h0IDogciwgYSA9ICRlKG4pICE9PSBvIHx8ICRlKHIpICE9PSBzO1xyXG4gIHJldHVybiBhICYmIChuID0gbywgciA9IHMpLCB7XHJcbiAgICB3aWR0aDogbixcclxuICAgIGhlaWdodDogcixcclxuICAgICQ6IGFcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIHB0KGUpIHtcclxuICByZXR1cm4gWShlKSA/IGUgOiBlLmNvbnRleHRFbGVtZW50O1xyXG59XHJcbmZ1bmN0aW9uIGRlKGUpIHtcclxuICBjb25zdCB0ID0gcHQoZSk7XHJcbiAgaWYgKCFRKHQpKVxyXG4gICAgcmV0dXJuIEcoMSk7XHJcbiAgY29uc3QgbiA9IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHtcclxuICAgIHdpZHRoOiByLFxyXG4gICAgaGVpZ2h0OiBpLFxyXG4gICAgJDogb1xyXG4gIH0gPSBadCh0KTtcclxuICBsZXQgcyA9IChvID8gJGUobi53aWR0aCkgOiBuLndpZHRoKSAvIHIsIGEgPSAobyA/ICRlKG4uaGVpZ2h0KSA6IG4uaGVpZ2h0KSAvIGk7XHJcbiAgcmV0dXJuICghcyB8fCAhTnVtYmVyLmlzRmluaXRlKHMpKSAmJiAocyA9IDEpLCAoIWEgfHwgIU51bWJlci5pc0Zpbml0ZShhKSkgJiYgKGEgPSAxKSwge1xyXG4gICAgeDogcyxcclxuICAgIHk6IGFcclxuICB9O1xyXG59XHJcbmNvbnN0IGFyID0gLyogQF9fUFVSRV9fICovIEcoMCk7XHJcbmZ1bmN0aW9uIGVuKGUpIHtcclxuICBjb25zdCB0ID0gVShlKTtcclxuICByZXR1cm4gIWR0KCkgfHwgIXQudmlzdWFsVmlld3BvcnQgPyBhciA6IHtcclxuICAgIHg6IHQudmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdCxcclxuICAgIHk6IHQudmlzdWFsVmlld3BvcnQub2Zmc2V0VG9wXHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBjcihlLCB0LCBuKSB7XHJcbiAgcmV0dXJuIHQgPT09IHZvaWQgMCAmJiAodCA9ICExKSwgIW4gfHwgdCAmJiBuICE9PSBVKGUpID8gITEgOiB0O1xyXG59XHJcbmZ1bmN0aW9uIGNlKGUsIHQsIG4sIHIpIHtcclxuICB0ID09PSB2b2lkIDAgJiYgKHQgPSAhMSksIG4gPT09IHZvaWQgMCAmJiAobiA9ICExKTtcclxuICBjb25zdCBpID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbyA9IHB0KGUpO1xyXG4gIGxldCBzID0gRygxKTtcclxuICB0ICYmIChyID8gWShyKSAmJiAocyA9IGRlKHIpKSA6IHMgPSBkZShlKSk7XHJcbiAgY29uc3QgYSA9IGNyKG8sIG4sIHIpID8gZW4obykgOiBHKDApO1xyXG4gIGxldCBjID0gKGkubGVmdCArIGEueCkgLyBzLngsIHUgPSAoaS50b3AgKyBhLnkpIC8gcy55LCBsID0gaS53aWR0aCAvIHMueCwgZiA9IGkuaGVpZ2h0IC8gcy55O1xyXG4gIGlmIChvKSB7XHJcbiAgICBjb25zdCB2ID0gVShvKSwgZCA9IHIgJiYgWShyKSA/IFUocikgOiByO1xyXG4gICAgbGV0IG0gPSB2LCBwID0gb3QobSk7XHJcbiAgICBmb3IgKDsgcCAmJiByICYmIGQgIT09IG07ICkge1xyXG4gICAgICBjb25zdCBnID0gZGUocCksIGggPSBwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB4ID0gcShwKSwgRSA9IGgubGVmdCArIChwLmNsaWVudExlZnQgKyBwYXJzZUZsb2F0KHgucGFkZGluZ0xlZnQpKSAqIGcueCwgUCA9IGgudG9wICsgKHAuY2xpZW50VG9wICsgcGFyc2VGbG9hdCh4LnBhZGRpbmdUb3ApKSAqIGcueTtcclxuICAgICAgYyAqPSBnLngsIHUgKj0gZy55LCBsICo9IGcueCwgZiAqPSBnLnksIGMgKz0gRSwgdSArPSBQLCBtID0gVShwKSwgcCA9IG90KG0pO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gRmUoe1xyXG4gICAgd2lkdGg6IGwsXHJcbiAgICBoZWlnaHQ6IGYsXHJcbiAgICB4OiBjLFxyXG4gICAgeTogdVxyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGh0KGUsIHQpIHtcclxuICBjb25zdCBuID0gS2UoZSkuc2Nyb2xsTGVmdDtcclxuICByZXR1cm4gdCA/IHQubGVmdCArIG4gOiBjZShKKGUpKS5sZWZ0ICsgbjtcclxufVxyXG5mdW5jdGlvbiB0bihlLCB0LCBuKSB7XHJcbiAgbiA9PT0gdm9pZCAwICYmIChuID0gITEpO1xyXG4gIGNvbnN0IHIgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBpID0gci5sZWZ0ICsgdC5zY3JvbGxMZWZ0IC0gKG4gPyAwIDogKFxyXG4gICAgLy8gUlRMIDxib2R5PiBzY3JvbGxiYXIuXHJcbiAgICBodChlLCByKVxyXG4gICkpLCBvID0gci50b3AgKyB0LnNjcm9sbFRvcDtcclxuICByZXR1cm4ge1xyXG4gICAgeDogaSxcclxuICAgIHk6IG9cclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIHVyKGUpIHtcclxuICBsZXQge1xyXG4gICAgZWxlbWVudHM6IHQsXHJcbiAgICByZWN0OiBuLFxyXG4gICAgb2Zmc2V0UGFyZW50OiByLFxyXG4gICAgc3RyYXRlZ3k6IGlcclxuICB9ID0gZTtcclxuICBjb25zdCBvID0gaSA9PT0gXCJmaXhlZFwiLCBzID0gSihyKSwgYSA9IHQgPyBxZSh0LmZsb2F0aW5nKSA6ICExO1xyXG4gIGlmIChyID09PSBzIHx8IGEgJiYgbylcclxuICAgIHJldHVybiBuO1xyXG4gIGxldCBjID0ge1xyXG4gICAgc2Nyb2xsTGVmdDogMCxcclxuICAgIHNjcm9sbFRvcDogMFxyXG4gIH0sIHUgPSBHKDEpO1xyXG4gIGNvbnN0IGwgPSBHKDApLCBmID0gUShyKTtcclxuICBpZiAoKGYgfHwgIWYgJiYgIW8pICYmICgoYmUocikgIT09IFwiYm9keVwiIHx8IEFlKHMpKSAmJiAoYyA9IEtlKHIpKSwgUShyKSkpIHtcclxuICAgIGNvbnN0IGQgPSBjZShyKTtcclxuICAgIHUgPSBkZShyKSwgbC54ID0gZC54ICsgci5jbGllbnRMZWZ0LCBsLnkgPSBkLnkgKyByLmNsaWVudFRvcDtcclxuICB9XHJcbiAgY29uc3QgdiA9IHMgJiYgIWYgJiYgIW8gPyB0bihzLCBjLCAhMCkgOiBHKDApO1xyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogbi53aWR0aCAqIHUueCxcclxuICAgIGhlaWdodDogbi5oZWlnaHQgKiB1LnksXHJcbiAgICB4OiBuLnggKiB1LnggLSBjLnNjcm9sbExlZnQgKiB1LnggKyBsLnggKyB2LngsXHJcbiAgICB5OiBuLnkgKiB1LnkgLSBjLnNjcm9sbFRvcCAqIHUueSArIGwueSArIHYueVxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gbHIoZSkge1xyXG4gIHJldHVybiBBcnJheS5mcm9tKGUuZ2V0Q2xpZW50UmVjdHMoKSk7XHJcbn1cclxuZnVuY3Rpb24gZnIoZSkge1xyXG4gIGNvbnN0IHQgPSBKKGUpLCBuID0gS2UoZSksIHIgPSBlLm93bmVyRG9jdW1lbnQuYm9keSwgaSA9IHNlKHQuc2Nyb2xsV2lkdGgsIHQuY2xpZW50V2lkdGgsIHIuc2Nyb2xsV2lkdGgsIHIuY2xpZW50V2lkdGgpLCBvID0gc2UodC5zY3JvbGxIZWlnaHQsIHQuY2xpZW50SGVpZ2h0LCByLnNjcm9sbEhlaWdodCwgci5jbGllbnRIZWlnaHQpO1xyXG4gIGxldCBzID0gLW4uc2Nyb2xsTGVmdCArIGh0KGUpO1xyXG4gIGNvbnN0IGEgPSAtbi5zY3JvbGxUb3A7XHJcbiAgcmV0dXJuIHEocikuZGlyZWN0aW9uID09PSBcInJ0bFwiICYmIChzICs9IHNlKHQuY2xpZW50V2lkdGgsIHIuY2xpZW50V2lkdGgpIC0gaSksIHtcclxuICAgIHdpZHRoOiBpLFxyXG4gICAgaGVpZ2h0OiBvLFxyXG4gICAgeDogcyxcclxuICAgIHk6IGFcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIGRyKGUsIHQpIHtcclxuICBjb25zdCBuID0gVShlKSwgciA9IEooZSksIGkgPSBuLnZpc3VhbFZpZXdwb3J0O1xyXG4gIGxldCBvID0gci5jbGllbnRXaWR0aCwgcyA9IHIuY2xpZW50SGVpZ2h0LCBhID0gMCwgYyA9IDA7XHJcbiAgaWYgKGkpIHtcclxuICAgIG8gPSBpLndpZHRoLCBzID0gaS5oZWlnaHQ7XHJcbiAgICBjb25zdCB1ID0gZHQoKTtcclxuICAgICghdSB8fCB1ICYmIHQgPT09IFwiZml4ZWRcIikgJiYgKGEgPSBpLm9mZnNldExlZnQsIGMgPSBpLm9mZnNldFRvcCk7XHJcbiAgfVxyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogbyxcclxuICAgIGhlaWdodDogcyxcclxuICAgIHg6IGEsXHJcbiAgICB5OiBjXHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBwcihlLCB0KSB7XHJcbiAgY29uc3QgbiA9IGNlKGUsICEwLCB0ID09PSBcImZpeGVkXCIpLCByID0gbi50b3AgKyBlLmNsaWVudFRvcCwgaSA9IG4ubGVmdCArIGUuY2xpZW50TGVmdCwgbyA9IFEoZSkgPyBkZShlKSA6IEcoMSksIHMgPSBlLmNsaWVudFdpZHRoICogby54LCBhID0gZS5jbGllbnRIZWlnaHQgKiBvLnksIGMgPSBpICogby54LCB1ID0gciAqIG8ueTtcclxuICByZXR1cm4ge1xyXG4gICAgd2lkdGg6IHMsXHJcbiAgICBoZWlnaHQ6IGEsXHJcbiAgICB4OiBjLFxyXG4gICAgeTogdVxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gQXQoZSwgdCwgbikge1xyXG4gIGxldCByO1xyXG4gIGlmICh0ID09PSBcInZpZXdwb3J0XCIpXHJcbiAgICByID0gZHIoZSwgbik7XHJcbiAgZWxzZSBpZiAodCA9PT0gXCJkb2N1bWVudFwiKVxyXG4gICAgciA9IGZyKEooZSkpO1xyXG4gIGVsc2UgaWYgKFkodCkpXHJcbiAgICByID0gcHIodCwgbik7XHJcbiAgZWxzZSB7XHJcbiAgICBjb25zdCBpID0gZW4oZSk7XHJcbiAgICByID0ge1xyXG4gICAgICB4OiB0LnggLSBpLngsXHJcbiAgICAgIHk6IHQueSAtIGkueSxcclxuICAgICAgd2lkdGg6IHQud2lkdGgsXHJcbiAgICAgIGhlaWdodDogdC5oZWlnaHRcclxuICAgIH07XHJcbiAgfVxyXG4gIHJldHVybiBGZShyKTtcclxufVxyXG5mdW5jdGlvbiBubihlLCB0KSB7XHJcbiAgY29uc3QgbiA9IGllKGUpO1xyXG4gIHJldHVybiBuID09PSB0IHx8ICFZKG4pIHx8IHZlKG4pID8gITEgOiBxKG4pLnBvc2l0aW9uID09PSBcImZpeGVkXCIgfHwgbm4obiwgdCk7XHJcbn1cclxuZnVuY3Rpb24gaHIoZSwgdCkge1xyXG4gIGNvbnN0IG4gPSB0LmdldChlKTtcclxuICBpZiAobilcclxuICAgIHJldHVybiBuO1xyXG4gIGxldCByID0gRWUoZSwgW10sICExKS5maWx0ZXIoKGEpID0+IFkoYSkgJiYgYmUoYSkgIT09IFwiYm9keVwiKSwgaSA9IG51bGw7XHJcbiAgY29uc3QgbyA9IHEoZSkucG9zaXRpb24gPT09IFwiZml4ZWRcIjtcclxuICBsZXQgcyA9IG8gPyBpZShlKSA6IGU7XHJcbiAgZm9yICg7IFkocykgJiYgIXZlKHMpOyApIHtcclxuICAgIGNvbnN0IGEgPSBxKHMpLCBjID0gZnQocyk7XHJcbiAgICAhYyAmJiBhLnBvc2l0aW9uID09PSBcImZpeGVkXCIgJiYgKGkgPSBudWxsKSwgKG8gPyAhYyAmJiAhaSA6ICFjICYmIGEucG9zaXRpb24gPT09IFwic3RhdGljXCIgJiYgISFpICYmIFtcImFic29sdXRlXCIsIFwiZml4ZWRcIl0uaW5jbHVkZXMoaS5wb3NpdGlvbikgfHwgQWUocykgJiYgIWMgJiYgbm4oZSwgcykpID8gciA9IHIuZmlsdGVyKChsKSA9PiBsICE9PSBzKSA6IGkgPSBhLCBzID0gaWUocyk7XHJcbiAgfVxyXG4gIHJldHVybiB0LnNldChlLCByKSwgcjtcclxufVxyXG5mdW5jdGlvbiB2cihlKSB7XHJcbiAgbGV0IHtcclxuICAgIGVsZW1lbnQ6IHQsXHJcbiAgICBib3VuZGFyeTogbixcclxuICAgIHJvb3RCb3VuZGFyeTogcixcclxuICAgIHN0cmF0ZWd5OiBpXHJcbiAgfSA9IGU7XHJcbiAgY29uc3QgcyA9IFsuLi5uID09PSBcImNsaXBwaW5nQW5jZXN0b3JzXCIgPyBxZSh0KSA/IFtdIDogaHIodCwgdGhpcy5fYykgOiBbXS5jb25jYXQobiksIHJdLCBhID0gc1swXSwgYyA9IHMucmVkdWNlKCh1LCBsKSA9PiB7XHJcbiAgICBjb25zdCBmID0gQXQodCwgbCwgaSk7XHJcbiAgICByZXR1cm4gdS50b3AgPSBzZShmLnRvcCwgdS50b3ApLCB1LnJpZ2h0ID0gRGUoZi5yaWdodCwgdS5yaWdodCksIHUuYm90dG9tID0gRGUoZi5ib3R0b20sIHUuYm90dG9tKSwgdS5sZWZ0ID0gc2UoZi5sZWZ0LCB1LmxlZnQpLCB1O1xyXG4gIH0sIEF0KHQsIGEsIGkpKTtcclxuICByZXR1cm4ge1xyXG4gICAgd2lkdGg6IGMucmlnaHQgLSBjLmxlZnQsXHJcbiAgICBoZWlnaHQ6IGMuYm90dG9tIC0gYy50b3AsXHJcbiAgICB4OiBjLmxlZnQsXHJcbiAgICB5OiBjLnRvcFxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gbXIoZSkge1xyXG4gIGNvbnN0IHtcclxuICAgIHdpZHRoOiB0LFxyXG4gICAgaGVpZ2h0OiBuXHJcbiAgfSA9IFp0KGUpO1xyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogdCxcclxuICAgIGhlaWdodDogblxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gZ3IoZSwgdCwgbikge1xyXG4gIGNvbnN0IHIgPSBRKHQpLCBpID0gSih0KSwgbyA9IG4gPT09IFwiZml4ZWRcIiwgcyA9IGNlKGUsICEwLCBvLCB0KTtcclxuICBsZXQgYSA9IHtcclxuICAgIHNjcm9sbExlZnQ6IDAsXHJcbiAgICBzY3JvbGxUb3A6IDBcclxuICB9O1xyXG4gIGNvbnN0IGMgPSBHKDApO1xyXG4gIGlmIChyIHx8ICFyICYmICFvKVxyXG4gICAgaWYgKChiZSh0KSAhPT0gXCJib2R5XCIgfHwgQWUoaSkpICYmIChhID0gS2UodCkpLCByKSB7XHJcbiAgICAgIGNvbnN0IHYgPSBjZSh0LCAhMCwgbywgdCk7XHJcbiAgICAgIGMueCA9IHYueCArIHQuY2xpZW50TGVmdCwgYy55ID0gdi55ICsgdC5jbGllbnRUb3A7XHJcbiAgICB9IGVsc2UgaSAmJiAoYy54ID0gaHQoaSkpO1xyXG4gIGNvbnN0IHUgPSBpICYmICFyICYmICFvID8gdG4oaSwgYSkgOiBHKDApLCBsID0gcy5sZWZ0ICsgYS5zY3JvbGxMZWZ0IC0gYy54IC0gdS54LCBmID0gcy50b3AgKyBhLnNjcm9sbFRvcCAtIGMueSAtIHUueTtcclxuICByZXR1cm4ge1xyXG4gICAgeDogbCxcclxuICAgIHk6IGYsXHJcbiAgICB3aWR0aDogcy53aWR0aCxcclxuICAgIGhlaWdodDogcy5oZWlnaHRcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIFhlKGUpIHtcclxuICByZXR1cm4gcShlKS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIjtcclxufVxyXG5mdW5jdGlvbiBPdChlLCB0KSB7XHJcbiAgaWYgKCFRKGUpIHx8IHEoZSkucG9zaXRpb24gPT09IFwiZml4ZWRcIilcclxuICAgIHJldHVybiBudWxsO1xyXG4gIGlmICh0KVxyXG4gICAgcmV0dXJuIHQoZSk7XHJcbiAgbGV0IG4gPSBlLm9mZnNldFBhcmVudDtcclxuICByZXR1cm4gSihlKSA9PT0gbiAmJiAobiA9IG4ub3duZXJEb2N1bWVudC5ib2R5KSwgbjtcclxufVxyXG5mdW5jdGlvbiBybihlLCB0KSB7XHJcbiAgY29uc3QgbiA9IFUoZSk7XHJcbiAgaWYgKHFlKGUpKVxyXG4gICAgcmV0dXJuIG47XHJcbiAgaWYgKCFRKGUpKSB7XHJcbiAgICBsZXQgaSA9IGllKGUpO1xyXG4gICAgZm9yICg7IGkgJiYgIXZlKGkpOyApIHtcclxuICAgICAgaWYgKFkoaSkgJiYgIVhlKGkpKVxyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgICBpID0gaWUoaSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbjtcclxuICB9XHJcbiAgbGV0IHIgPSBPdChlLCB0KTtcclxuICBmb3IgKDsgciAmJiBvcihyKSAmJiBYZShyKTsgKVxyXG4gICAgciA9IE90KHIsIHQpO1xyXG4gIHJldHVybiByICYmIHZlKHIpICYmIFhlKHIpICYmICFmdChyKSA/IG4gOiByIHx8IHNyKGUpIHx8IG47XHJcbn1cclxuY29uc3QgYnIgPSBhc3luYyBmdW5jdGlvbihlKSB7XHJcbiAgY29uc3QgdCA9IHRoaXMuZ2V0T2Zmc2V0UGFyZW50IHx8IHJuLCBuID0gdGhpcy5nZXREaW1lbnNpb25zLCByID0gYXdhaXQgbihlLmZsb2F0aW5nKTtcclxuICByZXR1cm4ge1xyXG4gICAgcmVmZXJlbmNlOiBncihlLnJlZmVyZW5jZSwgYXdhaXQgdChlLmZsb2F0aW5nKSwgZS5zdHJhdGVneSksXHJcbiAgICBmbG9hdGluZzoge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICB3aWR0aDogci53aWR0aCxcclxuICAgICAgaGVpZ2h0OiByLmhlaWdodFxyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcbmZ1bmN0aW9uIHlyKGUpIHtcclxuICByZXR1cm4gcShlKS5kaXJlY3Rpb24gPT09IFwicnRsXCI7XHJcbn1cclxuY29uc3Qgd3IgPSB7XHJcbiAgY29udmVydE9mZnNldFBhcmVudFJlbGF0aXZlUmVjdFRvVmlld3BvcnRSZWxhdGl2ZVJlY3Q6IHVyLFxyXG4gIGdldERvY3VtZW50RWxlbWVudDogSixcclxuICBnZXRDbGlwcGluZ1JlY3Q6IHZyLFxyXG4gIGdldE9mZnNldFBhcmVudDogcm4sXHJcbiAgZ2V0RWxlbWVudFJlY3RzOiBicixcclxuICBnZXRDbGllbnRSZWN0czogbHIsXHJcbiAgZ2V0RGltZW5zaW9uczogbXIsXHJcbiAgZ2V0U2NhbGU6IGRlLFxyXG4gIGlzRWxlbWVudDogWSxcclxuICBpc1JUTDogeXJcclxufTtcclxuZnVuY3Rpb24gb24oZSwgdCkge1xyXG4gIHJldHVybiBlLnggPT09IHQueCAmJiBlLnkgPT09IHQueSAmJiBlLndpZHRoID09PSB0LndpZHRoICYmIGUuaGVpZ2h0ID09PSB0LmhlaWdodDtcclxufVxyXG5mdW5jdGlvbiB4cihlLCB0KSB7XHJcbiAgbGV0IG4gPSBudWxsLCByO1xyXG4gIGNvbnN0IGkgPSBKKGUpO1xyXG4gIGZ1bmN0aW9uIG8oKSB7XHJcbiAgICB2YXIgYTtcclxuICAgIGNsZWFyVGltZW91dChyKSwgKGEgPSBuKSA9PSBudWxsIHx8IGEuZGlzY29ubmVjdCgpLCBuID0gbnVsbDtcclxuICB9XHJcbiAgZnVuY3Rpb24gcyhhLCBjKSB7XHJcbiAgICBhID09PSB2b2lkIDAgJiYgKGEgPSAhMSksIGMgPT09IHZvaWQgMCAmJiAoYyA9IDEpLCBvKCk7XHJcbiAgICBjb25zdCB1ID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwge1xyXG4gICAgICBsZWZ0OiBsLFxyXG4gICAgICB0b3A6IGYsXHJcbiAgICAgIHdpZHRoOiB2LFxyXG4gICAgICBoZWlnaHQ6IGRcclxuICAgIH0gPSB1O1xyXG4gICAgaWYgKGEgfHwgdCgpLCAhdiB8fCAhZClcclxuICAgICAgcmV0dXJuO1xyXG4gICAgY29uc3QgbSA9IExlKGYpLCBwID0gTGUoaS5jbGllbnRXaWR0aCAtIChsICsgdikpLCBnID0gTGUoaS5jbGllbnRIZWlnaHQgLSAoZiArIGQpKSwgaCA9IExlKGwpLCBFID0ge1xyXG4gICAgICByb290TWFyZ2luOiAtbSArIFwicHggXCIgKyAtcCArIFwicHggXCIgKyAtZyArIFwicHggXCIgKyAtaCArIFwicHhcIixcclxuICAgICAgdGhyZXNob2xkOiBzZSgwLCBEZSgxLCBjKSkgfHwgMVxyXG4gICAgfTtcclxuICAgIGxldCBQID0gITA7XHJcbiAgICBmdW5jdGlvbiBiKFMpIHtcclxuICAgICAgY29uc3QgQyA9IFNbMF0uaW50ZXJzZWN0aW9uUmF0aW87XHJcbiAgICAgIGlmIChDICE9PSBjKSB7XHJcbiAgICAgICAgaWYgKCFQKVxyXG4gICAgICAgICAgcmV0dXJuIHMoKTtcclxuICAgICAgICBDID8gcyghMSwgQykgOiByID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBzKCExLCAxZS03KTtcclxuICAgICAgICB9LCAxZTMpO1xyXG4gICAgICB9XHJcbiAgICAgIEMgPT09IDEgJiYgIW9uKHUsIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpICYmIHMoKSwgUCA9ICExO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgbiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihiLCB7XHJcbiAgICAgICAgLi4uRSxcclxuICAgICAgICAvLyBIYW5kbGUgPGlmcmFtZT5zXHJcbiAgICAgICAgcm9vdDogaS5vd25lckRvY3VtZW50XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIG4gPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoYiwgRSk7XHJcbiAgICB9XHJcbiAgICBuLm9ic2VydmUoZSk7XHJcbiAgfVxyXG4gIHJldHVybiBzKCEwKSwgbztcclxufVxyXG5mdW5jdGlvbiBTcihlLCB0LCBuLCByKSB7XHJcbiAgciA9PT0gdm9pZCAwICYmIChyID0ge30pO1xyXG4gIGNvbnN0IHtcclxuICAgIGFuY2VzdG9yU2Nyb2xsOiBpID0gITAsXHJcbiAgICBhbmNlc3RvclJlc2l6ZTogbyA9ICEwLFxyXG4gICAgZWxlbWVudFJlc2l6ZTogcyA9IHR5cGVvZiBSZXNpemVPYnNlcnZlciA9PSBcImZ1bmN0aW9uXCIsXHJcbiAgICBsYXlvdXRTaGlmdDogYSA9IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PSBcImZ1bmN0aW9uXCIsXHJcbiAgICBhbmltYXRpb25GcmFtZTogYyA9ICExXHJcbiAgfSA9IHIsIHUgPSBwdChlKSwgbCA9IGkgfHwgbyA/IFsuLi51ID8gRWUodSkgOiBbXSwgLi4uRWUodCldIDogW107XHJcbiAgbC5mb3JFYWNoKChoKSA9PiB7XHJcbiAgICBpICYmIGguYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBuLCB7XHJcbiAgICAgIHBhc3NpdmU6ICEwXHJcbiAgICB9KSwgbyAmJiBoLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbik7XHJcbiAgfSk7XHJcbiAgY29uc3QgZiA9IHUgJiYgYSA/IHhyKHUsIG4pIDogbnVsbDtcclxuICBsZXQgdiA9IC0xLCBkID0gbnVsbDtcclxuICBzICYmIChkID0gbmV3IFJlc2l6ZU9ic2VydmVyKChoKSA9PiB7XHJcbiAgICBsZXQgW3hdID0gaDtcclxuICAgIHggJiYgeC50YXJnZXQgPT09IHUgJiYgZCAmJiAoZC51bm9ic2VydmUodCksIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHYpLCB2ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgdmFyIEU7XHJcbiAgICAgIChFID0gZCkgPT0gbnVsbCB8fCBFLm9ic2VydmUodCk7XHJcbiAgICB9KSksIG4oKTtcclxuICB9KSwgdSAmJiAhYyAmJiBkLm9ic2VydmUodSksIGQub2JzZXJ2ZSh0KSk7XHJcbiAgbGV0IG0sIHAgPSBjID8gY2UoZSkgOiBudWxsO1xyXG4gIGMgJiYgZygpO1xyXG4gIGZ1bmN0aW9uIGcoKSB7XHJcbiAgICBjb25zdCBoID0gY2UoZSk7XHJcbiAgICBwICYmICFvbihwLCBoKSAmJiBuKCksIHAgPSBoLCBtID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGcpO1xyXG4gIH1cclxuICByZXR1cm4gbigpLCAoKSA9PiB7XHJcbiAgICB2YXIgaDtcclxuICAgIGwuZm9yRWFjaCgoeCkgPT4ge1xyXG4gICAgICBpICYmIHgucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBuKSwgbyAmJiB4LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbik7XHJcbiAgICB9KSwgZiA9PSBudWxsIHx8IGYoKSwgKGggPSBkKSA9PSBudWxsIHx8IGguZGlzY29ubmVjdCgpLCBkID0gbnVsbCwgYyAmJiBjYW5jZWxBbmltYXRpb25GcmFtZShtKTtcclxuICB9O1xyXG59XHJcbmNvbnN0IFRyID0gcnIsIEVyID0gaXIsIENyID0gdHIsIFByID0gKGUsIHQsIG4pID0+IHtcclxuICBjb25zdCByID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgaSA9IHtcclxuICAgIHBsYXRmb3JtOiB3cixcclxuICAgIC4uLm5cclxuICB9LCBvID0ge1xyXG4gICAgLi4uaS5wbGF0Zm9ybSxcclxuICAgIF9jOiByXHJcbiAgfTtcclxuICByZXR1cm4gZXIoZSwgdCwge1xyXG4gICAgLi4uaSxcclxuICAgIHBsYXRmb3JtOiBvXHJcbiAgfSk7XHJcbn07XHJcbnZhciBNbyA9IHR5cGVvZiBnbG9iYWxUaGlzIDwgXCJ1XCIgPyBnbG9iYWxUaGlzIDogdHlwZW9mIHdpbmRvdyA8IFwidVwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCA8IFwidVwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgPCBcInVcIiA/IHNlbGYgOiB7fTtcclxuZnVuY3Rpb24gQXIoZSkge1xyXG4gIHJldHVybiBlICYmIGUuX19lc01vZHVsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgXCJkZWZhdWx0XCIpID8gZS5kZWZhdWx0IDogZTtcclxufVxyXG52YXIgUmUgPSB7IGV4cG9ydHM6IHt9IH0sIE9yID0gUmUuZXhwb3J0cywga3Q7XHJcbmZ1bmN0aW9uIGtyKCkge1xyXG4gIHJldHVybiBrdCB8fCAoa3QgPSAxLCBmdW5jdGlvbihlKSB7XHJcbiAgICAoZnVuY3Rpb24odCwgbikge1xyXG4gICAgICBlLmV4cG9ydHMgPyBlLmV4cG9ydHMgPSBuKCkgOiB0LmxvZyA9IG4oKTtcclxuICAgIH0pKE9yLCBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgfSwgbiA9IFwidW5kZWZpbmVkXCIsIHIgPSB0eXBlb2Ygd2luZG93ICE9PSBuICYmIHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yICE9PSBuICYmIC9UcmlkZW50XFwvfE1TSUUgLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSwgaSA9IFtcclxuICAgICAgICBcInRyYWNlXCIsXHJcbiAgICAgICAgXCJkZWJ1Z1wiLFxyXG4gICAgICAgIFwiaW5mb1wiLFxyXG4gICAgICAgIFwid2FyblwiLFxyXG4gICAgICAgIFwiZXJyb3JcIlxyXG4gICAgICBdLCBvID0ge30sIHMgPSBudWxsO1xyXG4gICAgICBmdW5jdGlvbiBhKHAsIGcpIHtcclxuICAgICAgICB2YXIgaCA9IHBbZ107XHJcbiAgICAgICAgaWYgKHR5cGVvZiBoLmJpbmQgPT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgICAgcmV0dXJuIGguYmluZChwKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoaCwgcCk7XHJcbiAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuYXBwbHkoaCwgW3AsIGFyZ3VtZW50c10pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gYygpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyAmJiAoY29uc29sZS5sb2cuYXBwbHkgPyBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpIDogRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmFwcGx5KGNvbnNvbGUubG9nLCBbY29uc29sZSwgYXJndW1lbnRzXSkpLCBjb25zb2xlLnRyYWNlICYmIGNvbnNvbGUudHJhY2UoKTtcclxuICAgICAgfVxyXG4gICAgICBmdW5jdGlvbiB1KHApIHtcclxuICAgICAgICByZXR1cm4gcCA9PT0gXCJkZWJ1Z1wiICYmIChwID0gXCJsb2dcIiksIHR5cGVvZiBjb25zb2xlID09PSBuID8gITEgOiBwID09PSBcInRyYWNlXCIgJiYgciA/IGMgOiBjb25zb2xlW3BdICE9PSB2b2lkIDAgPyBhKGNvbnNvbGUsIHApIDogY29uc29sZS5sb2cgIT09IHZvaWQgMCA/IGEoY29uc29sZSwgXCJsb2dcIikgOiB0O1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIGwoKSB7XHJcbiAgICAgICAgZm9yICh2YXIgcCA9IHRoaXMuZ2V0TGV2ZWwoKSwgZyA9IDA7IGcgPCBpLmxlbmd0aDsgZysrKSB7XHJcbiAgICAgICAgICB2YXIgaCA9IGlbZ107XHJcbiAgICAgICAgICB0aGlzW2hdID0gZyA8IHAgPyB0IDogdGhpcy5tZXRob2RGYWN0b3J5KGgsIHAsIHRoaXMubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxvZyA9IHRoaXMuZGVidWcsIHR5cGVvZiBjb25zb2xlID09PSBuICYmIHAgPCB0aGlzLmxldmVscy5TSUxFTlQpXHJcbiAgICAgICAgICByZXR1cm4gXCJObyBjb25zb2xlIGF2YWlsYWJsZSBmb3IgbG9nZ2luZ1wiO1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIGYocCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSBuICYmIChsLmNhbGwodGhpcyksIHRoaXNbcF0uYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgICBmdW5jdGlvbiB2KHAsIGcsIGgpIHtcclxuICAgICAgICByZXR1cm4gdShwKSB8fCBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gZChwLCBnKSB7XHJcbiAgICAgICAgdmFyIGggPSB0aGlzLCB4LCBFLCBQLCBiID0gXCJsb2dsZXZlbFwiO1xyXG4gICAgICAgIHR5cGVvZiBwID09IFwic3RyaW5nXCIgPyBiICs9IFwiOlwiICsgcCA6IHR5cGVvZiBwID09IFwic3ltYm9sXCIgJiYgKGIgPSB2b2lkIDApO1xyXG4gICAgICAgIGZ1bmN0aW9uIFMoVCkge1xyXG4gICAgICAgICAgdmFyIEwgPSAoaVtUXSB8fCBcInNpbGVudFwiKS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgaWYgKCEodHlwZW9mIHdpbmRvdyA9PT0gbiB8fCAhYikpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlW2JdID0gTDtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChiKSArIFwiPVwiICsgTCArIFwiO1wiO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBDKCkge1xyXG4gICAgICAgICAgdmFyIFQ7XHJcbiAgICAgICAgICBpZiAoISh0eXBlb2Ygd2luZG93ID09PSBuIHx8ICFiKSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIFQgPSB3aW5kb3cubG9jYWxTdG9yYWdlW2JdO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIFQgPT09IG4pXHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBMID0gd2luZG93LmRvY3VtZW50LmNvb2tpZSwgb2UgPSBlbmNvZGVVUklDb21wb25lbnQoYiksIEsgPSBMLmluZGV4T2Yob2UgKyBcIj1cIik7XHJcbiAgICAgICAgICAgICAgICBLICE9PSAtMSAmJiAoVCA9IC9eKFteO10rKS8uZXhlYyhcclxuICAgICAgICAgICAgICAgICAgTC5zbGljZShLICsgb2UubGVuZ3RoICsgMSlcclxuICAgICAgICAgICAgICAgIClbMV0pO1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGgubGV2ZWxzW1RdID09PSB2b2lkIDAgJiYgKFQgPSB2b2lkIDApLCBUO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiAkKCkge1xyXG4gICAgICAgICAgaWYgKCEodHlwZW9mIHdpbmRvdyA9PT0gbiB8fCAhYikpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oYik7XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmNvb2tpZSA9IGVuY29kZVVSSUNvbXBvbmVudChiKSArIFwiPTsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAwIFVUQ1wiO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBJKFQpIHtcclxuICAgICAgICAgIHZhciBMID0gVDtcclxuICAgICAgICAgIGlmICh0eXBlb2YgTCA9PSBcInN0cmluZ1wiICYmIGgubGV2ZWxzW0wudG9VcHBlckNhc2UoKV0gIT09IHZvaWQgMCAmJiAoTCA9IGgubGV2ZWxzW0wudG9VcHBlckNhc2UoKV0pLCB0eXBlb2YgTCA9PSBcIm51bWJlclwiICYmIEwgPj0gMCAmJiBMIDw9IGgubGV2ZWxzLlNJTEVOVClcclxuICAgICAgICAgICAgcmV0dXJuIEw7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwibG9nLnNldExldmVsKCkgY2FsbGVkIHdpdGggaW52YWxpZCBsZXZlbDogXCIgKyBUKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaC5uYW1lID0gcCwgaC5sZXZlbHMgPSB7XHJcbiAgICAgICAgICBUUkFDRTogMCxcclxuICAgICAgICAgIERFQlVHOiAxLFxyXG4gICAgICAgICAgSU5GTzogMixcclxuICAgICAgICAgIFdBUk46IDMsXHJcbiAgICAgICAgICBFUlJPUjogNCxcclxuICAgICAgICAgIFNJTEVOVDogNVxyXG4gICAgICAgIH0sIGgubWV0aG9kRmFjdG9yeSA9IGcgfHwgdiwgaC5nZXRMZXZlbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIFAgPz8gRSA/PyB4O1xyXG4gICAgICAgIH0sIGguc2V0TGV2ZWwgPSBmdW5jdGlvbihULCBMKSB7XHJcbiAgICAgICAgICByZXR1cm4gUCA9IEkoVCksIEwgIT09ICExICYmIFMoUCksIGwuY2FsbChoKTtcclxuICAgICAgICB9LCBoLnNldERlZmF1bHRMZXZlbCA9IGZ1bmN0aW9uKFQpIHtcclxuICAgICAgICAgIEUgPSBJKFQpLCBDKCkgfHwgaC5zZXRMZXZlbChULCAhMSk7XHJcbiAgICAgICAgfSwgaC5yZXNldExldmVsID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBQID0gbnVsbCwgJCgpLCBsLmNhbGwoaCk7XHJcbiAgICAgICAgfSwgaC5lbmFibGVBbGwgPSBmdW5jdGlvbihUKSB7XHJcbiAgICAgICAgICBoLnNldExldmVsKGgubGV2ZWxzLlRSQUNFLCBUKTtcclxuICAgICAgICB9LCBoLmRpc2FibGVBbGwgPSBmdW5jdGlvbihUKSB7XHJcbiAgICAgICAgICBoLnNldExldmVsKGgubGV2ZWxzLlNJTEVOVCwgVCk7XHJcbiAgICAgICAgfSwgaC5yZWJ1aWxkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAocyAhPT0gaCAmJiAoeCA9IEkocy5nZXRMZXZlbCgpKSksIGwuY2FsbChoKSwgcyA9PT0gaClcclxuICAgICAgICAgICAgZm9yICh2YXIgVCBpbiBvKVxyXG4gICAgICAgICAgICAgIG9bVF0ucmVidWlsZCgpO1xyXG4gICAgICAgIH0sIHggPSBJKFxyXG4gICAgICAgICAgcyA/IHMuZ2V0TGV2ZWwoKSA6IFwiV0FSTlwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICB2YXIgeiA9IEMoKTtcclxuICAgICAgICB6ICE9IG51bGwgJiYgKFAgPSBJKHopKSwgbC5jYWxsKGgpO1xyXG4gICAgICB9XHJcbiAgICAgIHMgPSBuZXcgZCgpLCBzLmdldExvZ2dlciA9IGZ1bmN0aW9uKGcpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGcgIT0gXCJzeW1ib2xcIiAmJiB0eXBlb2YgZyAhPSBcInN0cmluZ1wiIHx8IGcgPT09IFwiXCIpXHJcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiWW91IG11c3Qgc3VwcGx5IGEgbmFtZSB3aGVuIGNyZWF0aW5nIGEgbG9nZ2VyLlwiKTtcclxuICAgICAgICB2YXIgaCA9IG9bZ107XHJcbiAgICAgICAgcmV0dXJuIGggfHwgKGggPSBvW2ddID0gbmV3IGQoXHJcbiAgICAgICAgICBnLFxyXG4gICAgICAgICAgcy5tZXRob2RGYWN0b3J5XHJcbiAgICAgICAgKSksIGg7XHJcbiAgICAgIH07XHJcbiAgICAgIHZhciBtID0gdHlwZW9mIHdpbmRvdyAhPT0gbiA/IHdpbmRvdy5sb2cgOiB2b2lkIDA7XHJcbiAgICAgIHJldHVybiBzLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gbiAmJiB3aW5kb3cubG9nID09PSBzICYmICh3aW5kb3cubG9nID0gbSksIHM7XHJcbiAgICAgIH0sIHMuZ2V0TG9nZ2VycyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBvO1xyXG4gICAgICB9LCBzLmRlZmF1bHQgPSBzLCBzO1xyXG4gICAgfSk7XHJcbiAgfShSZSkpLCBSZS5leHBvcnRzO1xyXG59XHJcbnZhciBMciA9IGtyKCk7XHJcbmNvbnN0IF9yID0gLyogQF9fUFVSRV9fICovIEFyKExyKTtcclxudmFyIHN0ID0gZnVuY3Rpb24oZSwgdCkge1xyXG4gIHJldHVybiBzdCA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uKG4sIHIpIHtcclxuICAgIG4uX19wcm90b19fID0gcjtcclxuICB9IHx8IGZ1bmN0aW9uKG4sIHIpIHtcclxuICAgIGZvciAodmFyIGkgaW4gcikgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsIGkpICYmIChuW2ldID0gcltpXSk7XHJcbiAgfSwgc3QoZSwgdCk7XHJcbn07XHJcbmZ1bmN0aW9uIGVlKGUsIHQpIHtcclxuICBpZiAodHlwZW9mIHQgIT0gXCJmdW5jdGlvblwiICYmIHQgIT09IG51bGwpXHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyh0KSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgc3QoZSwgdCk7XHJcbiAgZnVuY3Rpb24gbigpIHtcclxuICAgIHRoaXMuY29uc3RydWN0b3IgPSBlO1xyXG4gIH1cclxuICBlLnByb3RvdHlwZSA9IHQgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKHQpIDogKG4ucHJvdG90eXBlID0gdC5wcm90b3R5cGUsIG5ldyBuKCkpO1xyXG59XHJcbmZ1bmN0aW9uIElyKGUsIHQsIG4sIHIpIHtcclxuICBmdW5jdGlvbiBpKG8pIHtcclxuICAgIHJldHVybiBvIGluc3RhbmNlb2YgbiA/IG8gOiBuZXcgbihmdW5jdGlvbihzKSB7XHJcbiAgICAgIHMobyk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIG5ldyAobiB8fCAobiA9IFByb21pc2UpKShmdW5jdGlvbihvLCBzKSB7XHJcbiAgICBmdW5jdGlvbiBhKGwpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB1KHIubmV4dChsKSk7XHJcbiAgICAgIH0gY2F0Y2ggKGYpIHtcclxuICAgICAgICBzKGYpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjKGwpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB1KHIudGhyb3cobCkpO1xyXG4gICAgICB9IGNhdGNoIChmKSB7XHJcbiAgICAgICAgcyhmKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdShsKSB7XHJcbiAgICAgIGwuZG9uZSA/IG8obC52YWx1ZSkgOiBpKGwudmFsdWUpLnRoZW4oYSwgYyk7XHJcbiAgICB9XHJcbiAgICB1KChyID0gci5hcHBseShlLCB0IHx8IFtdKSkubmV4dCgpKTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBzbihlLCB0KSB7XHJcbiAgdmFyIG4gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHtcclxuICAgIGlmIChvWzBdICYgMSkgdGhyb3cgb1sxXTtcclxuICAgIHJldHVybiBvWzFdO1xyXG4gIH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIHIsIGksIG8sIHMgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgSXRlcmF0b3IgPT0gXCJmdW5jdGlvblwiID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7XHJcbiAgcmV0dXJuIHMubmV4dCA9IGEoMCksIHMudGhyb3cgPSBhKDEpLCBzLnJldHVybiA9IGEoMiksIHR5cGVvZiBTeW1ib2wgPT0gXCJmdW5jdGlvblwiICYmIChzW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0pLCBzO1xyXG4gIGZ1bmN0aW9uIGEodSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGwpIHtcclxuICAgICAgcmV0dXJuIGMoW3UsIGxdKTtcclxuICAgIH07XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGModSkge1xyXG4gICAgaWYgKHIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgZm9yICg7IHMgJiYgKHMgPSAwLCB1WzBdICYmIChuID0gMCkpLCBuOyApIHRyeSB7XHJcbiAgICAgIGlmIChyID0gMSwgaSAmJiAobyA9IHVbMF0gJiAyID8gaS5yZXR1cm4gOiB1WzBdID8gaS50aHJvdyB8fCAoKG8gPSBpLnJldHVybikgJiYgby5jYWxsKGkpLCAwKSA6IGkubmV4dCkgJiYgIShvID0gby5jYWxsKGksIHVbMV0pKS5kb25lKSByZXR1cm4gbztcclxuICAgICAgc3dpdGNoIChpID0gMCwgbyAmJiAodSA9IFt1WzBdICYgMiwgby52YWx1ZV0pLCB1WzBdKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIG8gPSB1O1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgcmV0dXJuIG4ubGFiZWwrKywgeyB2YWx1ZTogdVsxXSwgZG9uZTogITEgfTtcclxuICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICBuLmxhYmVsKyssIGkgPSB1WzFdLCB1ID0gWzBdO1xyXG4gICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgdSA9IG4ub3BzLnBvcCgpLCBuLnRyeXMucG9wKCk7XHJcbiAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgaWYgKG8gPSBuLnRyeXMsICEobyA9IG8ubGVuZ3RoID4gMCAmJiBvW28ubGVuZ3RoIC0gMV0pICYmICh1WzBdID09PSA2IHx8IHVbMF0gPT09IDIpKSB7XHJcbiAgICAgICAgICAgIG4gPSAwO1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICh1WzBdID09PSAzICYmICghbyB8fCB1WzFdID4gb1swXSAmJiB1WzFdIDwgb1szXSkpIHtcclxuICAgICAgICAgICAgbi5sYWJlbCA9IHVbMV07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHVbMF0gPT09IDYgJiYgbi5sYWJlbCA8IG9bMV0pIHtcclxuICAgICAgICAgICAgbi5sYWJlbCA9IG9bMV0sIG8gPSB1O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChvICYmIG4ubGFiZWwgPCBvWzJdKSB7XHJcbiAgICAgICAgICAgIG4ubGFiZWwgPSBvWzJdLCBuLm9wcy5wdXNoKHUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG9bMl0gJiYgbi5vcHMucG9wKCksIG4udHJ5cy5wb3AoKTtcclxuICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHUgPSB0LmNhbGwoZSwgbik7XHJcbiAgICB9IGNhdGNoIChsKSB7XHJcbiAgICAgIHUgPSBbNiwgbF0sIGkgPSAwO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgciA9IG8gPSAwO1xyXG4gICAgfVxyXG4gICAgaWYgKHVbMF0gJiA1KSB0aHJvdyB1WzFdO1xyXG4gICAgcmV0dXJuIHsgdmFsdWU6IHVbMF0gPyB1WzFdIDogdm9pZCAwLCBkb25lOiAhMCB9O1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBtZShlKSB7XHJcbiAgdmFyIHQgPSB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG4gPSB0ICYmIGVbdF0sIHIgPSAwO1xyXG4gIGlmIChuKSByZXR1cm4gbi5jYWxsKGUpO1xyXG4gIGlmIChlICYmIHR5cGVvZiBlLmxlbmd0aCA9PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgbmV4dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBlICYmIHIgPj0gZS5sZW5ndGggJiYgKGUgPSB2b2lkIDApLCB7IHZhbHVlOiBlICYmIGVbcisrXSwgZG9uZTogIWUgfTtcclxuICAgIH1cclxuICB9O1xyXG4gIHRocm93IG5ldyBUeXBlRXJyb3IodCA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5mdW5jdGlvbiB1ZShlLCB0KSB7XHJcbiAgdmFyIG4gPSB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiBlW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgaWYgKCFuKSByZXR1cm4gZTtcclxuICB2YXIgciA9IG4uY2FsbChlKSwgaSwgbyA9IFtdLCBzO1xyXG4gIHRyeSB7XHJcbiAgICBmb3IgKDsgKHQgPT09IHZvaWQgMCB8fCB0LS0gPiAwKSAmJiAhKGkgPSByLm5leHQoKSkuZG9uZTsgKSBvLnB1c2goaS52YWx1ZSk7XHJcbiAgfSBjYXRjaCAoYSkge1xyXG4gICAgcyA9IHsgZXJyb3I6IGEgfTtcclxuICB9IGZpbmFsbHkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaSAmJiAhaS5kb25lICYmIChuID0gci5yZXR1cm4pICYmIG4uY2FsbChyKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGlmIChzKSB0aHJvdyBzLmVycm9yO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gbztcclxufVxyXG5mdW5jdGlvbiBnZShlLCB0LCBuKSB7XHJcbiAgaWYgKG4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgciA9IDAsIGkgPSB0Lmxlbmd0aCwgbzsgciA8IGk7IHIrKylcclxuICAgIChvIHx8ICEociBpbiB0KSkgJiYgKG8gfHwgKG8gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LCAwLCByKSksIG9bcl0gPSB0W3JdKTtcclxuICByZXR1cm4gZS5jb25jYXQobyB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSk7XHJcbn1cclxuZnVuY3Rpb24gcGUoZSkge1xyXG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgcGUgPyAodGhpcy52ID0gZSwgdGhpcykgOiBuZXcgcGUoZSk7XHJcbn1cclxuZnVuY3Rpb24gUnIoZSwgdCwgbikge1xyXG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgdmFyIHIgPSBuLmFwcGx5KGUsIHQgfHwgW10pLCBpLCBvID0gW107XHJcbiAgcmV0dXJuIGkgPSBPYmplY3QuY3JlYXRlKCh0eXBlb2YgQXN5bmNJdGVyYXRvciA9PSBcImZ1bmN0aW9uXCIgPyBBc3luY0l0ZXJhdG9yIDogT2JqZWN0KS5wcm90b3R5cGUpLCBhKFwibmV4dFwiKSwgYShcInRocm93XCIpLCBhKFwicmV0dXJuXCIsIHMpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSwgaTtcclxuICBmdW5jdGlvbiBzKGQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihtKSB7XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobSkudGhlbihkLCBmKTtcclxuICAgIH07XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGEoZCwgbSkge1xyXG4gICAgcltkXSAmJiAoaVtkXSA9IGZ1bmN0aW9uKHApIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGcsIGgpIHtcclxuICAgICAgICBvLnB1c2goW2QsIHAsIGcsIGhdKSA+IDEgfHwgYyhkLCBwKTtcclxuICAgICAgfSk7XHJcbiAgICB9LCBtICYmIChpW2RdID0gbShpW2RdKSkpO1xyXG4gIH1cclxuICBmdW5jdGlvbiBjKGQsIG0pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHUocltkXShtKSk7XHJcbiAgICB9IGNhdGNoIChwKSB7XHJcbiAgICAgIHYob1swXVszXSwgcCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIHUoZCkge1xyXG4gICAgZC52YWx1ZSBpbnN0YW5jZW9mIHBlID8gUHJvbWlzZS5yZXNvbHZlKGQudmFsdWUudikudGhlbihsLCBmKSA6IHYob1swXVsyXSwgZCk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGwoZCkge1xyXG4gICAgYyhcIm5leHRcIiwgZCk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGYoZCkge1xyXG4gICAgYyhcInRocm93XCIsIGQpO1xyXG4gIH1cclxuICBmdW5jdGlvbiB2KGQsIG0pIHtcclxuICAgIGQobSksIG8uc2hpZnQoKSwgby5sZW5ndGggJiYgYyhvWzBdWzBdLCBvWzBdWzFdKTtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gTXIoZSkge1xyXG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgdmFyIHQgPSBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgbjtcclxuICByZXR1cm4gdCA/IHQuY2FsbChlKSA6IChlID0gdHlwZW9mIG1lID09IFwiZnVuY3Rpb25cIiA/IG1lKGUpIDogZVtTeW1ib2wuaXRlcmF0b3JdKCksIG4gPSB7fSwgcihcIm5leHRcIiksIHIoXCJ0aHJvd1wiKSwgcihcInJldHVyblwiKSwgbltTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sIG4pO1xyXG4gIGZ1bmN0aW9uIHIobykge1xyXG4gICAgbltvXSA9IGVbb10gJiYgZnVuY3Rpb24ocykge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYSwgYykge1xyXG4gICAgICAgIHMgPSBlW29dKHMpLCBpKGEsIGMsIHMuZG9uZSwgcy52YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcbiAgZnVuY3Rpb24gaShvLCBzLCBhLCBjKSB7XHJcbiAgICBQcm9taXNlLnJlc29sdmUoYykudGhlbihmdW5jdGlvbih1KSB7XHJcbiAgICAgIG8oeyB2YWx1ZTogdSwgZG9uZTogYSB9KTtcclxuICAgIH0sIHMpO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBBKGUpIHtcclxuICByZXR1cm4gdHlwZW9mIGUgPT0gXCJmdW5jdGlvblwiO1xyXG59XHJcbmZ1bmN0aW9uIHZ0KGUpIHtcclxuICB2YXIgdCA9IGZ1bmN0aW9uKHIpIHtcclxuICAgIEVycm9yLmNhbGwociksIHIuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcclxuICB9LCBuID0gZSh0KTtcclxuICByZXR1cm4gbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSksIG4ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbiwgbjtcclxufVxyXG52YXIgWmUgPSB2dChmdW5jdGlvbihlKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKG4pIHtcclxuICAgIGUodGhpcyksIHRoaXMubWVzc2FnZSA9IG4gPyBuLmxlbmd0aCArIGAgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcclxuYCArIG4ubWFwKGZ1bmN0aW9uKHIsIGkpIHtcclxuICAgICAgcmV0dXJuIGkgKyAxICsgXCIpIFwiICsgci50b1N0cmluZygpO1xyXG4gICAgfSkuam9pbihgXHJcbiAgYCkgOiBcIlwiLCB0aGlzLm5hbWUgPSBcIlVuc3Vic2NyaXB0aW9uRXJyb3JcIiwgdGhpcy5lcnJvcnMgPSBuO1xyXG4gIH07XHJcbn0pO1xyXG5mdW5jdGlvbiBVZShlLCB0KSB7XHJcbiAgaWYgKGUpIHtcclxuICAgIHZhciBuID0gZS5pbmRleE9mKHQpO1xyXG4gICAgMCA8PSBuICYmIGUuc3BsaWNlKG4sIDEpO1xyXG4gIH1cclxufVxyXG52YXIgT2UgPSBmdW5jdGlvbigpIHtcclxuICBmdW5jdGlvbiBlKHQpIHtcclxuICAgIHRoaXMuaW5pdGlhbFRlYXJkb3duID0gdCwgdGhpcy5jbG9zZWQgPSAhMSwgdGhpcy5fcGFyZW50YWdlID0gbnVsbCwgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XHJcbiAgfVxyXG4gIHJldHVybiBlLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHQsIG4sIHIsIGksIG87XHJcbiAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VkID0gITA7XHJcbiAgICAgIHZhciBzID0gdGhpcy5fcGFyZW50YWdlO1xyXG4gICAgICBpZiAocylcclxuICAgICAgICBpZiAodGhpcy5fcGFyZW50YWdlID0gbnVsbCwgQXJyYXkuaXNBcnJheShzKSlcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGEgPSBtZShzKSwgYyA9IGEubmV4dCgpOyAhYy5kb25lOyBjID0gYS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICB2YXIgdSA9IGMudmFsdWU7XHJcbiAgICAgICAgICAgICAgdS5yZW1vdmUodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKHApIHtcclxuICAgICAgICAgICAgdCA9IHsgZXJyb3I6IHAgfTtcclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgYyAmJiAhYy5kb25lICYmIChuID0gYS5yZXR1cm4pICYmIG4uY2FsbChhKTtcclxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICBpZiAodCkgdGhyb3cgdC5lcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgIHMucmVtb3ZlKHRoaXMpO1xyXG4gICAgICB2YXIgbCA9IHRoaXMuaW5pdGlhbFRlYXJkb3duO1xyXG4gICAgICBpZiAoQShsKSlcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgbCgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKHApIHtcclxuICAgICAgICAgIG8gPSBwIGluc3RhbmNlb2YgWmUgPyBwLmVycm9ycyA6IFtwXTtcclxuICAgICAgICB9XHJcbiAgICAgIHZhciBmID0gdGhpcy5fZmluYWxpemVycztcclxuICAgICAgaWYgKGYpIHtcclxuICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZm9yICh2YXIgdiA9IG1lKGYpLCBkID0gdi5uZXh0KCk7ICFkLmRvbmU7IGQgPSB2Lm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgbSA9IGQudmFsdWU7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgTHQobSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKHApIHtcclxuICAgICAgICAgICAgICBvID0gbyA/PyBbXSwgcCBpbnN0YW5jZW9mIFplID8gbyA9IGdlKGdlKFtdLCB1ZShvKSksIHVlKHAuZXJyb3JzKSkgOiBvLnB1c2gocCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChwKSB7XHJcbiAgICAgICAgICByID0geyBlcnJvcjogcCB9O1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkICYmICFkLmRvbmUgJiYgKGkgPSB2LnJldHVybikgJiYgaS5jYWxsKHYpO1xyXG4gICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgaWYgKHIpIHRocm93IHIuZXJyb3I7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChvKVxyXG4gICAgICAgIHRocm93IG5ldyBaZShvKTtcclxuICAgIH1cclxuICB9LCBlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbih0KSB7XHJcbiAgICB2YXIgbjtcclxuICAgIGlmICh0ICYmIHQgIT09IHRoaXMpXHJcbiAgICAgIGlmICh0aGlzLmNsb3NlZClcclxuICAgICAgICBMdCh0KTtcclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBlKSB7XHJcbiAgICAgICAgICBpZiAodC5jbG9zZWQgfHwgdC5faGFzUGFyZW50KHRoaXMpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB0Ll9hZGRQYXJlbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICh0aGlzLl9maW5hbGl6ZXJzID0gKG4gPSB0aGlzLl9maW5hbGl6ZXJzKSAhPT0gbnVsbCAmJiBuICE9PSB2b2lkIDAgPyBuIDogW10pLnB1c2godCk7XHJcbiAgICAgIH1cclxuICB9LCBlLnByb3RvdHlwZS5faGFzUGFyZW50ID0gZnVuY3Rpb24odCkge1xyXG4gICAgdmFyIG4gPSB0aGlzLl9wYXJlbnRhZ2U7XHJcbiAgICByZXR1cm4gbiA9PT0gdCB8fCBBcnJheS5pc0FycmF5KG4pICYmIG4uaW5jbHVkZXModCk7XHJcbiAgfSwgZS5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uKHQpIHtcclxuICAgIHZhciBuID0gdGhpcy5fcGFyZW50YWdlO1xyXG4gICAgdGhpcy5fcGFyZW50YWdlID0gQXJyYXkuaXNBcnJheShuKSA/IChuLnB1c2godCksIG4pIDogbiA/IFtuLCB0XSA6IHQ7XHJcbiAgfSwgZS5wcm90b3R5cGUuX3JlbW92ZVBhcmVudCA9IGZ1bmN0aW9uKHQpIHtcclxuICAgIHZhciBuID0gdGhpcy5fcGFyZW50YWdlO1xyXG4gICAgbiA9PT0gdCA/IHRoaXMuX3BhcmVudGFnZSA9IG51bGwgOiBBcnJheS5pc0FycmF5KG4pICYmIFVlKG4sIHQpO1xyXG4gIH0sIGUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHQpIHtcclxuICAgIHZhciBuID0gdGhpcy5fZmluYWxpemVycztcclxuICAgIG4gJiYgVWUobiwgdCksIHQgaW5zdGFuY2VvZiBlICYmIHQuX3JlbW92ZVBhcmVudCh0aGlzKTtcclxuICB9LCBlLkVNUFRZID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdCA9IG5ldyBlKCk7XHJcbiAgICByZXR1cm4gdC5jbG9zZWQgPSAhMCwgdDtcclxuICB9KCksIGU7XHJcbn0oKSwgYW4gPSBPZS5FTVBUWTtcclxuZnVuY3Rpb24gY24oZSkge1xyXG4gIHJldHVybiBlIGluc3RhbmNlb2YgT2UgfHwgZSAmJiBcImNsb3NlZFwiIGluIGUgJiYgQShlLnJlbW92ZSkgJiYgQShlLmFkZCkgJiYgQShlLnVuc3Vic2NyaWJlKTtcclxufVxyXG5mdW5jdGlvbiBMdChlKSB7XHJcbiAgQShlKSA/IGUoKSA6IGUudW5zdWJzY3JpYmUoKTtcclxufVxyXG52YXIgRHIgPSB7XHJcbiAgUHJvbWlzZTogdm9pZCAwXHJcbn0sICRyID0ge1xyXG4gIHNldFRpbWVvdXQ6IGZ1bmN0aW9uKGUsIHQpIHtcclxuICAgIGZvciAodmFyIG4gPSBbXSwgciA9IDI7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspXHJcbiAgICAgIG5bciAtIDJdID0gYXJndW1lbnRzW3JdO1xyXG4gICAgcmV0dXJuIHNldFRpbWVvdXQuYXBwbHkodm9pZCAwLCBnZShbZSwgdF0sIHVlKG4pKSk7XHJcbiAgfSxcclxuICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgIHJldHVybiBjbGVhclRpbWVvdXQoZSk7XHJcbiAgfSxcclxuICBkZWxlZ2F0ZTogdm9pZCAwXHJcbn07XHJcbmZ1bmN0aW9uIHVuKGUpIHtcclxuICAkci5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgdGhyb3cgZTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBqZSgpIHtcclxufVxyXG5mdW5jdGlvbiBNZShlKSB7XHJcbiAgZSgpO1xyXG59XHJcbnZhciBtdCA9IGZ1bmN0aW9uKGUpIHtcclxuICBlZSh0LCBlKTtcclxuICBmdW5jdGlvbiB0KG4pIHtcclxuICAgIHZhciByID0gZS5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICByZXR1cm4gci5pc1N0b3BwZWQgPSAhMSwgbiA/IChyLmRlc3RpbmF0aW9uID0gbiwgY24obikgJiYgbi5hZGQocikpIDogci5kZXN0aW5hdGlvbiA9IFVyLCByO1xyXG4gIH1cclxuICByZXR1cm4gdC5jcmVhdGUgPSBmdW5jdGlvbihuLCByLCBpKSB7XHJcbiAgICByZXR1cm4gbmV3IENlKG4sIHIsIGkpO1xyXG4gIH0sIHQucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihuKSB7XHJcbiAgICB0aGlzLmlzU3RvcHBlZCB8fCB0aGlzLl9uZXh0KG4pO1xyXG4gIH0sIHQucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24obikge1xyXG4gICAgdGhpcy5pc1N0b3BwZWQgfHwgKHRoaXMuaXNTdG9wcGVkID0gITAsIHRoaXMuX2Vycm9yKG4pKTtcclxuICB9LCB0LnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5pc1N0b3BwZWQgfHwgKHRoaXMuaXNTdG9wcGVkID0gITAsIHRoaXMuX2NvbXBsZXRlKCkpO1xyXG4gIH0sIHQucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLmNsb3NlZCB8fCAodGhpcy5pc1N0b3BwZWQgPSAhMCwgZS5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKSwgdGhpcy5kZXN0aW5hdGlvbiA9IG51bGwpO1xyXG4gIH0sIHQucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24obikge1xyXG4gICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pO1xyXG4gIH0sIHQucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3Iobik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgfSwgdC5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgfSwgdDtcclxufShPZSksIE5yID0gZnVuY3Rpb24oKSB7XHJcbiAgZnVuY3Rpb24gZSh0KSB7XHJcbiAgICB0aGlzLnBhcnRpYWxPYnNlcnZlciA9IHQ7XHJcbiAgfVxyXG4gIHJldHVybiBlLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24odCkge1xyXG4gICAgdmFyIG4gPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcclxuICAgIGlmIChuLm5leHQpXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbi5uZXh0KHQpO1xyXG4gICAgICB9IGNhdGNoIChyKSB7XHJcbiAgICAgICAgX2Uocik7XHJcbiAgICAgIH1cclxuICB9LCBlLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKHQpIHtcclxuICAgIHZhciBuID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XHJcbiAgICBpZiAobi5lcnJvcilcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBuLmVycm9yKHQpO1xyXG4gICAgICB9IGNhdGNoIChyKSB7XHJcbiAgICAgICAgX2Uocik7XHJcbiAgICAgIH1cclxuICAgIGVsc2VcclxuICAgICAgX2UodCk7XHJcbiAgfSwgZS5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0ID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XHJcbiAgICBpZiAodC5jb21wbGV0ZSlcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB0LmNvbXBsZXRlKCk7XHJcbiAgICAgIH0gY2F0Y2ggKG4pIHtcclxuICAgICAgICBfZShuKTtcclxuICAgICAgfVxyXG4gIH0sIGU7XHJcbn0oKSwgQ2UgPSBmdW5jdGlvbihlKSB7XHJcbiAgZWUodCwgZSk7XHJcbiAgZnVuY3Rpb24gdChuLCByLCBpKSB7XHJcbiAgICB2YXIgbyA9IGUuY2FsbCh0aGlzKSB8fCB0aGlzLCBzO1xyXG4gICAgcmV0dXJuIEEobikgfHwgIW4gPyBzID0ge1xyXG4gICAgICBuZXh0OiBuID8/IHZvaWQgMCxcclxuICAgICAgZXJyb3I6IHIgPz8gdm9pZCAwLFxyXG4gICAgICBjb21wbGV0ZTogaSA/PyB2b2lkIDBcclxuICAgIH0gOiBzID0gbiwgby5kZXN0aW5hdGlvbiA9IG5ldyBOcihzKSwgbztcclxuICB9XHJcbiAgcmV0dXJuIHQ7XHJcbn0obXQpO1xyXG5mdW5jdGlvbiBfZShlKSB7XHJcbiAgdW4oZSk7XHJcbn1cclxuZnVuY3Rpb24gRnIoZSkge1xyXG4gIHRocm93IGU7XHJcbn1cclxudmFyIFVyID0ge1xyXG4gIGNsb3NlZDogITAsXHJcbiAgbmV4dDogamUsXHJcbiAgZXJyb3I6IEZyLFxyXG4gIGNvbXBsZXRlOiBqZVxyXG59LCBndCA9IGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wub2JzZXJ2YWJsZSB8fCBcIkBAb2JzZXJ2YWJsZVwiO1xyXG59KCk7XHJcbmZ1bmN0aW9uIGJ0KGUpIHtcclxuICByZXR1cm4gZTtcclxufVxyXG5mdW5jdGlvbiBqcihlKSB7XHJcbiAgcmV0dXJuIGUubGVuZ3RoID09PSAwID8gYnQgOiBlLmxlbmd0aCA9PT0gMSA/IGVbMF0gOiBmdW5jdGlvbihuKSB7XHJcbiAgICByZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24ociwgaSkge1xyXG4gICAgICByZXR1cm4gaShyKTtcclxuICAgIH0sIG4pO1xyXG4gIH07XHJcbn1cclxudmFyIGsgPSBmdW5jdGlvbigpIHtcclxuICBmdW5jdGlvbiBlKHQpIHtcclxuICAgIHQgJiYgKHRoaXMuX3N1YnNjcmliZSA9IHQpO1xyXG4gIH1cclxuICByZXR1cm4gZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uKHQpIHtcclxuICAgIHZhciBuID0gbmV3IGUoKTtcclxuICAgIHJldHVybiBuLnNvdXJjZSA9IHRoaXMsIG4ub3BlcmF0b3IgPSB0LCBuO1xyXG4gIH0sIGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uKHQsIG4sIHIpIHtcclxuICAgIHZhciBpID0gdGhpcywgbyA9IEJyKHQpID8gdCA6IG5ldyBDZSh0LCBuLCByKTtcclxuICAgIHJldHVybiBNZShmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHMgPSBpLCBhID0gcy5vcGVyYXRvciwgYyA9IHMuc291cmNlO1xyXG4gICAgICBvLmFkZChhID8gYS5jYWxsKG8sIGMpIDogYyA/IGkuX3N1YnNjcmliZShvKSA6IGkuX3RyeVN1YnNjcmliZShvKSk7XHJcbiAgICB9KSwgbztcclxuICB9LCBlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24odCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZSh0KTtcclxuICAgIH0gY2F0Y2ggKG4pIHtcclxuICAgICAgdC5lcnJvcihuKTtcclxuICAgIH1cclxuICB9LCBlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24odCwgbikge1xyXG4gICAgdmFyIHIgPSB0aGlzO1xyXG4gICAgcmV0dXJuIG4gPSBfdChuKSwgbmV3IG4oZnVuY3Rpb24oaSwgbykge1xyXG4gICAgICB2YXIgcyA9IG5ldyBDZSh7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24oYSkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdChhKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGMpIHtcclxuICAgICAgICAgICAgbyhjKSwgcy51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IG8sXHJcbiAgICAgICAgY29tcGxldGU6IGlcclxuICAgICAgfSk7XHJcbiAgICAgIHIuc3Vic2NyaWJlKHMpO1xyXG4gICAgfSk7XHJcbiAgfSwgZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uKHQpIHtcclxuICAgIHZhciBuO1xyXG4gICAgcmV0dXJuIChuID0gdGhpcy5zb3VyY2UpID09PSBudWxsIHx8IG4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG4uc3Vic2NyaWJlKHQpO1xyXG4gIH0sIGUucHJvdG90eXBlW2d0XSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSwgZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZm9yICh2YXIgdCA9IFtdLCBuID0gMDsgbiA8IGFyZ3VtZW50cy5sZW5ndGg7IG4rKylcclxuICAgICAgdFtuXSA9IGFyZ3VtZW50c1tuXTtcclxuICAgIHJldHVybiBqcih0KSh0aGlzKTtcclxuICB9LCBlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbih0KSB7XHJcbiAgICB2YXIgbiA9IHRoaXM7XHJcbiAgICByZXR1cm4gdCA9IF90KHQpLCBuZXcgdChmdW5jdGlvbihyLCBpKSB7XHJcbiAgICAgIHZhciBvO1xyXG4gICAgICBuLnN1YnNjcmliZShmdW5jdGlvbihzKSB7XHJcbiAgICAgICAgcmV0dXJuIG8gPSBzO1xyXG4gICAgICB9LCBmdW5jdGlvbihzKSB7XHJcbiAgICAgICAgcmV0dXJuIGkocyk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiByKG8pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0sIGUuY3JlYXRlID0gZnVuY3Rpb24odCkge1xyXG4gICAgcmV0dXJuIG5ldyBlKHQpO1xyXG4gIH0sIGU7XHJcbn0oKTtcclxuZnVuY3Rpb24gX3QoZSkge1xyXG4gIHZhciB0O1xyXG4gIHJldHVybiAodCA9IGUgPz8gRHIuUHJvbWlzZSkgIT09IG51bGwgJiYgdCAhPT0gdm9pZCAwID8gdCA6IFByb21pc2U7XHJcbn1cclxuZnVuY3Rpb24gV3IoZSkge1xyXG4gIHJldHVybiBlICYmIEEoZS5uZXh0KSAmJiBBKGUuZXJyb3IpICYmIEEoZS5jb21wbGV0ZSk7XHJcbn1cclxuZnVuY3Rpb24gQnIoZSkge1xyXG4gIHJldHVybiBlICYmIGUgaW5zdGFuY2VvZiBtdCB8fCBXcihlKSAmJiBjbihlKTtcclxufVxyXG5mdW5jdGlvbiBWcihlKSB7XHJcbiAgcmV0dXJuIEEoZSA9PSBudWxsID8gdm9pZCAwIDogZS5saWZ0KTtcclxufVxyXG5mdW5jdGlvbiBCKGUpIHtcclxuICByZXR1cm4gZnVuY3Rpb24odCkge1xyXG4gICAgaWYgKFZyKHQpKVxyXG4gICAgICByZXR1cm4gdC5saWZ0KGZ1bmN0aW9uKG4pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcmV0dXJuIGUobiwgdGhpcyk7XHJcbiAgICAgICAgfSBjYXRjaCAocikge1xyXG4gICAgICAgICAgdGhpcy5lcnJvcihyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVuYWJsZSB0byBsaWZ0IHVua25vd24gT2JzZXJ2YWJsZSB0eXBlXCIpO1xyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gVyhlLCB0LCBuLCByLCBpKSB7XHJcbiAgcmV0dXJuIG5ldyBIcihlLCB0LCBuLCByLCBpKTtcclxufVxyXG52YXIgSHIgPSBmdW5jdGlvbihlKSB7XHJcbiAgZWUodCwgZSk7XHJcbiAgZnVuY3Rpb24gdChuLCByLCBpLCBvLCBzLCBhKSB7XHJcbiAgICB2YXIgYyA9IGUuY2FsbCh0aGlzLCBuKSB8fCB0aGlzO1xyXG4gICAgcmV0dXJuIGMub25GaW5hbGl6ZSA9IHMsIGMuc2hvdWxkVW5zdWJzY3JpYmUgPSBhLCBjLl9uZXh0ID0gciA/IGZ1bmN0aW9uKHUpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICByKHUpO1xyXG4gICAgICB9IGNhdGNoIChsKSB7XHJcbiAgICAgICAgbi5lcnJvcihsKTtcclxuICAgICAgfVxyXG4gICAgfSA6IGUucHJvdG90eXBlLl9uZXh0LCBjLl9lcnJvciA9IG8gPyBmdW5jdGlvbih1KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbyh1KTtcclxuICAgICAgfSBjYXRjaCAobCkge1xyXG4gICAgICAgIG4uZXJyb3IobCk7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xyXG4gICAgICB9XHJcbiAgICB9IDogZS5wcm90b3R5cGUuX2Vycm9yLCBjLl9jb21wbGV0ZSA9IGkgPyBmdW5jdGlvbigpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpKCk7XHJcbiAgICAgIH0gY2F0Y2ggKHUpIHtcclxuICAgICAgICBuLmVycm9yKHUpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcclxuICAgICAgfVxyXG4gICAgfSA6IGUucHJvdG90eXBlLl9jb21wbGV0ZSwgYztcclxuICB9XHJcbiAgcmV0dXJuIHQucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbjtcclxuICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcclxuICAgICAgdmFyIHIgPSB0aGlzLmNsb3NlZDtcclxuICAgICAgZS5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKSwgIXIgJiYgKChuID0gdGhpcy5vbkZpbmFsaXplKSA9PT0gbnVsbCB8fCBuID09PSB2b2lkIDAgfHwgbi5jYWxsKHRoaXMpKTtcclxuICAgIH1cclxuICB9LCB0O1xyXG59KG10KSwgenIgPSB2dChmdW5jdGlvbihlKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgZSh0aGlzKSwgdGhpcy5uYW1lID0gXCJPYmplY3RVbnN1YnNjcmliZWRFcnJvclwiLCB0aGlzLm1lc3NhZ2UgPSBcIm9iamVjdCB1bnN1YnNjcmliZWRcIjtcclxuICB9O1xyXG59KSwgWiA9IGZ1bmN0aW9uKGUpIHtcclxuICBlZSh0LCBlKTtcclxuICBmdW5jdGlvbiB0KCkge1xyXG4gICAgdmFyIG4gPSBlLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgIHJldHVybiBuLmNsb3NlZCA9ICExLCBuLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsLCBuLm9ic2VydmVycyA9IFtdLCBuLmlzU3RvcHBlZCA9ICExLCBuLmhhc0Vycm9yID0gITEsIG4udGhyb3duRXJyb3IgPSBudWxsLCBuO1xyXG4gIH1cclxuICByZXR1cm4gdC5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIHZhciByID0gbmV3IEl0KHRoaXMsIHRoaXMpO1xyXG4gICAgcmV0dXJuIHIub3BlcmF0b3IgPSBuLCByO1xyXG4gIH0sIHQucHJvdG90eXBlLl90aHJvd0lmQ2xvc2VkID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy5jbG9zZWQpXHJcbiAgICAgIHRocm93IG5ldyB6cigpO1xyXG4gIH0sIHQucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbihuKSB7XHJcbiAgICB2YXIgciA9IHRoaXM7XHJcbiAgICBNZShmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGksIG87XHJcbiAgICAgIGlmIChyLl90aHJvd0lmQ2xvc2VkKCksICFyLmlzU3RvcHBlZCkge1xyXG4gICAgICAgIHIuY3VycmVudE9ic2VydmVycyB8fCAoci5jdXJyZW50T2JzZXJ2ZXJzID0gQXJyYXkuZnJvbShyLm9ic2VydmVycykpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBzID0gbWUoci5jdXJyZW50T2JzZXJ2ZXJzKSwgYSA9IHMubmV4dCgpOyAhYS5kb25lOyBhID0gcy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGMgPSBhLnZhbHVlO1xyXG4gICAgICAgICAgICBjLm5leHQobik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAodSkge1xyXG4gICAgICAgICAgaSA9IHsgZXJyb3I6IHUgfTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYSAmJiAhYS5kb25lICYmIChvID0gcy5yZXR1cm4pICYmIG8uY2FsbChzKTtcclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIGlmIChpKSB0aHJvdyBpLmVycm9yO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSwgdC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbihuKSB7XHJcbiAgICB2YXIgciA9IHRoaXM7XHJcbiAgICBNZShmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHIuX3Rocm93SWZDbG9zZWQoKSwgIXIuaXNTdG9wcGVkKSB7XHJcbiAgICAgICAgci5oYXNFcnJvciA9IHIuaXNTdG9wcGVkID0gITAsIHIudGhyb3duRXJyb3IgPSBuO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSByLm9ic2VydmVyczsgaS5sZW5ndGg7IClcclxuICAgICAgICAgIGkuc2hpZnQoKS5lcnJvcihuKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSwgdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuID0gdGhpcztcclxuICAgIE1lKGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAobi5fdGhyb3dJZkNsb3NlZCgpLCAhbi5pc1N0b3BwZWQpIHtcclxuICAgICAgICBuLmlzU3RvcHBlZCA9ICEwO1xyXG4gICAgICAgIGZvciAodmFyIHIgPSBuLm9ic2VydmVyczsgci5sZW5ndGg7IClcclxuICAgICAgICAgIHIuc2hpZnQoKS5jb21wbGV0ZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LCB0LnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5pc1N0b3BwZWQgPSB0aGlzLmNsb3NlZCA9ICEwLCB0aGlzLm9ic2VydmVycyA9IHRoaXMuY3VycmVudE9ic2VydmVycyA9IG51bGw7XHJcbiAgfSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCBcIm9ic2VydmVkXCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBuO1xyXG4gICAgICByZXR1cm4gKChuID0gdGhpcy5vYnNlcnZlcnMpID09PSBudWxsIHx8IG4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG4ubGVuZ3RoKSA+IDA7XHJcbiAgICB9LFxyXG4gICAgZW51bWVyYWJsZTogITEsXHJcbiAgICBjb25maWd1cmFibGU6ICEwXHJcbiAgfSksIHQucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbihuKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fdGhyb3dJZkNsb3NlZCgpLCBlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcywgbik7XHJcbiAgfSwgdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIHJldHVybiB0aGlzLl90aHJvd0lmQ2xvc2VkKCksIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMobiksIHRoaXMuX2lubmVyU3Vic2NyaWJlKG4pO1xyXG4gIH0sIHQucHJvdG90eXBlLl9pbm5lclN1YnNjcmliZSA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIHZhciByID0gdGhpcywgaSA9IHRoaXMsIG8gPSBpLmhhc0Vycm9yLCBzID0gaS5pc1N0b3BwZWQsIGEgPSBpLm9ic2VydmVycztcclxuICAgIHJldHVybiBvIHx8IHMgPyBhbiA6ICh0aGlzLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsLCBhLnB1c2gobiksIG5ldyBPZShmdW5jdGlvbigpIHtcclxuICAgICAgci5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbCwgVWUoYSwgbik7XHJcbiAgICB9KSk7XHJcbiAgfSwgdC5wcm90b3R5cGUuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMgPSBmdW5jdGlvbihuKSB7XHJcbiAgICB2YXIgciA9IHRoaXMsIGkgPSByLmhhc0Vycm9yLCBvID0gci50aHJvd25FcnJvciwgcyA9IHIuaXNTdG9wcGVkO1xyXG4gICAgaSA/IG4uZXJyb3IobykgOiBzICYmIG4uY29tcGxldGUoKTtcclxuICB9LCB0LnByb3RvdHlwZS5hc09ic2VydmFibGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuID0gbmV3IGsoKTtcclxuICAgIHJldHVybiBuLnNvdXJjZSA9IHRoaXMsIG47XHJcbiAgfSwgdC5jcmVhdGUgPSBmdW5jdGlvbihuLCByKSB7XHJcbiAgICByZXR1cm4gbmV3IEl0KG4sIHIpO1xyXG4gIH0sIHQ7XHJcbn0oayksIEl0ID0gZnVuY3Rpb24oZSkge1xyXG4gIGVlKHQsIGUpO1xyXG4gIGZ1bmN0aW9uIHQobiwgcikge1xyXG4gICAgdmFyIGkgPSBlLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgIHJldHVybiBpLmRlc3RpbmF0aW9uID0gbiwgaS5zb3VyY2UgPSByLCBpO1xyXG4gIH1cclxuICByZXR1cm4gdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIHZhciByLCBpO1xyXG4gICAgKGkgPSAociA9IHRoaXMuZGVzdGluYXRpb24pID09PSBudWxsIHx8IHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHIubmV4dCkgPT09IG51bGwgfHwgaSA9PT0gdm9pZCAwIHx8IGkuY2FsbChyLCBuKTtcclxuICB9LCB0LnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIHZhciByLCBpO1xyXG4gICAgKGkgPSAociA9IHRoaXMuZGVzdGluYXRpb24pID09PSBudWxsIHx8IHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHIuZXJyb3IpID09PSBudWxsIHx8IGkgPT09IHZvaWQgMCB8fCBpLmNhbGwociwgbik7XHJcbiAgfSwgdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuLCByO1xyXG4gICAgKHIgPSAobiA9IHRoaXMuZGVzdGluYXRpb24pID09PSBudWxsIHx8IG4gPT09IHZvaWQgMCA/IHZvaWQgMCA6IG4uY29tcGxldGUpID09PSBudWxsIHx8IHIgPT09IHZvaWQgMCB8fCByLmNhbGwobik7XHJcbiAgfSwgdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uKG4pIHtcclxuICAgIHZhciByLCBpO1xyXG4gICAgcmV0dXJuIChpID0gKHIgPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgciA9PT0gdm9pZCAwID8gdm9pZCAwIDogci5zdWJzY3JpYmUobikpICE9PSBudWxsICYmIGkgIT09IHZvaWQgMCA/IGkgOiBhbjtcclxuICB9LCB0O1xyXG59KFopLCBsbiA9IGZ1bmN0aW9uKGUpIHtcclxuICBlZSh0LCBlKTtcclxuICBmdW5jdGlvbiB0KG4pIHtcclxuICAgIHZhciByID0gZS5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICByZXR1cm4gci5fdmFsdWUgPSBuLCByO1xyXG4gIH1cclxuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcclxuICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XHJcbiAgICB9LFxyXG4gICAgZW51bWVyYWJsZTogITEsXHJcbiAgICBjb25maWd1cmFibGU6ICEwXHJcbiAgfSksIHQucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbihuKSB7XHJcbiAgICB2YXIgciA9IGUucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBuKTtcclxuICAgIHJldHVybiAhci5jbG9zZWQgJiYgbi5uZXh0KHRoaXMuX3ZhbHVlKSwgcjtcclxuICB9LCB0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG4gPSB0aGlzLCByID0gbi5oYXNFcnJvciwgaSA9IG4udGhyb3duRXJyb3IsIG8gPSBuLl92YWx1ZTtcclxuICAgIGlmIChyKVxyXG4gICAgICB0aHJvdyBpO1xyXG4gICAgcmV0dXJuIHRoaXMuX3Rocm93SWZDbG9zZWQoKSwgbztcclxuICB9LCB0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24obikge1xyXG4gICAgZS5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHRoaXMuX3ZhbHVlID0gbik7XHJcbiAgfSwgdDtcclxufShaKSwgWXIgPSB7XHJcbiAgbm93OiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBEYXRlLm5vdygpO1xyXG4gIH1cclxufSwgcXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgZWUodCwgZSk7XHJcbiAgZnVuY3Rpb24gdChuLCByKSB7XHJcbiAgICByZXR1cm4gZS5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgfVxyXG4gIHJldHVybiB0LnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uKG4sIHIpIHtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sIHQ7XHJcbn0oT2UpLCBSdCA9IHtcclxuICBzZXRJbnRlcnZhbDogZnVuY3Rpb24oZSwgdCkge1xyXG4gICAgZm9yICh2YXIgbiA9IFtdLCByID0gMjsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKylcclxuICAgICAgbltyIC0gMl0gPSBhcmd1bWVudHNbcl07XHJcbiAgICByZXR1cm4gc2V0SW50ZXJ2YWwuYXBwbHkodm9pZCAwLCBnZShbZSwgdF0sIHVlKG4pKSk7XHJcbiAgfSxcclxuICBjbGVhckludGVydmFsOiBmdW5jdGlvbihlKSB7XHJcbiAgICByZXR1cm4gY2xlYXJJbnRlcnZhbChlKTtcclxuICB9LFxyXG4gIGRlbGVnYXRlOiB2b2lkIDBcclxufSwgS3IgPSBmdW5jdGlvbihlKSB7XHJcbiAgZWUodCwgZSk7XHJcbiAgZnVuY3Rpb24gdChuLCByKSB7XHJcbiAgICB2YXIgaSA9IGUuY2FsbCh0aGlzLCBuLCByKSB8fCB0aGlzO1xyXG4gICAgcmV0dXJuIGkuc2NoZWR1bGVyID0gbiwgaS53b3JrID0gciwgaS5wZW5kaW5nID0gITEsIGk7XHJcbiAgfVxyXG4gIHJldHVybiB0LnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uKG4sIHIpIHtcclxuICAgIHZhciBpO1xyXG4gICAgaWYgKHIgPT09IHZvaWQgMCAmJiAociA9IDApLCB0aGlzLmNsb3NlZClcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB0aGlzLnN0YXRlID0gbjtcclxuICAgIHZhciBvID0gdGhpcy5pZCwgcyA9IHRoaXMuc2NoZWR1bGVyO1xyXG4gICAgcmV0dXJuIG8gIT0gbnVsbCAmJiAodGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQocywgbywgcikpLCB0aGlzLnBlbmRpbmcgPSAhMCwgdGhpcy5kZWxheSA9IHIsIHRoaXMuaWQgPSAoaSA9IHRoaXMuaWQpICE9PSBudWxsICYmIGkgIT09IHZvaWQgMCA/IGkgOiB0aGlzLnJlcXVlc3RBc3luY0lkKHMsIHRoaXMuaWQsIHIpLCB0aGlzO1xyXG4gIH0sIHQucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24obiwgciwgaSkge1xyXG4gICAgcmV0dXJuIGkgPT09IHZvaWQgMCAmJiAoaSA9IDApLCBSdC5zZXRJbnRlcnZhbChuLmZsdXNoLmJpbmQobiwgdGhpcyksIGkpO1xyXG4gIH0sIHQucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24obiwgciwgaSkge1xyXG4gICAgaWYgKGkgPT09IHZvaWQgMCAmJiAoaSA9IDApLCBpICE9IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gaSAmJiB0aGlzLnBlbmRpbmcgPT09ICExKVxyXG4gICAgICByZXR1cm4gcjtcclxuICAgIHIgIT0gbnVsbCAmJiBSdC5jbGVhckludGVydmFsKHIpO1xyXG4gIH0sIHQucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbihuLCByKSB7XHJcbiAgICBpZiAodGhpcy5jbG9zZWQpXHJcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoXCJleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uXCIpO1xyXG4gICAgdGhpcy5wZW5kaW5nID0gITE7XHJcbiAgICB2YXIgaSA9IHRoaXMuX2V4ZWN1dGUobiwgcik7XHJcbiAgICBpZiAoaSlcclxuICAgICAgcmV0dXJuIGk7XHJcbiAgICB0aGlzLnBlbmRpbmcgPT09ICExICYmIHRoaXMuaWQgIT0gbnVsbCAmJiAodGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsIHRoaXMuaWQsIG51bGwpKTtcclxuICB9LCB0LnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uKG4sIHIpIHtcclxuICAgIHZhciBpID0gITEsIG87XHJcbiAgICB0cnkge1xyXG4gICAgICB0aGlzLndvcmsobik7XHJcbiAgICB9IGNhdGNoIChzKSB7XHJcbiAgICAgIGkgPSAhMCwgbyA9IHMgfHwgbmV3IEVycm9yKFwiU2NoZWR1bGVkIGFjdGlvbiB0aHJldyBmYWxzeSBlcnJvclwiKTtcclxuICAgIH1cclxuICAgIGlmIChpKVxyXG4gICAgICByZXR1cm4gdGhpcy51bnN1YnNjcmliZSgpLCBvO1xyXG4gIH0sIHQucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XHJcbiAgICAgIHZhciBuID0gdGhpcywgciA9IG4uaWQsIGkgPSBuLnNjaGVkdWxlciwgbyA9IGkuYWN0aW9ucztcclxuICAgICAgdGhpcy53b3JrID0gdGhpcy5zdGF0ZSA9IHRoaXMuc2NoZWR1bGVyID0gbnVsbCwgdGhpcy5wZW5kaW5nID0gITEsIFVlKG8sIHRoaXMpLCByICE9IG51bGwgJiYgKHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKGksIHIsIG51bGwpKSwgdGhpcy5kZWxheSA9IG51bGwsIGUucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XHJcbiAgICB9XHJcbiAgfSwgdDtcclxufShxciksIE10ID0gZnVuY3Rpb24oKSB7XHJcbiAgZnVuY3Rpb24gZSh0LCBuKSB7XHJcbiAgICBuID09PSB2b2lkIDAgJiYgKG4gPSBlLm5vdyksIHRoaXMuc2NoZWR1bGVyQWN0aW9uQ3RvciA9IHQsIHRoaXMubm93ID0gbjtcclxuICB9XHJcbiAgcmV0dXJuIGUucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24odCwgbiwgcikge1xyXG4gICAgcmV0dXJuIG4gPT09IHZvaWQgMCAmJiAobiA9IDApLCBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsIHQpLnNjaGVkdWxlKHIsIG4pO1xyXG4gIH0sIGUubm93ID0gWXIubm93LCBlO1xyXG59KCksIEdyID0gZnVuY3Rpb24oZSkge1xyXG4gIGVlKHQsIGUpO1xyXG4gIGZ1bmN0aW9uIHQobiwgcikge1xyXG4gICAgciA9PT0gdm9pZCAwICYmIChyID0gTXQubm93KTtcclxuICAgIHZhciBpID0gZS5jYWxsKHRoaXMsIG4sIHIpIHx8IHRoaXM7XHJcbiAgICByZXR1cm4gaS5hY3Rpb25zID0gW10sIGkuX2FjdGl2ZSA9ICExLCBpO1xyXG4gIH1cclxuICByZXR1cm4gdC5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbihuKSB7XHJcbiAgICB2YXIgciA9IHRoaXMuYWN0aW9ucztcclxuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcclxuICAgICAgci5wdXNoKG4pO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB2YXIgaTtcclxuICAgIHRoaXMuX2FjdGl2ZSA9ICEwO1xyXG4gICAgZG9cclxuICAgICAgaWYgKGkgPSBuLmV4ZWN1dGUobi5zdGF0ZSwgbi5kZWxheSkpXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB3aGlsZSAobiA9IHIuc2hpZnQoKSk7XHJcbiAgICBpZiAodGhpcy5fYWN0aXZlID0gITEsIGkpIHtcclxuICAgICAgZm9yICg7IG4gPSByLnNoaWZ0KCk7IClcclxuICAgICAgICBuLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgIHRocm93IGk7XHJcbiAgICB9XHJcbiAgfSwgdDtcclxufShNdCksIFFyID0gbmV3IEdyKEtyKTtcclxuZnVuY3Rpb24gSnIoZSkge1xyXG4gIHJldHVybiBlICYmIEEoZS5zY2hlZHVsZSk7XHJcbn1cclxuZnVuY3Rpb24gWHIoZSkge1xyXG4gIHJldHVybiBlW2UubGVuZ3RoIC0gMV07XHJcbn1cclxuZnVuY3Rpb24geXQoZSkge1xyXG4gIHJldHVybiBKcihYcihlKSkgPyBlLnBvcCgpIDogdm9pZCAwO1xyXG59XHJcbnZhciB3dCA9IGZ1bmN0aW9uKGUpIHtcclxuICByZXR1cm4gZSAmJiB0eXBlb2YgZS5sZW5ndGggPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZSAhPSBcImZ1bmN0aW9uXCI7XHJcbn07XHJcbmZ1bmN0aW9uIGZuKGUpIHtcclxuICByZXR1cm4gQShlID09IG51bGwgPyB2b2lkIDAgOiBlLnRoZW4pO1xyXG59XHJcbmZ1bmN0aW9uIGRuKGUpIHtcclxuICByZXR1cm4gQShlW2d0XSk7XHJcbn1cclxuZnVuY3Rpb24gcG4oZSkge1xyXG4gIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBBKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKTtcclxufVxyXG5mdW5jdGlvbiBobihlKSB7XHJcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgcHJvdmlkZWQgXCIgKyAoZSAhPT0gbnVsbCAmJiB0eXBlb2YgZSA9PSBcIm9iamVjdFwiID8gXCJhbiBpbnZhbGlkIG9iamVjdFwiIDogXCInXCIgKyBlICsgXCInXCIpICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLiBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgUmVhZGFibGVTdHJlYW0sIEFycmF5LCBBc3luY0l0ZXJhYmxlLCBvciBJdGVyYWJsZS5cIik7XHJcbn1cclxuZnVuY3Rpb24gWnIoKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgIT0gXCJmdW5jdGlvblwiIHx8ICFTeW1ib2wuaXRlcmF0b3IgPyBcIkBAaXRlcmF0b3JcIiA6IFN5bWJvbC5pdGVyYXRvcjtcclxufVxyXG52YXIgdm4gPSBacigpO1xyXG5mdW5jdGlvbiBtbihlKSB7XHJcbiAgcmV0dXJuIEEoZSA9PSBudWxsID8gdm9pZCAwIDogZVt2bl0pO1xyXG59XHJcbmZ1bmN0aW9uIGduKGUpIHtcclxuICByZXR1cm4gUnIodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuLCByLCBpLCBvO1xyXG4gICAgcmV0dXJuIHNuKHRoaXMsIGZ1bmN0aW9uKHMpIHtcclxuICAgICAgc3dpdGNoIChzLmxhYmVsKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgbiA9IGUuZ2V0UmVhZGVyKCksIHMubGFiZWwgPSAxO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIHMudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSksIHMubGFiZWwgPSAyO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIHJldHVybiBbNCwgcGUobi5yZWFkKCkpXTtcclxuICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICByZXR1cm4gciA9IHMuc2VudCgpLCBpID0gci52YWx1ZSwgbyA9IHIuZG9uZSwgbyA/IFs0LCBwZSh2b2lkIDApXSA6IFszLCA1XTtcclxuICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICByZXR1cm4gWzIsIHMuc2VudCgpXTtcclxuICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICByZXR1cm4gWzQsIHBlKGkpXTtcclxuICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICByZXR1cm4gWzQsIHMuc2VudCgpXTtcclxuICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICByZXR1cm4gcy5zZW50KCksIFszLCAyXTtcclxuICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICByZXR1cm4gWzMsIDEwXTtcclxuICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICByZXR1cm4gbi5yZWxlYXNlTG9jaygpLCBbN107XHJcbiAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgIHJldHVybiBbMl07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGJuKGUpIHtcclxuICByZXR1cm4gQShlID09IG51bGwgPyB2b2lkIDAgOiBlLmdldFJlYWRlcik7XHJcbn1cclxuZnVuY3Rpb24gSChlKSB7XHJcbiAgaWYgKGUgaW5zdGFuY2VvZiBrKVxyXG4gICAgcmV0dXJuIGU7XHJcbiAgaWYgKGUgIT0gbnVsbCkge1xyXG4gICAgaWYgKGRuKGUpKVxyXG4gICAgICByZXR1cm4gZWkoZSk7XHJcbiAgICBpZiAod3QoZSkpXHJcbiAgICAgIHJldHVybiB0aShlKTtcclxuICAgIGlmIChmbihlKSlcclxuICAgICAgcmV0dXJuIG5pKGUpO1xyXG4gICAgaWYgKHBuKGUpKVxyXG4gICAgICByZXR1cm4geW4oZSk7XHJcbiAgICBpZiAobW4oZSkpXHJcbiAgICAgIHJldHVybiByaShlKTtcclxuICAgIGlmIChibihlKSlcclxuICAgICAgcmV0dXJuIGlpKGUpO1xyXG4gIH1cclxuICB0aHJvdyBobihlKTtcclxufVxyXG5mdW5jdGlvbiBlaShlKSB7XHJcbiAgcmV0dXJuIG5ldyBrKGZ1bmN0aW9uKHQpIHtcclxuICAgIHZhciBuID0gZVtndF0oKTtcclxuICAgIGlmIChBKG4uc3Vic2NyaWJlKSlcclxuICAgICAgcmV0dXJuIG4uc3Vic2NyaWJlKHQpO1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlXCIpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHRpKGUpIHtcclxuICByZXR1cm4gbmV3IGsoZnVuY3Rpb24odCkge1xyXG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aCAmJiAhdC5jbG9zZWQ7IG4rKylcclxuICAgICAgdC5uZXh0KGVbbl0pO1xyXG4gICAgdC5jb21wbGV0ZSgpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIG5pKGUpIHtcclxuICByZXR1cm4gbmV3IGsoZnVuY3Rpb24odCkge1xyXG4gICAgZS50aGVuKGZ1bmN0aW9uKG4pIHtcclxuICAgICAgdC5jbG9zZWQgfHwgKHQubmV4dChuKSwgdC5jb21wbGV0ZSgpKTtcclxuICAgIH0sIGZ1bmN0aW9uKG4pIHtcclxuICAgICAgcmV0dXJuIHQuZXJyb3Iobik7XHJcbiAgICB9KS50aGVuKG51bGwsIHVuKTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiByaShlKSB7XHJcbiAgcmV0dXJuIG5ldyBrKGZ1bmN0aW9uKHQpIHtcclxuICAgIHZhciBuLCByO1xyXG4gICAgdHJ5IHtcclxuICAgICAgZm9yICh2YXIgaSA9IG1lKGUpLCBvID0gaS5uZXh0KCk7ICFvLmRvbmU7IG8gPSBpLm5leHQoKSkge1xyXG4gICAgICAgIHZhciBzID0gby52YWx1ZTtcclxuICAgICAgICBpZiAodC5uZXh0KHMpLCB0LmNsb3NlZClcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoYSkge1xyXG4gICAgICBuID0geyBlcnJvcjogYSB9O1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBvICYmICFvLmRvbmUgJiYgKHIgPSBpLnJldHVybikgJiYgci5jYWxsKGkpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlmIChuKSB0aHJvdyBuLmVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0LmNvbXBsZXRlKCk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24geW4oZSkge1xyXG4gIHJldHVybiBuZXcgayhmdW5jdGlvbih0KSB7XHJcbiAgICBvaShlLCB0KS5jYXRjaChmdW5jdGlvbihuKSB7XHJcbiAgICAgIHJldHVybiB0LmVycm9yKG4pO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gaWkoZSkge1xyXG4gIHJldHVybiB5bihnbihlKSk7XHJcbn1cclxuZnVuY3Rpb24gb2koZSwgdCkge1xyXG4gIHZhciBuLCByLCBpLCBvO1xyXG4gIHJldHVybiBJcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcywgYTtcclxuICAgIHJldHVybiBzbih0aGlzLCBmdW5jdGlvbihjKSB7XHJcbiAgICAgIHN3aXRjaCAoYy5sYWJlbCkge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgIGMudHJ5cy5wdXNoKFswLCA1LCA2LCAxMV0pLCBuID0gTXIoZSksIGMubGFiZWwgPSAxO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgIHJldHVybiBbNCwgbi5uZXh0KCldO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgIGlmIChyID0gYy5zZW50KCksICEhci5kb25lKSByZXR1cm4gWzMsIDRdO1xyXG4gICAgICAgICAgaWYgKHMgPSByLnZhbHVlLCB0Lm5leHQocyksIHQuY2xvc2VkKVxyXG4gICAgICAgICAgICByZXR1cm4gWzJdO1xyXG4gICAgICAgICAgYy5sYWJlbCA9IDM7XHJcbiAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgcmV0dXJuIFszLCAxXTtcclxuICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICByZXR1cm4gWzMsIDExXTtcclxuICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICByZXR1cm4gYSA9IGMuc2VudCgpLCBpID0geyBlcnJvcjogYSB9LCBbMywgMTFdO1xyXG4gICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgIHJldHVybiBjLnRyeXMucHVzaChbNiwgLCA5LCAxMF0pLCByICYmICFyLmRvbmUgJiYgKG8gPSBuLnJldHVybikgPyBbNCwgby5jYWxsKG4pXSA6IFszLCA4XTtcclxuICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICBjLnNlbnQoKSwgYy5sYWJlbCA9IDg7XHJcbiAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgcmV0dXJuIFszLCAxMF07XHJcbiAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgaWYgKGkpIHRocm93IGkuZXJyb3I7XHJcbiAgICAgICAgICByZXR1cm4gWzddO1xyXG4gICAgICAgIGNhc2UgMTA6XHJcbiAgICAgICAgICByZXR1cm4gWzddO1xyXG4gICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICByZXR1cm4gdC5jb21wbGV0ZSgpLCBbMl07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHJlKGUsIHQsIG4sIHIsIGkpIHtcclxuICByID09PSB2b2lkIDAgJiYgKHIgPSAwKSwgaSA9PT0gdm9pZCAwICYmIChpID0gITEpO1xyXG4gIHZhciBvID0gdC5zY2hlZHVsZShmdW5jdGlvbigpIHtcclxuICAgIG4oKSwgaSA/IGUuYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgcikpIDogdGhpcy51bnN1YnNjcmliZSgpO1xyXG4gIH0sIHIpO1xyXG4gIGlmIChlLmFkZChvKSwgIWkpXHJcbiAgICByZXR1cm4gbztcclxufVxyXG5mdW5jdGlvbiB3bihlLCB0KSB7XHJcbiAgcmV0dXJuIHQgPT09IHZvaWQgMCAmJiAodCA9IDApLCBCKGZ1bmN0aW9uKG4sIHIpIHtcclxuICAgIG4uc3Vic2NyaWJlKFcociwgZnVuY3Rpb24oaSkge1xyXG4gICAgICByZXR1cm4gcmUociwgZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHIubmV4dChpKTtcclxuICAgICAgfSwgdCk7XHJcbiAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHJlKHIsIGUsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiByLmNvbXBsZXRlKCk7XHJcbiAgICAgIH0sIHQpO1xyXG4gICAgfSwgZnVuY3Rpb24oaSkge1xyXG4gICAgICByZXR1cm4gcmUociwgZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHIuZXJyb3IoaSk7XHJcbiAgICAgIH0sIHQpO1xyXG4gICAgfSkpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHhuKGUsIHQpIHtcclxuICByZXR1cm4gdCA9PT0gdm9pZCAwICYmICh0ID0gMCksIEIoZnVuY3Rpb24obiwgcikge1xyXG4gICAgci5hZGQoZS5zY2hlZHVsZShmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIG4uc3Vic2NyaWJlKHIpO1xyXG4gICAgfSwgdCkpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNpKGUsIHQpIHtcclxuICByZXR1cm4gSChlKS5waXBlKHhuKHQpLCB3bih0KSk7XHJcbn1cclxuZnVuY3Rpb24gYWkoZSwgdCkge1xyXG4gIHJldHVybiBIKGUpLnBpcGUoeG4odCksIHduKHQpKTtcclxufVxyXG5mdW5jdGlvbiBjaShlLCB0KSB7XHJcbiAgcmV0dXJuIG5ldyBrKGZ1bmN0aW9uKG4pIHtcclxuICAgIHZhciByID0gMDtcclxuICAgIHJldHVybiB0LnNjaGVkdWxlKGZ1bmN0aW9uKCkge1xyXG4gICAgICByID09PSBlLmxlbmd0aCA/IG4uY29tcGxldGUoKSA6IChuLm5leHQoZVtyKytdKSwgbi5jbG9zZWQgfHwgdGhpcy5zY2hlZHVsZSgpKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHVpKGUsIHQpIHtcclxuICByZXR1cm4gbmV3IGsoZnVuY3Rpb24obikge1xyXG4gICAgdmFyIHI7XHJcbiAgICByZXR1cm4gcmUobiwgdCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHIgPSBlW3ZuXSgpLCByZShuLCB0LCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaSwgbywgcztcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaSA9IHIubmV4dCgpLCBvID0gaS52YWx1ZSwgcyA9IGkuZG9uZTtcclxuICAgICAgICB9IGNhdGNoIChhKSB7XHJcbiAgICAgICAgICBuLmVycm9yKGEpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzID8gbi5jb21wbGV0ZSgpIDogbi5uZXh0KG8pO1xyXG4gICAgICB9LCAwLCAhMCk7XHJcbiAgICB9KSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBBKHIgPT0gbnVsbCA/IHZvaWQgMCA6IHIucmV0dXJuKSAmJiByLnJldHVybigpO1xyXG4gICAgfTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBTbihlLCB0KSB7XHJcbiAgaWYgKCFlKVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSXRlcmFibGUgY2Fubm90IGJlIG51bGxcIik7XHJcbiAgcmV0dXJuIG5ldyBrKGZ1bmN0aW9uKG4pIHtcclxuICAgIHJlKG4sIHQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgciA9IGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XHJcbiAgICAgIHJlKG4sIHQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHIubmV4dCgpLnRoZW4oZnVuY3Rpb24oaSkge1xyXG4gICAgICAgICAgaS5kb25lID8gbi5jb21wbGV0ZSgpIDogbi5uZXh0KGkudmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCAwLCAhMCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBsaShlLCB0KSB7XHJcbiAgcmV0dXJuIFNuKGduKGUpLCB0KTtcclxufVxyXG5mdW5jdGlvbiBmaShlLCB0KSB7XHJcbiAgaWYgKGUgIT0gbnVsbCkge1xyXG4gICAgaWYgKGRuKGUpKVxyXG4gICAgICByZXR1cm4gc2koZSwgdCk7XHJcbiAgICBpZiAod3QoZSkpXHJcbiAgICAgIHJldHVybiBjaShlLCB0KTtcclxuICAgIGlmIChmbihlKSlcclxuICAgICAgcmV0dXJuIGFpKGUsIHQpO1xyXG4gICAgaWYgKHBuKGUpKVxyXG4gICAgICByZXR1cm4gU24oZSwgdCk7XHJcbiAgICBpZiAobW4oZSkpXHJcbiAgICAgIHJldHVybiB1aShlLCB0KTtcclxuICAgIGlmIChibihlKSlcclxuICAgICAgcmV0dXJuIGxpKGUsIHQpO1xyXG4gIH1cclxuICB0aHJvdyBobihlKTtcclxufVxyXG5mdW5jdGlvbiBHZShlLCB0KSB7XHJcbiAgcmV0dXJuIHQgPyBmaShlLCB0KSA6IEgoZSk7XHJcbn1cclxuZnVuY3Rpb24gRHQoKSB7XHJcbiAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKylcclxuICAgIGVbdF0gPSBhcmd1bWVudHNbdF07XHJcbiAgdmFyIG4gPSB5dChlKTtcclxuICByZXR1cm4gR2UoZSwgbik7XHJcbn1cclxuZnVuY3Rpb24gZGkoZSkge1xyXG4gIHJldHVybiBlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4oZSk7XHJcbn1cclxudmFyIHBpID0gdnQoZnVuY3Rpb24oZSkge1xyXG4gIHJldHVybiBmdW5jdGlvbihuKSB7XHJcbiAgICBuID09PSB2b2lkIDAgJiYgKG4gPSBudWxsKSwgZSh0aGlzKSwgdGhpcy5tZXNzYWdlID0gXCJUaW1lb3V0IGhhcyBvY2N1cnJlZFwiLCB0aGlzLm5hbWUgPSBcIlRpbWVvdXRFcnJvclwiLCB0aGlzLmluZm8gPSBuO1xyXG4gIH07XHJcbn0pO1xyXG5mdW5jdGlvbiBoaShlLCB0KSB7XHJcbiAgdmFyIG4gPSBkaShlKSA/IHsgZmlyc3Q6IGUgfSA6IHR5cGVvZiBlID09IFwibnVtYmVyXCIgPyB7IGVhY2g6IGUgfSA6IGUsIHIgPSBuLmZpcnN0LCBpID0gbi5lYWNoLCBvID0gbi53aXRoLCBzID0gbyA9PT0gdm9pZCAwID8gdmkgOiBvLCBhID0gbi5zY2hlZHVsZXIsIGMgPSBhID09PSB2b2lkIDAgPyBRciA6IGEsIHUgPSBuLm1ldGEsIGwgPSB1ID09PSB2b2lkIDAgPyBudWxsIDogdTtcclxuICBpZiAociA9PSBudWxsICYmIGkgPT0gbnVsbClcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJObyB0aW1lb3V0IHByb3ZpZGVkLlwiKTtcclxuICByZXR1cm4gQihmdW5jdGlvbihmLCB2KSB7XHJcbiAgICB2YXIgZCwgbSwgcCA9IG51bGwsIGcgPSAwLCBoID0gZnVuY3Rpb24oeCkge1xyXG4gICAgICBtID0gcmUodiwgYywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGQudW5zdWJzY3JpYmUoKSwgSChzKHtcclxuICAgICAgICAgICAgbWV0YTogbCxcclxuICAgICAgICAgICAgbGFzdFZhbHVlOiBwLFxyXG4gICAgICAgICAgICBzZWVuOiBnXHJcbiAgICAgICAgICB9KSkuc3Vic2NyaWJlKHYpO1xyXG4gICAgICAgIH0gY2F0Y2ggKEUpIHtcclxuICAgICAgICAgIHYuZXJyb3IoRSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCB4KTtcclxuICAgIH07XHJcbiAgICBkID0gZi5zdWJzY3JpYmUoVyh2LCBmdW5jdGlvbih4KSB7XHJcbiAgICAgIG0gPT0gbnVsbCB8fCBtLnVuc3Vic2NyaWJlKCksIGcrKywgdi5uZXh0KHAgPSB4KSwgaSA+IDAgJiYgaChpKTtcclxuICAgIH0sIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbigpIHtcclxuICAgICAgbSAhPSBudWxsICYmIG0uY2xvc2VkIHx8IG0gPT0gbnVsbCB8fCBtLnVuc3Vic2NyaWJlKCksIHAgPSBudWxsO1xyXG4gICAgfSkpLCAhZyAmJiBoKHIgIT0gbnVsbCA/IHR5cGVvZiByID09IFwibnVtYmVyXCIgPyByIDogK3IgLSBjLm5vdygpIDogaSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gdmkoZSkge1xyXG4gIHRocm93IG5ldyBwaShlKTtcclxufVxyXG5mdW5jdGlvbiBPKGUsIHQpIHtcclxuICByZXR1cm4gQihmdW5jdGlvbihuLCByKSB7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICBuLnN1YnNjcmliZShXKHIsIGZ1bmN0aW9uKG8pIHtcclxuICAgICAgci5uZXh0KGUuY2FsbCh0LCBvLCBpKyspKTtcclxuICAgIH0pKTtcclxuICB9KTtcclxufVxyXG52YXIgbWkgPSBBcnJheS5pc0FycmF5O1xyXG5mdW5jdGlvbiBnaShlLCB0KSB7XHJcbiAgcmV0dXJuIG1pKHQpID8gZS5hcHBseSh2b2lkIDAsIGdlKFtdLCB1ZSh0KSkpIDogZSh0KTtcclxufVxyXG5mdW5jdGlvbiBiaShlKSB7XHJcbiAgcmV0dXJuIE8oZnVuY3Rpb24odCkge1xyXG4gICAgcmV0dXJuIGdpKGUsIHQpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHlpKGUsIHQsIG4sIHIsIGksIG8sIHMsIGEpIHtcclxuICB2YXIgYyA9IFtdLCB1ID0gMCwgbCA9IDAsIGYgPSAhMSwgdiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZiAmJiAhYy5sZW5ndGggJiYgIXUgJiYgdC5jb21wbGV0ZSgpO1xyXG4gIH0sIGQgPSBmdW5jdGlvbihwKSB7XHJcbiAgICByZXR1cm4gdSA8IHIgPyBtKHApIDogYy5wdXNoKHApO1xyXG4gIH0sIG0gPSBmdW5jdGlvbihwKSB7XHJcbiAgICB1Kys7XHJcbiAgICB2YXIgZyA9ICExO1xyXG4gICAgSChuKHAsIGwrKykpLnN1YnNjcmliZShXKHQsIGZ1bmN0aW9uKGgpIHtcclxuICAgICAgdC5uZXh0KGgpO1xyXG4gICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGcgPSAhMDtcclxuICAgIH0sIHZvaWQgMCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChnKVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB1LS07XHJcbiAgICAgICAgICBmb3IgKHZhciBoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gYy5zaGlmdCgpO1xyXG4gICAgICAgICAgICBzIHx8IG0oeCk7XHJcbiAgICAgICAgICB9OyBjLmxlbmd0aCAmJiB1IDwgcjsgKVxyXG4gICAgICAgICAgICBoKCk7XHJcbiAgICAgICAgICB2KCk7XHJcbiAgICAgICAgfSBjYXRjaCAoeCkge1xyXG4gICAgICAgICAgdC5lcnJvcih4KTtcclxuICAgICAgICB9XHJcbiAgICB9KSk7XHJcbiAgfTtcclxuICByZXR1cm4gZS5zdWJzY3JpYmUoVyh0LCBkLCBmdW5jdGlvbigpIHtcclxuICAgIGYgPSAhMCwgdigpO1xyXG4gIH0pKSwgZnVuY3Rpb24oKSB7XHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiB4dChlLCB0LCBuKSB7XHJcbiAgcmV0dXJuIG4gPT09IHZvaWQgMCAmJiAobiA9IDEgLyAwKSwgQSh0KSA/IHh0KGZ1bmN0aW9uKHIsIGkpIHtcclxuICAgIHJldHVybiBPKGZ1bmN0aW9uKG8sIHMpIHtcclxuICAgICAgcmV0dXJuIHQociwgbywgaSwgcyk7XHJcbiAgICB9KShIKGUociwgaSkpKTtcclxuICB9LCBuKSA6ICh0eXBlb2YgdCA9PSBcIm51bWJlclwiICYmIChuID0gdCksIEIoZnVuY3Rpb24ociwgaSkge1xyXG4gICAgcmV0dXJuIHlpKHIsIGksIGUsIG4pO1xyXG4gIH0pKTtcclxufVxyXG5mdW5jdGlvbiB3aShlKSB7XHJcbiAgcmV0dXJuIHh0KGJ0LCBlKTtcclxufVxyXG5mdW5jdGlvbiB4aSgpIHtcclxuICByZXR1cm4gd2koMSk7XHJcbn1cclxuZnVuY3Rpb24gV2UoKSB7XHJcbiAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKylcclxuICAgIGVbdF0gPSBhcmd1bWVudHNbdF07XHJcbiAgcmV0dXJuIHhpKCkoR2UoZSwgeXQoZSkpKTtcclxufVxyXG52YXIgU2kgPSBbXCJhZGRMaXN0ZW5lclwiLCBcInJlbW92ZUxpc3RlbmVyXCJdLCBUaSA9IFtcImFkZEV2ZW50TGlzdGVuZXJcIiwgXCJyZW1vdmVFdmVudExpc3RlbmVyXCJdLCBFaSA9IFtcIm9uXCIsIFwib2ZmXCJdO1xyXG5mdW5jdGlvbiBhdChlLCB0LCBuLCByKSB7XHJcbiAgaWYgKEEobikgJiYgKHIgPSBuLCBuID0gdm9pZCAwKSwgcilcclxuICAgIHJldHVybiBhdChlLCB0LCBuKS5waXBlKGJpKHIpKTtcclxuICB2YXIgaSA9IHVlKEFpKGUpID8gVGkubWFwKGZ1bmN0aW9uKGEpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihjKSB7XHJcbiAgICAgIHJldHVybiBlW2FdKHQsIGMsIG4pO1xyXG4gICAgfTtcclxuICB9KSA6IENpKGUpID8gU2kubWFwKCR0KGUsIHQpKSA6IFBpKGUpID8gRWkubWFwKCR0KGUsIHQpKSA6IFtdLCAyKSwgbyA9IGlbMF0sIHMgPSBpWzFdO1xyXG4gIGlmICghbyAmJiB3dChlKSlcclxuICAgIHJldHVybiB4dChmdW5jdGlvbihhKSB7XHJcbiAgICAgIHJldHVybiBhdChhLCB0LCBuKTtcclxuICAgIH0pKEgoZSkpO1xyXG4gIGlmICghbylcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHRhcmdldFwiKTtcclxuICByZXR1cm4gbmV3IGsoZnVuY3Rpb24oYSkge1xyXG4gICAgdmFyIGMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgZm9yICh2YXIgdSA9IFtdLCBsID0gMDsgbCA8IGFyZ3VtZW50cy5sZW5ndGg7IGwrKylcclxuICAgICAgICB1W2xdID0gYXJndW1lbnRzW2xdO1xyXG4gICAgICByZXR1cm4gYS5uZXh0KDEgPCB1Lmxlbmd0aCA/IHUgOiB1WzBdKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gbyhjKSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBzKGMpO1xyXG4gICAgfTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiAkdChlLCB0KSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKG4pIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihyKSB7XHJcbiAgICAgIHJldHVybiBlW25dKHQsIHIpO1xyXG4gICAgfTtcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIENpKGUpIHtcclxuICByZXR1cm4gQShlLmFkZExpc3RlbmVyKSAmJiBBKGUucmVtb3ZlTGlzdGVuZXIpO1xyXG59XHJcbmZ1bmN0aW9uIFBpKGUpIHtcclxuICByZXR1cm4gQShlLm9uKSAmJiBBKGUub2ZmKTtcclxufVxyXG5mdW5jdGlvbiBBaShlKSB7XHJcbiAgcmV0dXJuIEEoZS5hZGRFdmVudExpc3RlbmVyKSAmJiBBKGUucmVtb3ZlRXZlbnRMaXN0ZW5lcik7XHJcbn1cclxuZnVuY3Rpb24gUWUoZSwgdCkge1xyXG4gIHJldHVybiBCKGZ1bmN0aW9uKG4sIHIpIHtcclxuICAgIHZhciBpID0gMDtcclxuICAgIG4uc3Vic2NyaWJlKFcociwgZnVuY3Rpb24obykge1xyXG4gICAgICByZXR1cm4gZS5jYWxsKHQsIG8sIGkrKykgJiYgci5uZXh0KG8pO1xyXG4gICAgfSkpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIE9pKGUsIHQsIG4sIHIsIGkpIHtcclxuICByZXR1cm4gZnVuY3Rpb24obywgcykge1xyXG4gICAgdmFyIGEgPSBuLCBjID0gdCwgdSA9IDA7XHJcbiAgICBvLnN1YnNjcmliZShXKHMsIGZ1bmN0aW9uKGwpIHtcclxuICAgICAgdmFyIGYgPSB1Kys7XHJcbiAgICAgIGMgPSBhID8gZShjLCBsLCBmKSA6IChhID0gITAsIGwpLCBzLm5leHQoYyk7XHJcbiAgICB9LCBpKSk7XHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBraShlLCB0KSB7XHJcbiAgcmV0dXJuIHQgPT09IHZvaWQgMCAmJiAodCA9IGJ0KSwgZSA9IGUgPz8gTGksIEIoZnVuY3Rpb24obiwgcikge1xyXG4gICAgdmFyIGksIG8gPSAhMDtcclxuICAgIG4uc3Vic2NyaWJlKFcociwgZnVuY3Rpb24ocykge1xyXG4gICAgICB2YXIgYSA9IHQocyk7XHJcbiAgICAgIChvIHx8ICFlKGksIGEpKSAmJiAobyA9ICExLCBpID0gYSwgci5uZXh0KHMpKTtcclxuICAgIH0pKTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBMaShlLCB0KSB7XHJcbiAgcmV0dXJuIGUgPT09IHQ7XHJcbn1cclxuZnVuY3Rpb24gY3QoZSwgdCkge1xyXG4gIHJldHVybiBCKE9pKGUsIHQsIGFyZ3VtZW50cy5sZW5ndGggPj0gMiwgITApKTtcclxufVxyXG5mdW5jdGlvbiBfaShlKSB7XHJcbiAgZSA9PT0gdm9pZCAwICYmIChlID0ge30pO1xyXG4gIHZhciB0ID0gZS5jb25uZWN0b3IsIG4gPSB0ID09PSB2b2lkIDAgPyBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBuZXcgWigpO1xyXG4gIH0gOiB0LCByID0gZS5yZXNldE9uRXJyb3IsIGkgPSByID09PSB2b2lkIDAgPyAhMCA6IHIsIG8gPSBlLnJlc2V0T25Db21wbGV0ZSwgcyA9IG8gPT09IHZvaWQgMCA/ICEwIDogbywgYSA9IGUucmVzZXRPblJlZkNvdW50WmVybywgYyA9IGEgPT09IHZvaWQgMCA/ICEwIDogYTtcclxuICByZXR1cm4gZnVuY3Rpb24odSkge1xyXG4gICAgdmFyIGwsIGYsIHYsIGQgPSAwLCBtID0gITEsIHAgPSAhMSwgZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBmID09IG51bGwgfHwgZi51bnN1YnNjcmliZSgpLCBmID0gdm9pZCAwO1xyXG4gICAgfSwgaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBnKCksIGwgPSB2ID0gdm9pZCAwLCBtID0gcCA9ICExO1xyXG4gICAgfSwgeCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgRSA9IGw7XHJcbiAgICAgIGgoKSwgRSA9PSBudWxsIHx8IEUudW5zdWJzY3JpYmUoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQihmdW5jdGlvbihFLCBQKSB7XHJcbiAgICAgIGQrKywgIXAgJiYgIW0gJiYgZygpO1xyXG4gICAgICB2YXIgYiA9IHYgPSB2ID8/IG4oKTtcclxuICAgICAgUC5hZGQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZC0tLCBkID09PSAwICYmICFwICYmICFtICYmIChmID0gZXQoeCwgYykpO1xyXG4gICAgICB9KSwgYi5zdWJzY3JpYmUoUCksICFsICYmIGQgPiAwICYmIChsID0gbmV3IENlKHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbihTKSB7XHJcbiAgICAgICAgICByZXR1cm4gYi5uZXh0KFMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKFMpIHtcclxuICAgICAgICAgIHAgPSAhMCwgZygpLCBmID0gZXQoaCwgaSwgUyksIGIuZXJyb3IoUyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBtID0gITAsIGcoKSwgZiA9IGV0KGgsIHMpLCBiLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KSwgSChFKS5zdWJzY3JpYmUobCkpO1xyXG4gICAgfSkodSk7XHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBldChlLCB0KSB7XHJcbiAgZm9yICh2YXIgbiA9IFtdLCByID0gMjsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKylcclxuICAgIG5bciAtIDJdID0gYXJndW1lbnRzW3JdO1xyXG4gIGlmICh0ID09PSAhMCkge1xyXG4gICAgZSgpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICBpZiAodCAhPT0gITEpIHtcclxuICAgIHZhciBpID0gbmV3IENlKHtcclxuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaS51bnN1YnNjcmliZSgpLCBlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIEgodC5hcHBseSh2b2lkIDAsIGdlKFtdLCB1ZShuKSkpKS5zdWJzY3JpYmUoaSk7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIElpKGUpIHtcclxuICByZXR1cm4gQihmdW5jdGlvbih0LCBuKSB7XHJcbiAgICB2YXIgciA9ICExLCBpID0gVyhuLCBmdW5jdGlvbigpIHtcclxuICAgICAgaSA9PSBudWxsIHx8IGkudW5zdWJzY3JpYmUoKSwgciA9ICEwO1xyXG4gICAgfSwgamUpO1xyXG4gICAgSChlKS5zdWJzY3JpYmUoaSksIHQuc3Vic2NyaWJlKFcobiwgZnVuY3Rpb24obykge1xyXG4gICAgICByZXR1cm4gciAmJiBuLm5leHQobyk7XHJcbiAgICB9KSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gRCgpIHtcclxuICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKVxyXG4gICAgZVt0XSA9IGFyZ3VtZW50c1t0XTtcclxuICB2YXIgbiA9IHl0KGUpO1xyXG4gIHJldHVybiBCKGZ1bmN0aW9uKHIsIGkpIHtcclxuICAgIChuID8gV2UoZSwgciwgbikgOiBXZShlLCByKSkuc3Vic2NyaWJlKGkpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIFRuKGUsIHQpIHtcclxuICByZXR1cm4gQihmdW5jdGlvbihuLCByKSB7XHJcbiAgICB2YXIgaSA9IG51bGwsIG8gPSAwLCBzID0gITEsIGEgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHMgJiYgIWkgJiYgci5jb21wbGV0ZSgpO1xyXG4gICAgfTtcclxuICAgIG4uc3Vic2NyaWJlKFcociwgZnVuY3Rpb24oYykge1xyXG4gICAgICBpID09IG51bGwgfHwgaS51bnN1YnNjcmliZSgpO1xyXG4gICAgICB2YXIgdSA9IDAsIGwgPSBvKys7XHJcbiAgICAgIEgoZShjLCBsKSkuc3Vic2NyaWJlKGkgPSBXKHIsIGZ1bmN0aW9uKGYpIHtcclxuICAgICAgICByZXR1cm4gci5uZXh0KHQgPyB0KGMsIGYsIGwsIHUrKykgOiBmKTtcclxuICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaSA9IG51bGwsIGEoKTtcclxuICAgICAgfSkpO1xyXG4gICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHMgPSAhMCwgYSgpO1xyXG4gICAgfSkpO1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIE50KGUpIHtcclxuICByZXR1cm4gQihmdW5jdGlvbih0LCBuKSB7XHJcbiAgICBIKGUpLnN1YnNjcmliZShXKG4sIGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gbi5jb21wbGV0ZSgpO1xyXG4gICAgfSwgamUpKSwgIW4uY2xvc2VkICYmIHQuc3Vic2NyaWJlKG4pO1xyXG4gIH0pO1xyXG59XHJcbnZhciBSaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgTWkgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcywgRGkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywgRnQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCAkaSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIE5pID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgVXQgPSAoZSwgdCwgbikgPT4gdCBpbiBlID8gUmkoZSwgdCwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogbiB9KSA6IGVbdF0gPSBuLCBYID0gKGUsIHQpID0+IHtcclxuICBmb3IgKHZhciBuIGluIHQgfHwgKHQgPSB7fSkpXHJcbiAgICAkaS5jYWxsKHQsIG4pICYmIFV0KGUsIG4sIHRbbl0pO1xyXG4gIGlmIChGdClcclxuICAgIGZvciAodmFyIG4gb2YgRnQodCkpXHJcbiAgICAgIE5pLmNhbGwodCwgbikgJiYgVXQoZSwgbiwgdFtuXSk7XHJcbiAgcmV0dXJuIGU7XHJcbn0sIFRlID0gKGUsIHQpID0+IE1pKGUsIERpKHQpKSwgViA9IChlLCB0LCBuKSA9PiBuZXcgUHJvbWlzZSgociwgaSkgPT4ge1xyXG4gIHZhciBvID0gKGMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGEobi5uZXh0KGMpKTtcclxuICAgIH0gY2F0Y2ggKHUpIHtcclxuICAgICAgaSh1KTtcclxuICAgIH1cclxuICB9LCBzID0gKGMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGEobi50aHJvdyhjKSk7XHJcbiAgICB9IGNhdGNoICh1KSB7XHJcbiAgICAgIGkodSk7XHJcbiAgICB9XHJcbiAgfSwgYSA9IChjKSA9PiBjLmRvbmUgPyByKGMudmFsdWUpIDogUHJvbWlzZS5yZXNvbHZlKGMudmFsdWUpLnRoZW4obywgcyk7XHJcbiAgYSgobiA9IG4uYXBwbHkoZSwgdCkpLm5leHQoKSk7XHJcbn0pLCBFbiA9IFwibGtcIjtcclxuZnVuY3Rpb24gaihlKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBlID4gXCJ1XCIgPyAhMSA6IEZpKGUpIHx8IFVpKGUpO1xyXG59XHJcbmZ1bmN0aW9uIEZpKGUpIHtcclxuICB2YXIgdDtcclxuICByZXR1cm4gZSA/IGUuaGFzT3duUHJvcGVydHkoXCJwYXJ0aWNpcGFudFwiKSAmJiBlLmhhc093blByb3BlcnR5KFwic291cmNlXCIpICYmIGUuaGFzT3duUHJvcGVydHkoXCJ0cmFja1wiKSAmJiB0eXBlb2YgKCh0ID0gZS5wdWJsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IHQudHJhY2spIDwgXCJ1XCIgOiAhMTtcclxufVxyXG5mdW5jdGlvbiBVaShlKSB7XHJcbiAgcmV0dXJuIGUgPyBlLmhhc093blByb3BlcnR5KFwicGFydGljaXBhbnRcIikgJiYgZS5oYXNPd25Qcm9wZXJ0eShcInNvdXJjZVwiKSAmJiBlLmhhc093blByb3BlcnR5KFwicHVibGljYXRpb25cIikgJiYgdHlwZW9mIGUucHVibGljYXRpb24gPCBcInVcIiA6ICExO1xyXG59XHJcbmZ1bmN0aW9uIFBlKGUpIHtcclxuICByZXR1cm4gZSA/IGUuaGFzT3duUHJvcGVydHkoXCJwYXJ0aWNpcGFudFwiKSAmJiBlLmhhc093blByb3BlcnR5KFwic291cmNlXCIpICYmIHR5cGVvZiBlLnB1YmxpY2F0aW9uID4gXCJ1XCIgOiAhMTtcclxufVxyXG5mdW5jdGlvbiBOKGUpIHtcclxuICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZSA9PSBcIm51bWJlclwiKVxyXG4gICAgcmV0dXJuIGAke2V9YDtcclxuICBpZiAoUGUoZSkpXHJcbiAgICByZXR1cm4gYCR7ZS5wYXJ0aWNpcGFudC5pZGVudGl0eX1fJHtlLnNvdXJjZX1fcGxhY2Vob2xkZXJgO1xyXG4gIGlmIChqKGUpKVxyXG4gICAgcmV0dXJuIGAke2UucGFydGljaXBhbnQuaWRlbnRpdHl9XyR7ZS5wdWJsaWNhdGlvbi5zb3VyY2V9XyR7ZS5wdWJsaWNhdGlvbi50cmFja1NpZH1gO1xyXG4gIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgZ2VuZXJhdGUgYSBpZCBmb3IgdGhlIGdpdmVuIHRyYWNrIHJlZmVyZW5jZTogJHtlfWApO1xyXG59XHJcbmZ1bmN0aW9uIERvKGUsIHQpIHtcclxuICByZXR1cm4gZSA9PT0gdm9pZCAwIHx8IHQgPT09IHZvaWQgMCA/ICExIDogaihlKSAmJiBqKHQpID8gZS5wdWJsaWNhdGlvbi50cmFja1NpZCA9PT0gdC5wdWJsaWNhdGlvbi50cmFja1NpZCA6IE4oZSkgPT09IE4odCk7XHJcbn1cclxuZnVuY3Rpb24gJG8oZSwgdCkge1xyXG4gIHJldHVybiB0eXBlb2YgdCA+IFwidVwiID8gITEgOiBqKGUpID8gdC5zb21lKFxyXG4gICAgKG4pID0+IG4ucGFydGljaXBhbnQuaWRlbnRpdHkgPT09IGUucGFydGljaXBhbnQuaWRlbnRpdHkgJiYgaihuKSAmJiBuLnB1YmxpY2F0aW9uLnRyYWNrU2lkID09PSBlLnB1YmxpY2F0aW9uLnRyYWNrU2lkXHJcbiAgKSA6IFBlKGUpID8gdC5zb21lKFxyXG4gICAgKG4pID0+IG4ucGFydGljaXBhbnQuaWRlbnRpdHkgPT09IGUucGFydGljaXBhbnQuaWRlbnRpdHkgJiYgUGUobikgJiYgbi5zb3VyY2UgPT09IGUuc291cmNlXHJcbiAgKSA6ICExO1xyXG59XHJcbmZ1bmN0aW9uIGppKGUsIHQpIHtcclxuICByZXR1cm4gUGUoZSkgJiYgaih0KSAmJiB0LnBhcnRpY2lwYW50LmlkZW50aXR5ID09PSBlLnBhcnRpY2lwYW50LmlkZW50aXR5ICYmIHQuc291cmNlID09PSBlLnNvdXJjZTtcclxufVxyXG5mdW5jdGlvbiBObygpIHtcclxuICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgZS5zdHlsZS53aWR0aCA9IFwiMTAwJVwiLCBlLnN0eWxlLmhlaWdodCA9IFwiMjAwcHhcIjtcclxuICBjb25zdCB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICB0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiLCB0LnN0eWxlLnRvcCA9IFwiMHB4XCIsIHQuc3R5bGUubGVmdCA9IFwiMHB4XCIsIHQuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCIsIHQuc3R5bGUud2lkdGggPSBcIjIwMHB4XCIsIHQuc3R5bGUuaGVpZ2h0ID0gXCIxNTBweFwiLCB0LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIiwgdC5hcHBlbmRDaGlsZChlKSwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTtcclxuICBjb25zdCBuID0gZS5vZmZzZXRXaWR0aDtcclxuICB0LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcclxuICBsZXQgciA9IGUub2Zmc2V0V2lkdGg7XHJcbiAgcmV0dXJuIG4gPT09IHIgJiYgKHIgPSB0LmNsaWVudFdpZHRoKSwgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KSwgbiAtIHI7XHJcbn1cclxuZnVuY3Rpb24gRm8oKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBkb2N1bWVudCA8IFwidVwiO1xyXG59XHJcbmZ1bmN0aW9uIFdpKGUpIHtcclxuICBlID0gWCh7fSwgZSk7XHJcbiAgY29uc3QgdCA9IFwiKD86KD86W2Etel0rOik/Ly8pP1wiLCBuID0gXCIoPzpcXFxcUysoPzo6XFxcXFMqKT9AKT9cIiwgciA9IG5ldyBSZWdFeHAoXHJcbiAgICBcIig/OjI1WzAtNV18MlswLTRdXFxcXGR8MVxcXFxkXFxcXGR8WzEtOV1cXFxcZHxcXFxcZCkoPzpcXFxcLig/OjI1WzAtNV18MlswLTRdXFxcXGR8MVxcXFxkXFxcXGR8WzEtOV1cXFxcZHxcXFxcZCkpezN9XCIsXHJcbiAgICBcImdcIlxyXG4gICkuc291cmNlLCB1ID0gYCg/OiR7dH18d3d3XFxcXC4pJHtufSg/OmxvY2FsaG9zdHwke3J9fCg/Oig/OlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XVstX10qKSpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rKSg/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmYwLTldLSopKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKig/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmZdezIsfSkpXFxcXC4/KSg/OjpcXFxcZHsyLDV9KT8oPzpbLz8jXVteXFxcXHNcIl0qKT9gO1xyXG4gIHJldHVybiBlLmV4YWN0ID8gbmV3IFJlZ0V4cChgKD86XiR7dX0kKWAsIFwiaVwiKSA6IG5ldyBSZWdFeHAodSwgXCJpZ1wiKTtcclxufVxyXG52YXIganQgPSBcIlteXFxcXC5cXFxcc0A6XSg/OlteXFxcXHNAOl0qW15cXFxcc0A6XFxcXC5dKT9AW15cXFxcLlxcXFxzQF0rKD86XFxcXC5bXlxcXFwuXFxcXHNAXSspKlwiO1xyXG5mdW5jdGlvbiBCaSh7IGV4YWN0OiBlIH0gPSB7fSkge1xyXG4gIHJldHVybiBlID8gbmV3IFJlZ0V4cChgXiR7anR9JGApIDogbmV3IFJlZ0V4cChqdCwgXCJnXCIpO1xyXG59XHJcbmZ1bmN0aW9uIFVvKGUsIHQsIG4pIHtcclxuICByZXR1cm4gU3IoZSwgdCwgKCkgPT4gVih0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xyXG4gICAgY29uc3QgeyB4OiBpLCB5OiBvIH0gPSB5aWVsZCBQcihlLCB0LCB7XHJcbiAgICAgIHBsYWNlbWVudDogXCJ0b3BcIixcclxuICAgICAgbWlkZGxld2FyZTogW1RyKDYpLCBDcigpLCBFcih7IHBhZGRpbmc6IDUgfSldXHJcbiAgICB9KTtcclxuICAgIG4gPT0gbnVsbCB8fCBuKGksIG8pO1xyXG4gIH0pKTtcclxufVxyXG5mdW5jdGlvbiBqbyhlLCB0KSB7XHJcbiAgcmV0dXJuICFlLmNvbnRhaW5zKHQudGFyZ2V0KTtcclxufVxyXG52YXIgV28gPSAoKSA9PiAoe1xyXG4gIGVtYWlsOiBCaSgpLFxyXG4gIHVybDogV2koe30pXHJcbn0pO1xyXG5mdW5jdGlvbiBCbyhlLCB0KSB7XHJcbiAgY29uc3QgbiA9IE9iamVjdC5lbnRyaWVzKHQpLm1hcChcclxuICAgIChbbywgc10sIGEpID0+IEFycmF5LmZyb20oZS5tYXRjaEFsbChzKSkubWFwKCh7IGluZGV4OiBjLCAwOiB1IH0pID0+ICh7XHJcbiAgICAgIHR5cGU6IG8sXHJcbiAgICAgIHdlaWdodDogYSxcclxuICAgICAgY29udGVudDogdSxcclxuICAgICAgaW5kZXg6IGMgPz8gMFxyXG4gICAgfSkpXHJcbiAgKS5mbGF0KCkuc29ydCgobywgcykgPT4ge1xyXG4gICAgY29uc3QgYSA9IG8uaW5kZXggLSBzLmluZGV4O1xyXG4gICAgcmV0dXJuIGEgIT09IDAgPyBhIDogby53ZWlnaHQgLSBzLndlaWdodDtcclxuICB9KS5maWx0ZXIoKHsgaW5kZXg6IG8gfSwgcywgYSkgPT4ge1xyXG4gICAgaWYgKHMgPT09IDApIHJldHVybiAhMDtcclxuICAgIGNvbnN0IGMgPSBhW3MgLSAxXTtcclxuICAgIHJldHVybiBjLmluZGV4ICsgYy5jb250ZW50Lmxlbmd0aCA8PSBvO1xyXG4gIH0pLCByID0gW107XHJcbiAgbGV0IGkgPSAwO1xyXG4gIGZvciAoY29uc3QgeyB0eXBlOiBvLCBjb250ZW50OiBzLCBpbmRleDogYSB9IG9mIG4pXHJcbiAgICBhID4gaSAmJiByLnB1c2goZS5zdWJzdHJpbmcoaSwgYSkpLCByLnB1c2goeyB0eXBlOiBvLCBjb250ZW50OiBzIH0pLCBpID0gYSArIHMubGVuZ3RoO1xyXG4gIHJldHVybiBlLmxlbmd0aCA+IGkgJiYgci5wdXNoKGUuc3Vic3RyaW5nKGkpKSwgcjtcclxufVxyXG52YXIgVmkgPSBbXHJcbiAgeS5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkLFxyXG4gIHkuUm9vbU1ldGFkYXRhQ2hhbmdlZCxcclxuICB5LkFjdGl2ZVNwZWFrZXJzQ2hhbmdlZCxcclxuICB5LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcclxuICB5LlBhcnRpY2lwYW50Q29ubmVjdGVkLFxyXG4gIHkuUGFydGljaXBhbnREaXNjb25uZWN0ZWQsXHJcbiAgeS5QYXJ0aWNpcGFudFBlcm1pc3Npb25zQ2hhbmdlZCxcclxuICB5LlBhcnRpY2lwYW50TWV0YWRhdGFDaGFuZ2VkLFxyXG4gIHkuUGFydGljaXBhbnROYW1lQ2hhbmdlZCxcclxuICB5LlBhcnRpY2lwYW50QXR0cmlidXRlc0NoYW5nZWQsXHJcbiAgeS5UcmFja011dGVkLFxyXG4gIHkuVHJhY2tVbm11dGVkLFxyXG4gIHkuVHJhY2tQdWJsaXNoZWQsXHJcbiAgeS5UcmFja1VucHVibGlzaGVkLFxyXG4gIHkuVHJhY2tTdHJlYW1TdGF0ZUNoYW5nZWQsXHJcbiAgeS5UcmFja1N1YnNjcmlwdGlvbkZhaWxlZCxcclxuICB5LlRyYWNrU3Vic2NyaXB0aW9uUGVybWlzc2lvbkNoYW5nZWQsXHJcbiAgeS5UcmFja1N1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWRcclxuXSwgQ24gPSBbXHJcbiAgLi4uVmksXHJcbiAgeS5Mb2NhbFRyYWNrUHVibGlzaGVkLFxyXG4gIHkuTG9jYWxUcmFja1VucHVibGlzaGVkXHJcbl0sIEhpID0gW1xyXG4gIHcuVHJhY2tQdWJsaXNoZWQsXHJcbiAgdy5UcmFja1VucHVibGlzaGVkLFxyXG4gIHcuVHJhY2tNdXRlZCxcclxuICB3LlRyYWNrVW5tdXRlZCxcclxuICB3LlRyYWNrU3RyZWFtU3RhdGVDaGFuZ2VkLFxyXG4gIHcuVHJhY2tTdWJzY3JpYmVkLFxyXG4gIHcuVHJhY2tVbnN1YnNjcmliZWQsXHJcbiAgdy5UcmFja1N1YnNjcmlwdGlvblBlcm1pc3Npb25DaGFuZ2VkLFxyXG4gIHcuVHJhY2tTdWJzY3JpcHRpb25GYWlsZWQsXHJcbiAgdy5Mb2NhbFRyYWNrUHVibGlzaGVkLFxyXG4gIHcuTG9jYWxUcmFja1VucHVibGlzaGVkXHJcbl0sIHppID0gW1xyXG4gIHcuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkLFxyXG4gIHcuSXNTcGVha2luZ0NoYW5nZWQsXHJcbiAgdy5QYXJ0aWNpcGFudE1ldGFkYXRhQ2hhbmdlZCxcclxuICB3LlBhcnRpY2lwYW50UGVybWlzc2lvbnNDaGFuZ2VkLFxyXG4gIHcuVHJhY2tNdXRlZCxcclxuICB3LlRyYWNrVW5tdXRlZCxcclxuICB3LlRyYWNrUHVibGlzaGVkLFxyXG4gIHcuVHJhY2tVbnB1Ymxpc2hlZCxcclxuICB3LlRyYWNrU3RyZWFtU3RhdGVDaGFuZ2VkLFxyXG4gIHcuVHJhY2tTdWJzY3JpcHRpb25GYWlsZWQsXHJcbiAgdy5UcmFja1N1YnNjcmlwdGlvblBlcm1pc3Npb25DaGFuZ2VkLFxyXG4gIHcuVHJhY2tTdWJzY3JpcHRpb25TdGF0dXNDaGFuZ2VkXHJcbl0sIFBuID0gW1xyXG4gIC4uLnppLFxyXG4gIHcuTG9jYWxUcmFja1B1Ymxpc2hlZCxcclxuICB3LkxvY2FsVHJhY2tVbnB1Ymxpc2hlZFxyXG5dLCBfID0gX3IuZ2V0TG9nZ2VyKFwibGstY29tcG9uZW50cy1qc1wiKTtcclxuXy5zZXREZWZhdWx0TGV2ZWwoXCJXQVJOXCIpO1xyXG5mdW5jdGlvbiBWbyhlLCB0ID0ge30pIHtcclxuICB2YXIgbjtcclxuICBfLnNldExldmVsKGUpLCBWbigobiA9IHQubGl2ZUtpdENsaWVudExvZ0xldmVsKSAhPSBudWxsID8gbiA6IGUpO1xyXG59XHJcbmZ1bmN0aW9uIEhvKGUsIHQgPSB7fSkge1xyXG4gIHZhciBuO1xyXG4gIGNvbnN0IHIgPSBfLm1ldGhvZEZhY3Rvcnk7XHJcbiAgXy5tZXRob2RGYWN0b3J5ID0gKGksIG8sIHMpID0+IHtcclxuICAgIGNvbnN0IGEgPSByKGksIG8sIHMpLCBjID0gU3RbaV0sIHUgPSBjID49IG8gJiYgYyA8IFN0LnNpbGVudDtcclxuICAgIHJldHVybiAobCwgZikgPT4ge1xyXG4gICAgICBmID8gYShsLCBmKSA6IGEobCksIHUgJiYgZShjLCBsLCBmKTtcclxuICAgIH07XHJcbiAgfSwgXy5zZXRMZXZlbChfLmdldExldmVsKCkpLCBIbigobiA9IHQubGl2ZUtpdENsaWVudExvZ0V4dGVuc2lvbikgIT0gbnVsbCA/IG4gOiBlKTtcclxufVxyXG52YXIgem8gPSBbXHJcbiAge1xyXG4gICAgY29sdW1uczogMSxcclxuICAgIHJvd3M6IDFcclxuICB9LFxyXG4gIHtcclxuICAgIGNvbHVtbnM6IDEsXHJcbiAgICByb3dzOiAyLFxyXG4gICAgb3JpZW50YXRpb246IFwicG9ydHJhaXRcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgY29sdW1uczogMixcclxuICAgIHJvd3M6IDEsXHJcbiAgICBvcmllbnRhdGlvbjogXCJsYW5kc2NhcGVcIlxyXG4gIH0sXHJcbiAge1xyXG4gICAgY29sdW1uczogMixcclxuICAgIHJvd3M6IDIsXHJcbiAgICBtaW5XaWR0aDogNTYwXHJcbiAgfSxcclxuICB7XHJcbiAgICBjb2x1bW5zOiAzLFxyXG4gICAgcm93czogMyxcclxuICAgIG1pbldpZHRoOiA3MDBcclxuICB9LFxyXG4gIHtcclxuICAgIGNvbHVtbnM6IDQsXHJcbiAgICByb3dzOiA0LFxyXG4gICAgbWluV2lkdGg6IDk2MFxyXG4gIH0sXHJcbiAge1xyXG4gICAgY29sdW1uczogNSxcclxuICAgIHJvd3M6IDUsXHJcbiAgICBtaW5XaWR0aDogMTEwMFxyXG4gIH1cclxuXTtcclxuZnVuY3Rpb24gWWkoZSwgdCwgbiwgcikge1xyXG4gIGlmIChlLmxlbmd0aCA8IDEpXHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdCBsZWFzdCBvbmUgZ3JpZCBsYXlvdXQgZGVmaW5pdGlvbiBtdXN0IGJlIHByb3ZpZGVkLlwiKTtcclxuICBjb25zdCBpID0gcWkoZSk7XHJcbiAgaWYgKG4gPD0gMCB8fCByIDw9IDApXHJcbiAgICByZXR1cm4gaVswXTtcclxuICBsZXQgbyA9IDA7XHJcbiAgY29uc3QgcyA9IG4gLyByID4gMSA/IFwibGFuZHNjYXBlXCIgOiBcInBvcnRyYWl0XCI7XHJcbiAgbGV0IGEgPSBpLmZpbmQoKGMsIHUsIGwpID0+IHtcclxuICAgIG8gPSB1O1xyXG4gICAgY29uc3QgZiA9IGwuZmluZEluZGV4KCh2LCBkKSA9PiB7XHJcbiAgICAgIGNvbnN0IG0gPSAhdi5vcmllbnRhdGlvbiB8fCB2Lm9yaWVudGF0aW9uID09PSBzLCBwID0gZCA+IHUsIGcgPSB2Lm1heFRpbGVzID09PSBjLm1heFRpbGVzO1xyXG4gICAgICByZXR1cm4gcCAmJiBnICYmIG07XHJcbiAgICB9KSAhPT0gLTE7XHJcbiAgICByZXR1cm4gYy5tYXhUaWxlcyA+PSB0ICYmICFmO1xyXG4gIH0pO1xyXG4gIGlmIChhID09PSB2b2lkIDApXHJcbiAgICBpZiAoYSA9IGlbaS5sZW5ndGggLSAxXSwgYSlcclxuICAgICAgXy53YXJuKFxyXG4gICAgICAgIGBObyBsYXlvdXQgZm91bmQgZm9yOiBwYXJ0aWNpcGFudENvdW50OiAke3R9LCB3aWR0aC9oZWlnaHQ6ICR7bn0vJHtyfSBmYWxsYmFjayB0byBiaWdnZXN0IGF2YWlsYWJsZSBsYXlvdXQgKCR7YX0pLmBcclxuICAgICAgKTtcclxuICAgIGVsc2VcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gbGF5b3V0IG9yIGZhbGxiYWNrIGxheW91dCBmb3VuZC5cIik7XHJcbiAgaWYgKChuIDwgYS5taW5XaWR0aCB8fCByIDwgYS5taW5IZWlnaHQpICYmIG8gPiAwKSB7XHJcbiAgICBjb25zdCBjID0gaVtvIC0gMV07XHJcbiAgICBhID0gWWkoXHJcbiAgICAgIGkuc2xpY2UoMCwgbyksXHJcbiAgICAgIGMubWF4VGlsZXMsXHJcbiAgICAgIG4sXHJcbiAgICAgIHJcclxuICAgICk7XHJcbiAgfVxyXG4gIHJldHVybiBhO1xyXG59XHJcbmZ1bmN0aW9uIHFpKGUpIHtcclxuICByZXR1cm4gWy4uLmVdLm1hcCgodCkgPT4ge1xyXG4gICAgdmFyIG4sIHI7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiBgJHt0LmNvbHVtbnN9eCR7dC5yb3dzfWAsXHJcbiAgICAgIGNvbHVtbnM6IHQuY29sdW1ucyxcclxuICAgICAgcm93czogdC5yb3dzLFxyXG4gICAgICBtYXhUaWxlczogdC5jb2x1bW5zICogdC5yb3dzLFxyXG4gICAgICBtaW5XaWR0aDogKG4gPSB0Lm1pbldpZHRoKSAhPSBudWxsID8gbiA6IDAsXHJcbiAgICAgIG1pbkhlaWdodDogKHIgPSB0Lm1pbkhlaWdodCkgIT0gbnVsbCA/IHIgOiAwLFxyXG4gICAgICBvcmllbnRhdGlvbjogdC5vcmllbnRhdGlvblxyXG4gICAgfTtcclxuICB9KS5zb3J0KCh0LCBuKSA9PiB0Lm1heFRpbGVzICE9PSBuLm1heFRpbGVzID8gdC5tYXhUaWxlcyAtIG4ubWF4VGlsZXMgOiB0Lm1pbldpZHRoICE9PSAwIHx8IG4ubWluV2lkdGggIT09IDAgPyB0Lm1pbldpZHRoIC0gbi5taW5XaWR0aCA6IHQubWluSGVpZ2h0ICE9PSAwIHx8IG4ubWluSGVpZ2h0ICE9PSAwID8gdC5taW5IZWlnaHQgLSBuLm1pbkhlaWdodCA6IDApO1xyXG59XHJcbmZ1bmN0aW9uIFlvKCkge1xyXG4gIHJldHVybiB0eXBlb2YgbmF2aWdhdG9yIDwgXCJ1XCIgJiYgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJiAhIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhO1xyXG59XHJcbmZ1bmN0aW9uIHFvKGUsIHQpIHtcclxuICB2YXIgbjtcclxuICByZXR1cm4gVGUoWCh7fSwgZSksIHtcclxuICAgIHJlY2VpdmVkQXRNZWRpYVRpbWVzdGFtcDogKG4gPSB0LnJ0cFRpbWVzdGFtcCkgIT0gbnVsbCA/IG4gOiAwLFxyXG4gICAgcmVjZWl2ZWRBdDogdC50aW1lc3RhbXBcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBLbyhlLCB0LCBuKSB7XHJcbiAgcmV0dXJuIFsuLi5lLCAuLi50XS5yZWR1Y2VSaWdodCgociwgaSkgPT4gKHIuZmluZCgobykgPT4gby5pZCA9PT0gaS5pZCkgfHwgci51bnNoaWZ0KGkpLCByKSwgW10pLnNsaWNlKDAgLSBuKTtcclxufVxyXG52YXIgQW4gPSBbXSwgT24gPSB7XHJcbiAgc2hvd0NoYXQ6ICExLFxyXG4gIHVucmVhZE1lc3NhZ2VzOiAwLFxyXG4gIHNob3dTZXR0aW5nczogITFcclxufTtcclxuZnVuY3Rpb24gS2koZSkge1xyXG4gIHJldHVybiB0eXBlb2YgZSA9PSBcIm9iamVjdFwiO1xyXG59XHJcbmZ1bmN0aW9uIEdvKGUpIHtcclxuICByZXR1cm4gQXJyYXkuaXNBcnJheShlKSAmJiBlLmZpbHRlcihLaSkubGVuZ3RoID4gMDtcclxufVxyXG5mdW5jdGlvbiBrbihlLCB0KSB7XHJcbiAgcmV0dXJuIHQuYXVkaW9MZXZlbCAtIGUuYXVkaW9MZXZlbDtcclxufVxyXG5mdW5jdGlvbiBMbihlLCB0KSB7XHJcbiAgcmV0dXJuIGUuaXNTcGVha2luZyA9PT0gdC5pc1NwZWFraW5nID8gMCA6IGUuaXNTcGVha2luZyA/IC0xIDogMTtcclxufVxyXG5mdW5jdGlvbiBfbihlLCB0KSB7XHJcbiAgdmFyIG4sIHIsIGksIG87XHJcbiAgcmV0dXJuIGUubGFzdFNwb2tlQXQgIT09IHZvaWQgMCB8fCB0Lmxhc3RTcG9rZUF0ICE9PSB2b2lkIDAgPyAoKHIgPSAobiA9IHQubGFzdFNwb2tlQXQpID09IG51bGwgPyB2b2lkIDAgOiBuLmdldFRpbWUoKSkgIT0gbnVsbCA/IHIgOiAwKSAtICgobyA9IChpID0gZS5sYXN0U3Bva2VBdCkgPT0gbnVsbCA/IHZvaWQgMCA6IGkuZ2V0VGltZSgpKSAhPSBudWxsID8gbyA6IDApIDogMDtcclxufVxyXG5mdW5jdGlvbiBCZShlLCB0KSB7XHJcbiAgdmFyIG4sIHIsIGksIG87XHJcbiAgcmV0dXJuICgociA9IChuID0gZS5qb2luZWRBdCkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uZ2V0VGltZSgpKSAhPSBudWxsID8gciA6IDApIC0gKChvID0gKGkgPSB0LmpvaW5lZEF0KSA9PSBudWxsID8gdm9pZCAwIDogaS5nZXRUaW1lKCkpICE9IG51bGwgPyBvIDogMCk7XHJcbn1cclxuZnVuY3Rpb24gR2koZSwgdCkge1xyXG4gIHJldHVybiBqKGUpID8gaih0KSA/IDAgOiAtMSA6IGoodCkgPyAxIDogMDtcclxufVxyXG5mdW5jdGlvbiBRaShlLCB0KSB7XHJcbiAgY29uc3QgbiA9IGUucGFydGljaXBhbnQuaXNDYW1lcmFFbmFibGVkLCByID0gdC5wYXJ0aWNpcGFudC5pc0NhbWVyYUVuYWJsZWQ7XHJcbiAgcmV0dXJuIG4gIT09IHIgPyBuID8gLTEgOiAxIDogMDtcclxufVxyXG5mdW5jdGlvbiBRbyhlKSB7XHJcbiAgY29uc3QgdCA9IFtdLCBuID0gW10sIHIgPSBbXSwgaSA9IFtdO1xyXG4gIGUuZm9yRWFjaCgoYSkgPT4ge1xyXG4gICAgYS5wYXJ0aWNpcGFudC5pc0xvY2FsICYmIGEuc291cmNlID09PSBNLlNvdXJjZS5DYW1lcmEgPyB0LnB1c2goYSkgOiBhLnNvdXJjZSA9PT0gTS5Tb3VyY2UuU2NyZWVuU2hhcmUgPyBuLnB1c2goYSkgOiBhLnNvdXJjZSA9PT0gTS5Tb3VyY2UuQ2FtZXJhID8gci5wdXNoKGEpIDogaS5wdXNoKGEpO1xyXG4gIH0pO1xyXG4gIGNvbnN0IG8gPSBKaShuKSwgcyA9IFhpKHIpO1xyXG4gIHJldHVybiBbLi4udCwgLi4ubywgLi4ucywgLi4uaV07XHJcbn1cclxuZnVuY3Rpb24gSmkoZSkge1xyXG4gIGNvbnN0IHQgPSBbXSwgbiA9IFtdO1xyXG4gIHJldHVybiBlLmZvckVhY2goKGkpID0+IHtcclxuICAgIGkucGFydGljaXBhbnQuaXNMb2NhbCA/IHQucHVzaChpKSA6IG4ucHVzaChpKTtcclxuICB9KSwgdC5zb3J0KChpLCBvKSA9PiBCZShpLnBhcnRpY2lwYW50LCBvLnBhcnRpY2lwYW50KSksIG4uc29ydCgoaSwgbykgPT4gQmUoaS5wYXJ0aWNpcGFudCwgby5wYXJ0aWNpcGFudCkpLCBbLi4ubiwgLi4udF07XHJcbn1cclxuZnVuY3Rpb24gWGkoZSkge1xyXG4gIGNvbnN0IHQgPSBbXSwgbiA9IFtdO1xyXG4gIHJldHVybiBlLmZvckVhY2goKHIpID0+IHtcclxuICAgIHIucGFydGljaXBhbnQuaXNMb2NhbCA/IHQucHVzaChyKSA6IG4ucHVzaChyKTtcclxuICB9KSwgbi5zb3J0KChyLCBpKSA9PiByLnBhcnRpY2lwYW50LmlzU3BlYWtpbmcgJiYgaS5wYXJ0aWNpcGFudC5pc1NwZWFraW5nID8ga24oci5wYXJ0aWNpcGFudCwgaS5wYXJ0aWNpcGFudCkgOiByLnBhcnRpY2lwYW50LmlzU3BlYWtpbmcgIT09IGkucGFydGljaXBhbnQuaXNTcGVha2luZyA/IExuKHIucGFydGljaXBhbnQsIGkucGFydGljaXBhbnQpIDogci5wYXJ0aWNpcGFudC5sYXN0U3Bva2VBdCAhPT0gaS5wYXJ0aWNpcGFudC5sYXN0U3Bva2VBdCA/IF9uKHIucGFydGljaXBhbnQsIGkucGFydGljaXBhbnQpIDogaihyKSAhPT0gaihpKSA/IEdpKHIsIGkpIDogci5wYXJ0aWNpcGFudC5pc0NhbWVyYUVuYWJsZWQgIT09IGkucGFydGljaXBhbnQuaXNDYW1lcmFFbmFibGVkID8gUWkociwgaSkgOiBCZShyLnBhcnRpY2lwYW50LCBpLnBhcnRpY2lwYW50KSksIFsuLi50LCAuLi5uXTtcclxufVxyXG5mdW5jdGlvbiBKbyhlKSB7XHJcbiAgY29uc3QgdCA9IFsuLi5lXTtcclxuICB0LnNvcnQoKHIsIGkpID0+IHtcclxuICAgIGlmIChyLmlzU3BlYWtpbmcgJiYgaS5pc1NwZWFraW5nKVxyXG4gICAgICByZXR1cm4ga24ociwgaSk7XHJcbiAgICBpZiAoci5pc1NwZWFraW5nICE9PSBpLmlzU3BlYWtpbmcpXHJcbiAgICAgIHJldHVybiBMbihyLCBpKTtcclxuICAgIGlmIChyLmxhc3RTcG9rZUF0ICE9PSBpLmxhc3RTcG9rZUF0KVxyXG4gICAgICByZXR1cm4gX24ociwgaSk7XHJcbiAgICBjb25zdCBvID0gci52aWRlb1RyYWNrUHVibGljYXRpb25zLnNpemUgPiAwLCBzID0gaS52aWRlb1RyYWNrUHVibGljYXRpb25zLnNpemUgPiAwO1xyXG4gICAgcmV0dXJuIG8gIT09IHMgPyBvID8gLTEgOiAxIDogQmUociwgaSk7XHJcbiAgfSk7XHJcbiAgY29uc3QgbiA9IHQuZmluZCgocikgPT4gci5pc0xvY2FsKTtcclxuICBpZiAobikge1xyXG4gICAgY29uc3QgciA9IHQuaW5kZXhPZihuKTtcclxuICAgIHIgPj0gMCAmJiAodC5zcGxpY2UociwgMSksIHQubGVuZ3RoID4gMCA/IHQuc3BsaWNlKDAsIDAsIG4pIDogdC5wdXNoKG4pKTtcclxuICB9XHJcbiAgcmV0dXJuIHQ7XHJcbn1cclxuZnVuY3Rpb24gWmkoZSwgdCkge1xyXG4gIHJldHVybiBlLnJlZHVjZShcclxuICAgIChuLCByLCBpKSA9PiBpICUgdCA9PT0gMCA/IFsuLi5uLCBbcl1dIDogWy4uLm4uc2xpY2UoMCwgLTEpLCBbLi4ubi5zbGljZSgtMSlbMF0sIHJdXSxcclxuICAgIFtdXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiBXdChlLCB0KSB7XHJcbiAgY29uc3QgbiA9IE1hdGgubWF4KGUubGVuZ3RoLCB0Lmxlbmd0aCk7XHJcbiAgcmV0dXJuIG5ldyBBcnJheShuKS5maWxsKFtdKS5tYXAoKHIsIGkpID0+IFtlW2ldLCB0W2ldXSk7XHJcbn1cclxuZnVuY3Rpb24gVmUoZSwgdCwgbikge1xyXG4gIHJldHVybiBlLmZpbHRlcigocikgPT4gIXQubWFwKChpKSA9PiBuKGkpKS5pbmNsdWRlcyhuKHIpKSk7XHJcbn1cclxuZnVuY3Rpb24gdXQoZSkge1xyXG4gIHJldHVybiBlLm1hcCgodCkgPT4gdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdCA9PSBcIm51bWJlclwiID8gYCR7dH1gIDogTih0KSk7XHJcbn1cclxuZnVuY3Rpb24gZW8oZSwgdCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBkcm9wcGVkOiBWZShlLCB0LCBOKSxcclxuICAgIGFkZGVkOiBWZSh0LCBlLCBOKVxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gdG8oZSkge1xyXG4gIHJldHVybiBlLmFkZGVkLmxlbmd0aCAhPT0gMCB8fCBlLmRyb3BwZWQubGVuZ3RoICE9PSAwO1xyXG59XHJcbmZ1bmN0aW9uIGx0KGUsIHQpIHtcclxuICBjb25zdCBuID0gdC5maW5kSW5kZXgoXHJcbiAgICAocikgPT4gTihyKSA9PT0gTihlKVxyXG4gICk7XHJcbiAgaWYgKG4gPT09IC0xKVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBgRWxlbWVudCBub3QgcGFydCBvZiB0aGUgYXJyYXk6ICR7TihcclxuICAgICAgICBlXHJcbiAgICAgICl9IG5vdCBpbiAke3V0KHQpfWBcclxuICAgICk7XHJcbiAgcmV0dXJuIG47XHJcbn1cclxuZnVuY3Rpb24gbm8oZSwgdCwgbikge1xyXG4gIGNvbnN0IHIgPSBsdChlLCBuKSwgaSA9IGx0KHQsIG4pO1xyXG4gIHJldHVybiBuLnNwbGljZShyLCAxLCB0KSwgbi5zcGxpY2UoaSwgMSwgZSksIG47XHJcbn1cclxuZnVuY3Rpb24gcm8oZSwgdCkge1xyXG4gIGNvbnN0IG4gPSBsdChlLCB0KTtcclxuICByZXR1cm4gdC5zcGxpY2UobiwgMSksIHQ7XHJcbn1cclxuZnVuY3Rpb24gaW8oZSwgdCkge1xyXG4gIHJldHVybiBbLi4udCwgZV07XHJcbn1cclxuZnVuY3Rpb24gdHQoZSwgdCkge1xyXG4gIHJldHVybiBaaShlLCB0KTtcclxufVxyXG5mdW5jdGlvbiBYbyhlLCB0LCBuKSB7XHJcbiAgbGV0IHIgPSBvbyhlLCB0KTtcclxuICBpZiAoci5sZW5ndGggPCB0Lmxlbmd0aCkge1xyXG4gICAgY29uc3QgcyA9IFZlKHQsIHIsIE4pO1xyXG4gICAgciA9IFsuLi5yLCAuLi5zXTtcclxuICB9XHJcbiAgY29uc3QgaSA9IHR0KHIsIG4pLCBvID0gdHQodCwgbik7XHJcbiAgaWYgKFd0KGksIG8pLmZvckVhY2goKFtzLCBhXSwgYykgPT4ge1xyXG4gICAgaWYgKHMgJiYgYSkge1xyXG4gICAgICBjb25zdCB1ID0gdHQociwgbilbY10sIGwgPSBlbyh1LCBhKTtcclxuICAgICAgdG8obCkgJiYgKF8uZGVidWcoXHJcbiAgICAgICAgYERldGVjdGVkIHZpc3VhbCBjaGFuZ2VzIG9uIHBhZ2U6ICR7Y30sIGN1cnJlbnQ6ICR7dXQoXHJcbiAgICAgICAgICBzXHJcbiAgICAgICAgKX0sIG5leHQ6ICR7dXQoYSl9YCxcclxuICAgICAgICB7IGNoYW5nZXM6IGwgfVxyXG4gICAgICApLCBsLmFkZGVkLmxlbmd0aCA9PT0gbC5kcm9wcGVkLmxlbmd0aCAmJiBXdChsLmFkZGVkLCBsLmRyb3BwZWQpLmZvckVhY2goKFtmLCB2XSkgPT4ge1xyXG4gICAgICAgIGlmIChmICYmIHYpXHJcbiAgICAgICAgICByID0gbm8oZiwgdiwgcik7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgICBgRm9yIGEgc3dhcCBhY3Rpb24gd2UgbmVlZCBhIGFkZGl0aW9uIGFuZCBhIHJlbW92YWwgb25lIGlzIG1pc3Npbmc6ICR7Zn0sICR7dn1gXHJcbiAgICAgICAgICApO1xyXG4gICAgICB9KSwgbC5hZGRlZC5sZW5ndGggPT09IDAgJiYgbC5kcm9wcGVkLmxlbmd0aCA+IDAgJiYgbC5kcm9wcGVkLmZvckVhY2goKGYpID0+IHtcclxuICAgICAgICByID0gcm8oZiwgcik7XHJcbiAgICAgIH0pLCBsLmFkZGVkLmxlbmd0aCA+IDAgJiYgbC5kcm9wcGVkLmxlbmd0aCA9PT0gMCAmJiBsLmFkZGVkLmZvckVhY2goKGYpID0+IHtcclxuICAgICAgICByID0gaW8oZiwgcik7XHJcbiAgICAgIH0pKTtcclxuICAgIH1cclxuICB9KSwgci5sZW5ndGggPiB0Lmxlbmd0aCkge1xyXG4gICAgY29uc3QgcyA9IFZlKHIsIHQsIE4pO1xyXG4gICAgciA9IHIuZmlsdGVyKFxyXG4gICAgICAoYSkgPT4gIXMubWFwKE4pLmluY2x1ZGVzKE4oYSkpXHJcbiAgICApO1xyXG4gIH1cclxuICByZXR1cm4gcjtcclxufVxyXG5mdW5jdGlvbiBvbyhlLCB0KSB7XHJcbiAgcmV0dXJuIGUubWFwKChuKSA9PiB7XHJcbiAgICBjb25zdCByID0gdC5maW5kKFxyXG4gICAgICAoaSkgPT4gKFxyXG4gICAgICAgIC8vIElmIHRoZSBJRHMgbWF0Y2ggb3IgLi5cclxuICAgICAgICBOKG4pID09PSBOKGkpIHx8IC8vIC4uLiBpZiB0aGUgY3VycmVudCBpdGVtIGlzIGEgcGxhY2Vob2xkZXIgYW5kIHRoZSBuZXcgaXRlbSBpcyB0aGUgdHJhY2sgcmVmZXJlbmNlIGNhbiByZXBsYWNlIGl0LlxyXG4gICAgICAgIHR5cGVvZiBuICE9IFwibnVtYmVyXCIgJiYgUGUobikgJiYgaihpKSAmJiBqaShuLCBpKVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHIgPz8gbjtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBGKGUpIHtcclxuICByZXR1cm4gYCR7RW59LSR7ZX1gO1xyXG59XHJcbmZ1bmN0aW9uIFpvKGUpIHtcclxuICBjb25zdCB0ID0gQnQoZSksIG4gPSBJbihlLnBhcnRpY2lwYW50KS5waXBlKFxyXG4gICAgTygoKSA9PiBCdChlKSksXHJcbiAgICBEKHQpXHJcbiAgKTtcclxuICByZXR1cm4geyBjbGFzc05hbWU6IEYoXHJcbiAgICBlLnNvdXJjZSA9PT0gTS5Tb3VyY2UuQ2FtZXJhIHx8IGUuc291cmNlID09PSBNLlNvdXJjZS5TY3JlZW5TaGFyZSA/IFwicGFydGljaXBhbnQtbWVkaWEtdmlkZW9cIiA6IFwicGFydGljaXBhbnQtbWVkaWEtYXVkaW9cIlxyXG4gICksIHRyYWNrT2JzZXJ2ZXI6IG4gfTtcclxufVxyXG5mdW5jdGlvbiBCdChlKSB7XHJcbiAgaWYgKGooZSkpXHJcbiAgICByZXR1cm4gZS5wdWJsaWNhdGlvbjtcclxuICB7XHJcbiAgICBjb25zdCB7IHNvdXJjZTogdCwgbmFtZTogbiwgcGFydGljaXBhbnQ6IHIgfSA9IGU7XHJcbiAgICBpZiAodCAmJiBuKVxyXG4gICAgICByZXR1cm4gci5nZXRUcmFja1B1YmxpY2F0aW9ucygpLmZpbmQoKGkpID0+IGkuc291cmNlID09PSB0ICYmIGkudHJhY2tOYW1lID09PSBuKTtcclxuICAgIGlmIChuKVxyXG4gICAgICByZXR1cm4gci5nZXRUcmFja1B1YmxpY2F0aW9uQnlOYW1lKG4pO1xyXG4gICAgaWYgKHQpXHJcbiAgICAgIHJldHVybiByLmdldFRyYWNrUHVibGljYXRpb24odCk7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdCBsZWFzdCBvbmUgb2Ygc291cmNlIGFuZCBuYW1lIG5lZWRzIHRvIGJlIGRlZmluZWRcIik7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIGxlKGUsIC4uLnQpIHtcclxuICByZXR1cm4gbmV3IGsoKHIpID0+IHtcclxuICAgIGNvbnN0IGkgPSAoKSA9PiB7XHJcbiAgICAgIHIubmV4dChlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gdC5mb3JFYWNoKChzKSA9PiB7XHJcbiAgICAgIGUub24ocywgaSk7XHJcbiAgICB9KSwgKCkgPT4ge1xyXG4gICAgICB0LmZvckVhY2goKHMpID0+IHtcclxuICAgICAgICBlLm9mZihzLCBpKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH0pLnBpcGUoRChlKSk7XHJcbn1cclxuZnVuY3Rpb24geWUoZSwgdCkge1xyXG4gIHJldHVybiBuZXcgaygocikgPT4ge1xyXG4gICAgY29uc3QgaSA9ICguLi5zKSA9PiB7XHJcbiAgICAgIHIubmV4dChzKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZS5vbih0LCBpKSwgKCkgPT4ge1xyXG4gICAgICBlLm9mZih0LCBpKTtcclxuICAgIH07XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZXMoZSkge1xyXG4gIHJldHVybiB5ZShlLCB5LkNvbm5lY3Rpb25TdGF0ZUNoYW5nZWQpLnBpcGUoXHJcbiAgICBPKChbdF0pID0+IHQpLFxyXG4gICAgRChlLnN0YXRlKVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gdHMoZSkge1xyXG4gIHJldHVybiBsZShcclxuICAgIGUsXHJcbiAgICB5LlJvb21NZXRhZGF0YUNoYW5nZWQsXHJcbiAgICB5LkNvbm5lY3Rpb25TdGF0ZUNoYW5nZWRcclxuICApLnBpcGUoXHJcbiAgICBPKChuKSA9PiAoeyBuYW1lOiBuLm5hbWUsIG1ldGFkYXRhOiBuLm1ldGFkYXRhIH0pKVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gbnMoZSkge1xyXG4gIHJldHVybiB5ZShlLCB5LkFjdGl2ZVNwZWFrZXJzQ2hhbmdlZCkucGlwZShcclxuICAgIE8oKFt0XSkgPT4gdClcclxuICApO1xyXG59XHJcbmZ1bmN0aW9uIHJzKGUsIHQsIG4gPSAhMCkge1xyXG4gIGNvbnN0IHIgPSBuZXcgaygobykgPT4ge1xyXG4gICAgVHQuZ2V0TG9jYWxEZXZpY2VzKGUsIG4pLnRoZW4oKHMpID0+IHtcclxuICAgICAgby5uZXh0KHMpLCBvLmNvbXBsZXRlKCk7XHJcbiAgICB9KS5jYXRjaCgocykgPT4ge1xyXG4gICAgICB0ID09IG51bGwgfHwgdChzKSwgby5uZXh0KFtdKSwgby5jb21wbGV0ZSgpO1xyXG4gICAgfSk7XHJcbiAgfSksIGkgPSBuZXcgaygobykgPT4ge1xyXG4gICAgdmFyIHM7XHJcbiAgICBjb25zdCBhID0gKCkgPT4gVih0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGMgPSB5aWVsZCBUdC5nZXRMb2NhbERldmljZXMoZSwgbik7XHJcbiAgICAgICAgby5uZXh0KGMpO1xyXG4gICAgICB9IGNhdGNoIChjKSB7XHJcbiAgICAgICAgdCA9PSBudWxsIHx8IHQoYyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPCBcInVcIikge1xyXG4gICAgICBpZiAoIXdpbmRvdy5pc1NlY3VyZUNvbnRleHQpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgICAgXCJBY2Nlc3NpbmcgbWVkaWEgZGV2aWNlcyBpcyBhdmFpbGFibGUgb25seSBpbiBzZWN1cmUgY29udGV4dHMgKEhUVFBTIGFuZCBsb2NhbGhvc3QpLCBpbiBzb21lIG9yIGFsbCBzdXBwb3J0aW5nIGJyb3dzZXJzLiBTZWU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9OYXZpZ2F0b3IvbWVkaWFEZXZpY2VzXCJcclxuICAgICAgICApO1xyXG4gICAgICAocyA9IG5hdmlnYXRvciA9PSBudWxsID8gdm9pZCAwIDogbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykgPT0gbnVsbCB8fCBzLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VjaGFuZ2VcIiwgYSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB2YXIgYztcclxuICAgICAgKGMgPSBuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5tZWRpYURldmljZXMpID09IG51bGwgfHwgYy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlY2hhbmdlXCIsIGEpO1xyXG4gICAgfTtcclxuICB9KTtcclxuICByZXR1cm4gV2UociwgaSk7XHJcbn1cclxuZnVuY3Rpb24gc28oZSkge1xyXG4gIHJldHVybiB5ZShlLCB5LkRhdGFSZWNlaXZlZCk7XHJcbn1cclxuZnVuY3Rpb24gYW8oZSkge1xyXG4gIHJldHVybiBsZShlLCB5LkF1ZGlvUGxheWJhY2tTdGF0dXNDaGFuZ2VkKS5waXBlKFxyXG4gICAgTygobikgPT4gKHsgY2FuUGxheUF1ZGlvOiBuLmNhblBsYXliYWNrQXVkaW8gfSkpXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiBjbyhlKSB7XHJcbiAgcmV0dXJuIGxlKGUsIHkuVmlkZW9QbGF5YmFja1N0YXR1c0NoYW5nZWQpLnBpcGUoXHJcbiAgICBPKChuKSA9PiAoeyBjYW5QbGF5VmlkZW86IG4uY2FuUGxheWJhY2tWaWRlbyB9KSlcclxuICApO1xyXG59XHJcbmZ1bmN0aW9uIHVvKGUsIHQpIHtcclxuICByZXR1cm4geWUoZSwgeS5BY3RpdmVEZXZpY2VDaGFuZ2VkKS5waXBlKFxyXG4gICAgUWUoKFtuXSkgPT4gbiA9PT0gdCksXHJcbiAgICBPKChbbiwgcl0pID0+IChfLmRlYnVnKFwiYWN0aXZlRGV2aWNlT2JzZXJ2YWJsZSB8IFJvb21FdmVudC5BY3RpdmVEZXZpY2VDaGFuZ2VkXCIsIHsga2luZDogbiwgZGV2aWNlSWQ6IHIgfSksIHIpKVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gaXMoZSwgdCkge1xyXG4gIHJldHVybiB5ZShlLCB5LlBhcnRpY2lwYW50RW5jcnlwdGlvblN0YXR1c0NoYW5nZWQpLnBpcGUoXHJcbiAgICBRZShcclxuICAgICAgKFssIG5dKSA9PiAodCA9PSBudWxsID8gdm9pZCAwIDogdC5pZGVudGl0eSkgPT09IChuID09IG51bGwgPyB2b2lkIDAgOiBuLmlkZW50aXR5KSB8fCAhbiAmJiAodCA9PSBudWxsID8gdm9pZCAwIDogdC5pZGVudGl0eSkgPT09IGUubG9jYWxQYXJ0aWNpcGFudC5pZGVudGl0eVxyXG4gICAgKSxcclxuICAgIE8oKFtuXSkgPT4gbiksXHJcbiAgICBEKFxyXG4gICAgICB0ICE9IG51bGwgJiYgdC5pc0xvY2FsID8gdC5pc0UyRUVFbmFibGVkIDogISEodCAhPSBudWxsICYmIHQuaXNFbmNyeXB0ZWQpXHJcbiAgICApXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiBvcyhlKSB7XHJcbiAgcmV0dXJuIHllKGUsIHkuUmVjb3JkaW5nU3RhdHVzQ2hhbmdlZCkucGlwZShcclxuICAgIE8oKFt0XSkgPT4gdCksXHJcbiAgICBEKGUuaXNSZWNvcmRpbmcpXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiB3ZShlLCAuLi50KSB7XHJcbiAgcmV0dXJuIG5ldyBrKChyKSA9PiB7XHJcbiAgICBjb25zdCBpID0gKCkgPT4ge1xyXG4gICAgICByLm5leHQoZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHQuZm9yRWFjaCgocykgPT4ge1xyXG4gICAgICBlLm9uKHMsIGkpO1xyXG4gICAgfSksICgpID0+IHtcclxuICAgICAgdC5mb3JFYWNoKChzKSA9PiB7XHJcbiAgICAgICAgZS5vZmYocywgaSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9KS5waXBlKEQoZSkpO1xyXG59XHJcbmZ1bmN0aW9uIEluKGUpIHtcclxuICByZXR1cm4gd2UoXHJcbiAgICBlLFxyXG4gICAgdy5UcmFja011dGVkLFxyXG4gICAgdy5UcmFja1VubXV0ZWQsXHJcbiAgICB3LlBhcnRpY2lwYW50UGVybWlzc2lvbnNDaGFuZ2VkLFxyXG4gICAgLy8gUGFydGljaXBhbnRFdmVudC5Jc1NwZWFraW5nQ2hhbmdlZCxcclxuICAgIHcuVHJhY2tQdWJsaXNoZWQsXHJcbiAgICB3LlRyYWNrVW5wdWJsaXNoZWQsXHJcbiAgICB3LkxvY2FsVHJhY2tQdWJsaXNoZWQsXHJcbiAgICB3LkxvY2FsVHJhY2tVbnB1Ymxpc2hlZCxcclxuICAgIHcuTWVkaWFEZXZpY2VzRXJyb3IsXHJcbiAgICB3LlRyYWNrU3Vic2NyaXB0aW9uU3RhdHVzQ2hhbmdlZFxyXG4gICAgLy8gUGFydGljaXBhbnRFdmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXHJcbiAgKS5waXBlKFxyXG4gICAgTygobikgPT4ge1xyXG4gICAgICBjb25zdCB7IGlzTWljcm9waG9uZUVuYWJsZWQ6IHIsIGlzQ2FtZXJhRW5hYmxlZDogaSwgaXNTY3JlZW5TaGFyZUVuYWJsZWQ6IG8gfSA9IG4sIHMgPSBuLmdldFRyYWNrUHVibGljYXRpb24oTS5Tb3VyY2UuTWljcm9waG9uZSksIGEgPSBuLmdldFRyYWNrUHVibGljYXRpb24oTS5Tb3VyY2UuQ2FtZXJhKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBpc0NhbWVyYUVuYWJsZWQ6IGksXHJcbiAgICAgICAgaXNNaWNyb3Bob25lRW5hYmxlZDogcixcclxuICAgICAgICBpc1NjcmVlblNoYXJlRW5hYmxlZDogbyxcclxuICAgICAgICBjYW1lcmFUcmFjazogYSxcclxuICAgICAgICBtaWNyb3Bob25lVHJhY2s6IHMsXHJcbiAgICAgICAgcGFydGljaXBhbnQ6IG5cclxuICAgICAgfTtcclxuICAgIH0pXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiBsbyhlKSB7XHJcbiAgcmV0dXJuIGUgPyB3ZShcclxuICAgIGUsXHJcbiAgICB3LlBhcnRpY2lwYW50TWV0YWRhdGFDaGFuZ2VkLFxyXG4gICAgdy5QYXJ0aWNpcGFudE5hbWVDaGFuZ2VkXHJcbiAgKS5waXBlKFxyXG4gICAgTygoeyBuYW1lOiBuLCBpZGVudGl0eTogciwgbWV0YWRhdGE6IGkgfSkgPT4gKHtcclxuICAgICAgbmFtZTogbixcclxuICAgICAgaWRlbnRpdHk6IHIsXHJcbiAgICAgIG1ldGFkYXRhOiBpXHJcbiAgICB9KSksXHJcbiAgICBEKHtcclxuICAgICAgbmFtZTogZS5uYW1lLFxyXG4gICAgICBpZGVudGl0eTogZS5pZGVudGl0eSxcclxuICAgICAgbWV0YWRhdGE6IGUubWV0YWRhdGFcclxuICAgIH0pXHJcbiAgKSA6IHZvaWQgMDtcclxufVxyXG5mdW5jdGlvbiBmbyhlKSB7XHJcbiAgcmV0dXJuIEplKFxyXG4gICAgZSxcclxuICAgIHcuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkXHJcbiAgKS5waXBlKFxyXG4gICAgTygoW25dKSA9PiBuKSxcclxuICAgIEQoZS5jb25uZWN0aW9uUXVhbGl0eSlcclxuICApO1xyXG59XHJcbmZ1bmN0aW9uIEplKGUsIHQpIHtcclxuICByZXR1cm4gbmV3IGsoKHIpID0+IHtcclxuICAgIGNvbnN0IGkgPSAoLi4ucykgPT4ge1xyXG4gICAgICByLm5leHQocyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGUub24odCwgaSksICgpID0+IHtcclxuICAgICAgZS5vZmYodCwgaSk7XHJcbiAgICB9O1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHBvKGUpIHtcclxuICB2YXIgdCwgbiwgciwgaTtcclxuICByZXR1cm4gd2UoXHJcbiAgICBlLnBhcnRpY2lwYW50LFxyXG4gICAgdy5UcmFja011dGVkLFxyXG4gICAgdy5UcmFja1VubXV0ZWQsXHJcbiAgICB3LlRyYWNrU3Vic2NyaWJlZCxcclxuICAgIHcuVHJhY2tVbnN1YnNjcmliZWQsXHJcbiAgICB3LkxvY2FsVHJhY2tQdWJsaXNoZWQsXHJcbiAgICB3LkxvY2FsVHJhY2tVbnB1Ymxpc2hlZFxyXG4gICkucGlwZShcclxuICAgIE8oKG8pID0+IHtcclxuICAgICAgdmFyIHMsIGE7XHJcbiAgICAgIGNvbnN0IGMgPSAocyA9IGUucHVibGljYXRpb24pICE9IG51bGwgPyBzIDogby5nZXRUcmFja1B1YmxpY2F0aW9uKGUuc291cmNlKTtcclxuICAgICAgcmV0dXJuIChhID0gYyA9PSBudWxsID8gdm9pZCAwIDogYy5pc011dGVkKSAhPSBudWxsID8gYSA6ICEwO1xyXG4gICAgfSksXHJcbiAgICBEKFxyXG4gICAgICAoaSA9IChyID0gKHQgPSBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogdC5pc011dGVkKSAhPSBudWxsID8gciA6IChuID0gZS5wYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKGUuc291cmNlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uaXNNdXRlZCkgIT0gbnVsbCA/IGkgOiAhMFxyXG4gICAgKVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gc3MoZSkge1xyXG4gIHJldHVybiBKZShlLCB3LklzU3BlYWtpbmdDaGFuZ2VkKS5waXBlKFxyXG4gICAgTygoW3RdKSA9PiB0KVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gYXMoZSwgdCA9IHt9KSB7XHJcbiAgdmFyIG47XHJcbiAgbGV0IHI7XHJcbiAgY29uc3QgaSA9IG5ldyBrKChjKSA9PiAociA9IGMsICgpID0+IGEudW5zdWJzY3JpYmUoKSkpLnBpcGUoRChBcnJheS5mcm9tKGUucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKSkpLCBvID0gKG4gPSB0LmFkZGl0aW9uYWxSb29tRXZlbnRzKSAhPSBudWxsID8gbiA6IENuLCBzID0gQXJyYXkuZnJvbShcclxuICAgIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcclxuICAgICAgeS5QYXJ0aWNpcGFudENvbm5lY3RlZCxcclxuICAgICAgeS5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcclxuICAgICAgeS5Db25uZWN0aW9uU3RhdGVDaGFuZ2VkLFxyXG4gICAgICAuLi5vXHJcbiAgICBdKVxyXG4gICksIGEgPSBsZShlLCAuLi5zKS5zdWJzY3JpYmUoXHJcbiAgICAoYykgPT4gciA9PSBudWxsID8gdm9pZCAwIDogci5uZXh0KEFycmF5LmZyb20oYy5yZW1vdGVQYXJ0aWNpcGFudHMudmFsdWVzKCkpKVxyXG4gICk7XHJcbiAgcmV0dXJuIGUucmVtb3RlUGFydGljaXBhbnRzLnNpemUgPiAwICYmIChyID09IG51bGwgfHwgci5uZXh0KEFycmF5LmZyb20oZS5yZW1vdGVQYXJ0aWNpcGFudHMudmFsdWVzKCkpKSksIGk7XHJcbn1cclxuZnVuY3Rpb24gY3MoZSwgdCwgbiA9IHt9KSB7XHJcbiAgdmFyIHI7XHJcbiAgY29uc3QgaSA9IChyID0gbi5hZGRpdGlvbmFsRXZlbnRzKSAhPSBudWxsID8gciA6IFBuO1xyXG4gIHJldHVybiBsZShcclxuICAgIGUsXHJcbiAgICB5LlBhcnRpY2lwYW50Q29ubmVjdGVkLFxyXG4gICAgeS5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcclxuICAgIHkuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZFxyXG4gICkucGlwZShcclxuICAgIFRuKChzKSA9PiB7XHJcbiAgICAgIGNvbnN0IGEgPSBzLmdldFBhcnRpY2lwYW50QnlJZGVudGl0eSh0KTtcclxuICAgICAgcmV0dXJuIGEgPyB3ZShhLCAuLi5pKSA6IG5ldyBrKChjKSA9PiBjLm5leHQodm9pZCAwKSk7XHJcbiAgICB9KSxcclxuICAgIEQoZS5nZXRQYXJ0aWNpcGFudEJ5SWRlbnRpdHkodCkpXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiB1cyhlKSB7XHJcbiAgcmV0dXJuIEplKFxyXG4gICAgZSxcclxuICAgIHcuUGFydGljaXBhbnRQZXJtaXNzaW9uc0NoYW5nZWRcclxuICApLnBpcGUoXHJcbiAgICBPKCgpID0+IGUucGVybWlzc2lvbnMpLFxyXG4gICAgRChlLnBlcm1pc3Npb25zKVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gbHMoZSwgeyBraW5kOiB0LCBpZGVudGl0eTogbiB9LCByID0ge30pIHtcclxuICB2YXIgaTtcclxuICBjb25zdCBvID0gKGkgPSByLmFkZGl0aW9uYWxFdmVudHMpICE9IG51bGwgPyBpIDogUG4sIHMgPSAoYykgPT4ge1xyXG4gICAgbGV0IHUgPSAhMDtcclxuICAgIHJldHVybiB0ICYmICh1ID0gdSAmJiBjLmtpbmQgPT09IHQpLCBuICYmICh1ID0gdSAmJiBjLmlkZW50aXR5ID09PSBuKSwgdTtcclxuICB9O1xyXG4gIHJldHVybiBsZShcclxuICAgIGUsXHJcbiAgICB5LlBhcnRpY2lwYW50Q29ubmVjdGVkLFxyXG4gICAgeS5QYXJ0aWNpcGFudERpc2Nvbm5lY3RlZCxcclxuICAgIHkuQ29ubmVjdGlvblN0YXRlQ2hhbmdlZFxyXG4gICkucGlwZShcclxuICAgIFRuKChjKSA9PiB7XHJcbiAgICAgIGNvbnN0IHUgPSBBcnJheS5mcm9tKGMucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKS5maW5kKFxyXG4gICAgICAgIChsKSA9PiBzKGwpXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB1ID8gd2UodSwgLi4ubykgOiBuZXcgaygobCkgPT4gbC5uZXh0KHZvaWQgMCkpO1xyXG4gICAgfSksXHJcbiAgICBEKEFycmF5LmZyb20oZS5yZW1vdGVQYXJ0aWNpcGFudHMudmFsdWVzKCkpLmZpbmQoKGMpID0+IHMoYykpKVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gZnMoZSkge1xyXG4gIHJldHVybiB0eXBlb2YgZSA+IFwidVwiID8gbmV3IGsoKSA6IEplKGUsIHcuQXR0cmlidXRlc0NoYW5nZWQpLnBpcGUoXHJcbiAgICBPKChbdF0pID0+ICh7XHJcbiAgICAgIGNoYW5nZWQ6IHQsXHJcbiAgICAgIGF0dHJpYnV0ZXM6IGUuYXR0cmlidXRlc1xyXG4gICAgfSkpLFxyXG4gICAgRCh7IGNoYW5nZWQ6IGUuYXR0cmlidXRlcywgYXR0cmlidXRlczogZS5hdHRyaWJ1dGVzIH0pXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiBkcyhlLCB0LCBuLCByLCBpKSB7XHJcbiAgY29uc3QgeyBsb2NhbFBhcnRpY2lwYW50OiBvIH0gPSB0LCBzID0gKGYsIHYpID0+IHtcclxuICAgIGxldCBkID0gITE7XHJcbiAgICBzd2l0Y2ggKGYpIHtcclxuICAgICAgY2FzZSBNLlNvdXJjZS5DYW1lcmE6XHJcbiAgICAgICAgZCA9IHYuaXNDYW1lcmFFbmFibGVkO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIE0uU291cmNlLk1pY3JvcGhvbmU6XHJcbiAgICAgICAgZCA9IHYuaXNNaWNyb3Bob25lRW5hYmxlZDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBNLlNvdXJjZS5TY3JlZW5TaGFyZTpcclxuICAgICAgICBkID0gdi5pc1NjcmVlblNoYXJlRW5hYmxlZDtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiBkO1xyXG4gIH0sIGEgPSBJbihvKS5waXBlKFxyXG4gICAgTygoZikgPT4gcyhlLCBmLnBhcnRpY2lwYW50KSksXHJcbiAgICBEKHMoZSwgbykpXHJcbiAgKSwgYyA9IG5ldyBaKCksIHUgPSAoZiwgdikgPT4gVih0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc3dpdGNoICh2ID8/ICh2ID0gbiksIGMubmV4dCghMCksIGUpIHtcclxuICAgICAgICBjYXNlIE0uU291cmNlLkNhbWVyYTpcclxuICAgICAgICAgIHJldHVybiB5aWVsZCBvLnNldENhbWVyYUVuYWJsZWQoXHJcbiAgICAgICAgICAgIGYgPz8gIW8uaXNDYW1lcmFFbmFibGVkLFxyXG4gICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICByXHJcbiAgICAgICAgICApLCBvLmlzQ2FtZXJhRW5hYmxlZDtcclxuICAgICAgICBjYXNlIE0uU291cmNlLk1pY3JvcGhvbmU6XHJcbiAgICAgICAgICByZXR1cm4geWllbGQgby5zZXRNaWNyb3Bob25lRW5hYmxlZChcclxuICAgICAgICAgICAgZiA/PyAhby5pc01pY3JvcGhvbmVFbmFibGVkLFxyXG4gICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICByXHJcbiAgICAgICAgICApLCBvLmlzTWljcm9waG9uZUVuYWJsZWQ7XHJcbiAgICAgICAgY2FzZSBNLlNvdXJjZS5TY3JlZW5TaGFyZTpcclxuICAgICAgICAgIHJldHVybiB5aWVsZCBvLnNldFNjcmVlblNoYXJlRW5hYmxlZChcclxuICAgICAgICAgICAgZiA/PyAhby5pc1NjcmVlblNoYXJlRW5hYmxlZCxcclxuICAgICAgICAgICAgdixcclxuICAgICAgICAgICAgclxyXG4gICAgICAgICAgKSwgby5pc1NjcmVlblNoYXJlRW5hYmxlZDtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRyaWVkIHRvIHRvZ2dsZSB1bnN1cHBvcnRlZCBzb3VyY2VcIik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGQpIHtcclxuICAgICAgaWYgKGkgJiYgZCBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgaSA9PSBudWxsIHx8IGkoZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IGVsc2VcclxuICAgICAgICB0aHJvdyBkO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgYy5uZXh0KCExKTtcclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4ge1xyXG4gICAgY2xhc3NOYW1lOiBGKFwiYnV0dG9uXCIpLFxyXG4gICAgdG9nZ2xlOiB1LFxyXG4gICAgZW5hYmxlZE9ic2VydmVyOiBhLFxyXG4gICAgcGVuZGluZ09ic2VydmVyOiBjLmFzT2JzZXJ2YWJsZSgpXHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBwcygpIHtcclxuICBsZXQgZSA9ICExO1xyXG4gIGNvbnN0IHQgPSBuZXcgWigpLCBuID0gbmV3IFooKSwgciA9IChvKSA9PiBWKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICBuLm5leHQoITApLCBlID0gbyA/PyAhZSwgdC5uZXh0KGUpLCBuLm5leHQoITEpO1xyXG4gIH0pO1xyXG4gIHJldHVybiB7XHJcbiAgICBjbGFzc05hbWU6IEYoXCJidXR0b25cIiksXHJcbiAgICB0b2dnbGU6IHIsXHJcbiAgICBlbmFibGVkT2JzZXJ2ZXI6IHQuYXNPYnNlcnZhYmxlKCksXHJcbiAgICBwZW5kaW5nT2JzZXJ2ZXI6IG4uYXNPYnNlcnZhYmxlKClcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIGhzKGUsIHQsIG4pIHtcclxuICBjb25zdCByID0gbmV3IGxuKHZvaWQgMCksIGkgPSB1byh0LCBlKSwgbyA9IChhLCAuLi5jKSA9PiBWKHRoaXMsIFthLCAuLi5jXSwgZnVuY3Rpb24qICh1LCBsID0ge30pIHtcclxuICAgIHZhciBmLCB2LCBkO1xyXG4gICAgaWYgKHQpIHtcclxuICAgICAgXy5kZWJ1ZyhgU3dpdGNoaW5nIGFjdGl2ZSBkZXZpY2Ugb2Yga2luZCBcIiR7ZX1cIiB3aXRoIGlkICR7dX0uYCksIHlpZWxkIHQuc3dpdGNoQWN0aXZlRGV2aWNlKGUsIHUsIGwuZXhhY3QpO1xyXG4gICAgICBjb25zdCBtID0gKGYgPSB0LmdldEFjdGl2ZURldmljZShlKSkgIT0gbnVsbCA/IGYgOiB1O1xyXG4gICAgICBtICE9PSB1ICYmIHUgIT09IFwiZGVmYXVsdFwiICYmIF8uaW5mbyhcclxuICAgICAgICBgV2UgdHJpZWQgdG8gc2VsZWN0IHRoZSBkZXZpY2Ugd2l0aCBpZCAoJHt1fSksIGJ1dCB0aGUgYnJvd3NlciBkZWNpZGVkIHRvIHNlbGVjdCB0aGUgZGV2aWNlIHdpdGggaWQgKCR7bX0pIGluc3RlYWQuYFxyXG4gICAgICApO1xyXG4gICAgICBsZXQgcDtcclxuICAgICAgZSA9PT0gXCJhdWRpb2lucHV0XCIgPyBwID0gKHYgPSB0LmxvY2FsUGFydGljaXBhbnQuZ2V0VHJhY2tQdWJsaWNhdGlvbihNLlNvdXJjZS5NaWNyb3Bob25lKSkgPT0gbnVsbCA/IHZvaWQgMCA6IHYudHJhY2sgOiBlID09PSBcInZpZGVvaW5wdXRcIiAmJiAocCA9IChkID0gdC5sb2NhbFBhcnRpY2lwYW50LmdldFRyYWNrUHVibGljYXRpb24oTS5Tb3VyY2UuQ2FtZXJhKSkgPT0gbnVsbCA/IHZvaWQgMCA6IGQudHJhY2spO1xyXG4gICAgICBjb25zdCBnID0gdSA9PT0gXCJkZWZhdWx0XCIgJiYgIXAgfHwgdSA9PT0gXCJkZWZhdWx0XCIgJiYgKHAgPT0gbnVsbCA/IHZvaWQgMCA6IHAubWVkaWFTdHJlYW1UcmFjay5sYWJlbC5zdGFydHNXaXRoKFwiRGVmYXVsdFwiKSk7XHJcbiAgICAgIHIubmV4dChnID8gdSA6IG0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiB7XHJcbiAgICBjbGFzc05hbWU6IEYoXCJtZWRpYS1kZXZpY2Utc2VsZWN0XCIpLFxyXG4gICAgYWN0aXZlRGV2aWNlT2JzZXJ2YWJsZTogaSxcclxuICAgIHNldEFjdGl2ZU1lZGlhRGV2aWNlOiBvXHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiB2cyhlKSB7XHJcbiAgY29uc3QgdCA9IChyKSA9PiB7XHJcbiAgICBlLmRpc2Nvbm5lY3Qocik7XHJcbiAgfTtcclxuICByZXR1cm4geyBjbGFzc05hbWU6IEYoXCJkaXNjb25uZWN0LWJ1dHRvblwiKSwgZGlzY29ubmVjdDogdCB9O1xyXG59XHJcbmZ1bmN0aW9uIG1zKGUpIHtcclxuICBjb25zdCB0ID0gRihcImNvbm5lY3Rpb24tcXVhbGl0eVwiKSwgbiA9IGZvKGUpO1xyXG4gIHJldHVybiB7IGNsYXNzTmFtZTogdCwgY29ubmVjdGlvblF1YWxpdHlPYnNlcnZlcjogbiB9O1xyXG59XHJcbmZ1bmN0aW9uIGdzKGUpIHtcclxuICBsZXQgdCA9IFwidHJhY2stbXV0ZWQtaW5kaWNhdG9yLWNhbWVyYVwiO1xyXG4gIHN3aXRjaCAoZS5zb3VyY2UpIHtcclxuICAgIGNhc2UgTS5Tb3VyY2UuQ2FtZXJhOlxyXG4gICAgICB0ID0gXCJ0cmFjay1tdXRlZC1pbmRpY2F0b3ItY2FtZXJhXCI7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBNLlNvdXJjZS5NaWNyb3Bob25lOlxyXG4gICAgICB0ID0gXCJ0cmFjay1tdXRlZC1pbmRpY2F0b3ItbWljcm9waG9uZVwiO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbiAgY29uc3QgbiA9IEYodCksIHIgPSBwbyhlKTtcclxuICByZXR1cm4geyBjbGFzc05hbWU6IG4sIG1lZGlhTXV0ZWRPYnNlcnZlcjogciB9O1xyXG59XHJcbmZ1bmN0aW9uIGJzKGUpIHtcclxuICByZXR1cm4geyBjbGFzc05hbWU6IFwibGstcGFydGljaXBhbnQtbmFtZVwiLCBpbmZvT2JzZXJ2ZXI6IGxvKGUpIH07XHJcbn1cclxuZnVuY3Rpb24geXMoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGNsYXNzTmFtZTogRihcInBhcnRpY2lwYW50LXRpbGVcIilcclxuICB9O1xyXG59XHJcbnZhciBobyA9IHtcclxuICBDSEFUOiBcImxrLmNoYXRcIixcclxuICBUUkFOU0NSSVBUSU9OOiBcImxrLnRyYW5zY3JpcHRpb25cIlxyXG59LCB2byA9IHtcclxuICBDSEFUOiBcImxrLWNoYXQtdG9waWNcIlxyXG59O1xyXG5mdW5jdGlvbiBSbihlLCB0KSB7XHJcbiAgcmV0dXJuIFYodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiogKG4sIHIsIGkgPSB7fSkge1xyXG4gICAgY29uc3QgeyByZWxpYWJsZTogbywgZGVzdGluYXRpb25JZGVudGl0aWVzOiBzLCB0b3BpYzogYSB9ID0gaTtcclxuICAgIHlpZWxkIG4ucHVibGlzaERhdGEociwge1xyXG4gICAgICBkZXN0aW5hdGlvbklkZW50aXRpZXM6IHMsXHJcbiAgICAgIHRvcGljOiBhLFxyXG4gICAgICByZWxpYWJsZTogb1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gbW8oZSwgdCwgbikge1xyXG4gIGNvbnN0IHIgPSBBcnJheS5pc0FycmF5KHQpID8gdCA6IFt0XSwgaSA9IHNvKGUpLnBpcGUoXHJcbiAgICBRZShcclxuICAgICAgKFssICwgLCBjXSkgPT4gdCA9PT0gdm9pZCAwIHx8IGMgIT09IHZvaWQgMCAmJiByLmluY2x1ZGVzKGMpXHJcbiAgICApLFxyXG4gICAgTygoW2MsIHUsICwgbF0pID0+IHtcclxuICAgICAgY29uc3QgZiA9IHtcclxuICAgICAgICBwYXlsb2FkOiBjLFxyXG4gICAgICAgIHRvcGljOiBsLFxyXG4gICAgICAgIGZyb206IHVcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIG4gPT0gbnVsbCB8fCBuKGYpLCBmO1xyXG4gICAgfSlcclxuICApO1xyXG4gIGxldCBvO1xyXG4gIGNvbnN0IHMgPSBuZXcgaygoYykgPT4ge1xyXG4gICAgbyA9IGM7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHsgbWVzc2FnZU9ic2VydmFibGU6IGksIGlzU2VuZGluZ09ic2VydmFibGU6IHMsIHNlbmQ6IChjLCAuLi51KSA9PiBWKHRoaXMsIFtjLCAuLi51XSwgZnVuY3Rpb24qIChsLCBmID0ge30pIHtcclxuICAgIG8ubmV4dCghMCk7XHJcbiAgICB0cnkge1xyXG4gICAgICB5aWVsZCBSbihlLmxvY2FsUGFydGljaXBhbnQsIGwsIFgoeyB0b3BpYzogclswXSB9LCBmKSk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBvLm5leHQoITEpO1xyXG4gICAgfVxyXG4gIH0pIH07XHJcbn1cclxudmFyIEllID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XHJcbmZ1bmN0aW9uIGdvKGUpIHtcclxuICByZXR1cm4gZS5pZ25vcmVMZWdhY3kgPT0gITA7XHJcbn1cclxudmFyIGJvID0gKGUpID0+IEpTT04ucGFyc2UobmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGUpKSwgeW8gPSAoZSkgPT4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKEpTT04uc3RyaW5naWZ5KGUpKTtcclxuZnVuY3Rpb24gd3MoZSwgdCkge1xyXG4gIHZhciBuLCByLCBpLCBvLCBzLCBhO1xyXG4gIGNvbnN0IGMgPSAoKSA9PiB7XHJcbiAgICB2YXIgYiwgUywgQztcclxuICAgIHJldHVybiAoKGIgPSBlLnNlcnZlckluZm8pID09IG51bGwgPyB2b2lkIDAgOiBiLmVkaXRpb24pID09PSAxIHx8ICEhKChTID0gZS5zZXJ2ZXJJbmZvKSAhPSBudWxsICYmIFMudmVyc2lvbikgJiYgem4oKEMgPSBlLnNlcnZlckluZm8pID09IG51bGwgPyB2b2lkIDAgOiBDLnZlcnNpb24sIFwiMS44LjJcIikgPiAwO1xyXG4gIH0sIHUgPSBuZXcgWigpLCBsID0gKG4gPSB0ID09IG51bGwgPyB2b2lkIDAgOiB0LmNoYW5uZWxUb3BpYykgIT0gbnVsbCA/IG4gOiBoby5DSEFULCBmID0gKHIgPSB0ID09IG51bGwgPyB2b2lkIDAgOiB0LmNoYW5uZWxUb3BpYykgIT0gbnVsbCA/IHIgOiB2by5DSEFUO1xyXG4gIGxldCB2ID0gITE7XHJcbiAgSWUuaGFzKGUpIHx8ICh2ID0gITApO1xyXG4gIGNvbnN0IGQgPSAoaSA9IEllLmdldChlKSkgIT0gbnVsbCA/IGkgOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCBtID0gKG8gPSBkLmdldChsKSkgIT0gbnVsbCA/IG8gOiBuZXcgWigpO1xyXG4gIGQuc2V0KGwsIG0pLCBJZS5zZXQoZSwgZCk7XHJcbiAgY29uc3QgcCA9IChzID0gdCA9PSBudWxsID8gdm9pZCAwIDogdC5tZXNzYWdlRGVjb2RlcikgIT0gbnVsbCA/IHMgOiBibztcclxuICBpZiAodikge1xyXG4gICAgZS5yZWdpc3RlclRleHRTdHJlYW1IYW5kbGVyKGwsIChTLCBDKSA9PiBWKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgIGNvbnN0IHsgaWQ6ICQsIHRpbWVzdGFtcDogSSB9ID0gUy5pbmZvO1xyXG4gICAgICBHZShTKS5waXBlKFxyXG4gICAgICAgIGN0KChULCBMKSA9PiBUICsgTCksXHJcbiAgICAgICAgTygoVCkgPT4gKHtcclxuICAgICAgICAgIGlkOiAkLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBJLFxyXG4gICAgICAgICAgbWVzc2FnZTogVCxcclxuICAgICAgICAgIGZyb206IGUuZ2V0UGFydGljaXBhbnRCeUlkZW50aXR5KEMuaWRlbnRpdHkpXHJcbiAgICAgICAgICAvLyBlZGl0VGltZXN0YW1wOiB0eXBlID09PSAndXBkYXRlJyA/IHRpbWVzdGFtcCA6IHVuZGVmaW5lZCxcclxuICAgICAgICB9KSlcclxuICAgICAgKS5zdWJzY3JpYmUoe1xyXG4gICAgICAgIG5leHQ6IChUKSA9PiBtLm5leHQoVClcclxuICAgICAgfSk7XHJcbiAgICB9KSk7XHJcbiAgICBjb25zdCB7IG1lc3NhZ2VPYnNlcnZhYmxlOiBiIH0gPSBtbyhlLCBbZl0pO1xyXG4gICAgYi5waXBlKFxyXG4gICAgICBPKChTKSA9PiB7XHJcbiAgICAgICAgY29uc3QgQyA9IHAoUy5wYXlsb2FkKTtcclxuICAgICAgICByZXR1cm4gZ28oQykgPyB2b2lkIDAgOiBUZShYKHt9LCBDKSwgeyBmcm9tOiBTLmZyb20gfSk7XHJcbiAgICAgIH0pLFxyXG4gICAgICBRZSgoUykgPT4gISFTKSxcclxuICAgICAgTnQodSlcclxuICAgICkuc3Vic2NyaWJlKG0pO1xyXG4gIH1cclxuICBjb25zdCBnID0gbS5waXBlKFxyXG4gICAgY3QoKGIsIFMpID0+IHtcclxuICAgICAgaWYgKFwiaWRcIiBpbiBTICYmIGIuZmluZCgoQykgPT4ge1xyXG4gICAgICAgIHZhciAkLCBJO1xyXG4gICAgICAgIHJldHVybiAoKCQgPSBDLmZyb20pID09IG51bGwgPyB2b2lkIDAgOiAkLmlkZW50aXR5KSA9PT0gKChJID0gUy5mcm9tKSA9PSBudWxsID8gdm9pZCAwIDogSS5pZGVudGl0eSkgJiYgQy5pZCA9PT0gUy5pZDtcclxuICAgICAgfSkpIHtcclxuICAgICAgICBjb25zdCBDID0gYi5maW5kSW5kZXgoKCQpID0+ICQuaWQgPT09IFMuaWQpO1xyXG4gICAgICAgIGlmIChDID4gLTEpIHtcclxuICAgICAgICAgIGNvbnN0ICQgPSBiW0NdO1xyXG4gICAgICAgICAgYltDXSA9IFRlKFgoe30sIFMpLCB7XHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogJC50aW1lc3RhbXAsXHJcbiAgICAgICAgICAgIGVkaXRUaW1lc3RhbXA6IFMudGltZXN0YW1wXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFsuLi5iXTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gWy4uLmIsIFNdO1xyXG4gICAgfSwgW10pLFxyXG4gICAgTnQodSlcclxuICApLCBoID0gbmV3IGxuKCExKSwgeCA9IChhID0gdCA9PSBudWxsID8gdm9pZCAwIDogdC5tZXNzYWdlRW5jb2RlcikgIT0gbnVsbCA/IGEgOiB5bywgRSA9IChiLCBTKSA9PiBWKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICB2YXIgQztcclxuICAgIFMgfHwgKFMgPSB7fSksIChDID0gUy50b3BpYykgIT0gbnVsbCB8fCAoUy50b3BpYyA9IGwpLCBoLm5leHQoITApO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgSSA9IHtcclxuICAgICAgICBpZDogKHlpZWxkIGUubG9jYWxQYXJ0aWNpcGFudC5zZW5kVGV4dChiLCBTKSkuaWQsXHJcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgIG1lc3NhZ2U6IGIsXHJcbiAgICAgICAgZnJvbTogZS5sb2NhbFBhcnRpY2lwYW50LFxyXG4gICAgICAgIGF0dGFjaGVkRmlsZXM6IFMuYXR0YWNobWVudHNcclxuICAgICAgfTtcclxuICAgICAgbS5uZXh0KEkpO1xyXG4gICAgICBjb25zdCB6ID0geChUZShYKHt9LCBJKSwge1xyXG4gICAgICAgIGlnbm9yZUxlZ2FjeTogYygpXHJcbiAgICAgIH0pKTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICB5aWVsZCBSbihlLmxvY2FsUGFydGljaXBhbnQsIHosIHtcclxuICAgICAgICAgIHJlbGlhYmxlOiAhMCxcclxuICAgICAgICAgIHRvcGljOiBmXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKFQpIHtcclxuICAgICAgICBfLmluZm8oXCJjb3VsZCBub3Qgc2VuZCBtZXNzYWdlIGluIGxlZ2FjeSBjaGF0IGZvcm1hdFwiLCBUKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gSTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIGgubmV4dCghMSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgZnVuY3Rpb24gUCgpIHtcclxuICAgIHUubmV4dCgpLCB1LmNvbXBsZXRlKCksIG0uY29tcGxldGUoKSwgSWUuZGVsZXRlKGUpLCBlLnVucmVnaXN0ZXJUZXh0U3RyZWFtSGFuZGxlcihsKTtcclxuICB9XHJcbiAgcmV0dXJuIGUub25jZSh5LkRpc2Nvbm5lY3RlZCwgUCksIHtcclxuICAgIG1lc3NhZ2VPYnNlcnZhYmxlOiBnLFxyXG4gICAgaXNTZW5kaW5nT2JzZXJ2YWJsZTogaCxcclxuICAgIHNlbmQ6IEVcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIHhzKCkge1xyXG4gIGNvbnN0IGUgPSAobikgPT4gVih0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xyXG4gICAgXy5pbmZvKFwiU3RhcnQgQXVkaW8gZm9yIHJvb206IFwiLCBuKSwgeWllbGQgbi5zdGFydEF1ZGlvKCk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiBGKFwic3RhcnQtYXVkaW8tYnV0dG9uXCIpLCByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlOiBhbywgaGFuZGxlU3RhcnRBdWRpb1BsYXliYWNrOiBlIH07XHJcbn1cclxuZnVuY3Rpb24gU3MoKSB7XHJcbiAgY29uc3QgZSA9IChuKSA9PiBWKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICBfLmluZm8oXCJTdGFydCBWaWRlbyBmb3Igcm9vbTogXCIsIG4pLCB5aWVsZCBuLnN0YXJ0VmlkZW8oKTtcclxuICB9KTtcclxuICByZXR1cm4geyBjbGFzc05hbWU6IEYoXCJzdGFydC1hdWRpby1idXR0b25cIiksIHJvb21WaWRlb1BsYXliYWNrQWxsb3dlZE9ic2VydmFibGU6IGNvLCBoYW5kbGVTdGFydFZpZGVvUGxheWJhY2s6IGUgfTtcclxufVxyXG5mdW5jdGlvbiBUcygpIHtcclxuICByZXR1cm4geyBjbGFzc05hbWU6IFtGKFwiYnV0dG9uXCIpLCBGKFwiY2hhdC10b2dnbGVcIildLmpvaW4oXCIgXCIpIH07XHJcbn1cclxuZnVuY3Rpb24gRXMoKSB7XHJcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiBbRihcImJ1dHRvblwiKSwgRihcImZvY3VzLXRvZ2dsZS1idXR0b25cIildLmpvaW4oXCIgXCIpIH07XHJcbn1cclxuZnVuY3Rpb24gQ3MoKSB7XHJcbiAgcmV0dXJuIHsgY2xhc3NOYW1lOiBcImxrLWNsZWFyLXBpbi1idXR0b24gbGstYnV0dG9uXCIgfTtcclxufVxyXG5mdW5jdGlvbiBQcygpIHtcclxuICByZXR1cm4geyBjbGFzc05hbWU6IFwibGstcm9vbS1jb250YWluZXJcIiB9O1xyXG59XHJcbmZ1bmN0aW9uIFZ0KGUsIHQsIG4gPSAhMCkge1xyXG4gIGNvbnN0IGkgPSBbZS5sb2NhbFBhcnRpY2lwYW50LCAuLi5BcnJheS5mcm9tKGUucmVtb3RlUGFydGljaXBhbnRzLnZhbHVlcygpKV0sIG8gPSBbXTtcclxuICByZXR1cm4gaS5mb3JFYWNoKChzKSA9PiB7XHJcbiAgICB0LmZvckVhY2goKGEpID0+IHtcclxuICAgICAgY29uc3QgYyA9IEFycmF5LmZyb20oXHJcbiAgICAgICAgcy50cmFja1B1YmxpY2F0aW9ucy52YWx1ZXMoKVxyXG4gICAgICApLmZpbHRlcihcclxuICAgICAgICAodSkgPT4gdS5zb3VyY2UgPT09IGEgJiYgLy8gZWl0aGVyIHJldHVybiBhbGwgb3Igb25seSB0aGUgb25lcyB0aGF0IGFyZSBzdWJzY3JpYmVkXHJcbiAgICAgICAgKCFuIHx8IHUudHJhY2spXHJcbiAgICAgICkubWFwKCh1KSA9PiAoe1xyXG4gICAgICAgIHBhcnRpY2lwYW50OiBzLFxyXG4gICAgICAgIHB1YmxpY2F0aW9uOiB1LFxyXG4gICAgICAgIHNvdXJjZTogdS5zb3VyY2VcclxuICAgICAgfSkpO1xyXG4gICAgICBvLnB1c2goLi4uYyk7XHJcbiAgICB9KTtcclxuICB9KSwgeyB0cmFja1JlZmVyZW5jZXM6IG8sIHBhcnRpY2lwYW50czogaSB9O1xyXG59XHJcbmZ1bmN0aW9uIEh0KGUsIHQsIG4gPSAhMSkge1xyXG4gIGNvbnN0IHsgc291cmNlczogciwga2luZDogaSwgbmFtZTogbyB9ID0gdDtcclxuICByZXR1cm4gQXJyYXkuZnJvbShlLnRyYWNrUHVibGljYXRpb25zLnZhbHVlcygpKS5maWx0ZXIoXHJcbiAgICAoYSkgPT4gKCFyIHx8IHIuaW5jbHVkZXMoYS5zb3VyY2UpKSAmJiAoIWkgfHwgYS5raW5kID09PSBpKSAmJiAoIW8gfHwgYS50cmFja05hbWUgPT09IG8pICYmIC8vIGVpdGhlciByZXR1cm4gYWxsIG9yIG9ubHkgdGhlIG9uZXMgdGhhdCBhcmUgc3Vic2NyaWJlZFxyXG4gICAgKCFuIHx8IGEudHJhY2spXHJcbiAgKS5tYXAoKGEpID0+ICh7XHJcbiAgICBwYXJ0aWNpcGFudDogZSxcclxuICAgIHB1YmxpY2F0aW9uOiBhLFxyXG4gICAgc291cmNlOiBhLnNvdXJjZVxyXG4gIH0pKTtcclxufVxyXG5mdW5jdGlvbiBBcyhlLCB0LCBuKSB7XHJcbiAgdmFyIHIsIGk7XHJcbiAgY29uc3QgbyA9IChyID0gbi5hZGRpdGlvbmFsUm9vbUV2ZW50cykgIT0gbnVsbCA/IHIgOiBDbiwgcyA9IChpID0gbi5vbmx5U3Vic2NyaWJlZCkgIT0gbnVsbCA/IGkgOiAhMCwgYSA9IEFycmF5LmZyb20oXHJcbiAgICAoLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xyXG4gICAgICB5LlBhcnRpY2lwYW50Q29ubmVjdGVkLFxyXG4gICAgICB5LlBhcnRpY2lwYW50RGlzY29ubmVjdGVkLFxyXG4gICAgICB5LkNvbm5lY3Rpb25TdGF0ZUNoYW5nZWQsXHJcbiAgICAgIHkuTG9jYWxUcmFja1B1Ymxpc2hlZCxcclxuICAgICAgeS5Mb2NhbFRyYWNrVW5wdWJsaXNoZWQsXHJcbiAgICAgIHkuVHJhY2tQdWJsaXNoZWQsXHJcbiAgICAgIHkuVHJhY2tVbnB1Ymxpc2hlZCxcclxuICAgICAgeS5UcmFja1N1YnNjcmlwdGlvblN0YXR1c0NoYW5nZWQsXHJcbiAgICAgIC4uLm9cclxuICAgIF0pKS52YWx1ZXMoKVxyXG4gICk7XHJcbiAgcmV0dXJuIGxlKGUsIC4uLmEpLnBpcGUoXHJcbiAgICBPKCh1KSA9PiB7XHJcbiAgICAgIGNvbnN0IGwgPSBWdCh1LCB0LCBzKTtcclxuICAgICAgcmV0dXJuIF8uZGVidWcoYFRyYWNrUmVmZXJlbmNlW10gd2FzIHVwZGF0ZWQuIChsZW5ndGggJHtsLnRyYWNrUmVmZXJlbmNlcy5sZW5ndGh9KWAsIGwpLCBsO1xyXG4gICAgfSksXHJcbiAgICBEKFZ0KGUsIHQsIHMpKVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gT3MoZSwgdCkge1xyXG4gIHJldHVybiB3ZShlLCAuLi5IaSkucGlwZShcclxuICAgIE8oKHIpID0+IHtcclxuICAgICAgY29uc3QgaSA9IEh0KHIsIHQpO1xyXG4gICAgICByZXR1cm4gXy5kZWJ1ZyhgVHJhY2tSZWZlcmVuY2VbXSB3YXMgdXBkYXRlZC4gKGxlbmd0aCAke2kubGVuZ3RofSlgLCBpKSwgaTtcclxuICAgIH0pLFxyXG4gICAgRChIdChlLCB0KSlcclxuICApO1xyXG59XHJcbmZ1bmN0aW9uIE1uKGUsIHQpIHtcclxuICByZXR1cm4gbmV3IGsoKHIpID0+IHtcclxuICAgIGNvbnN0IGkgPSAoLi4ucykgPT4ge1xyXG4gICAgICByLm5leHQocyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGUub24odCwgaSksICgpID0+IHtcclxuICAgICAgZS5vZmYodCwgaSk7XHJcbiAgICB9O1xyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGtzKGUpIHtcclxuICByZXR1cm4gTW4oZSwgWXQuVHJhbnNjcmlwdGlvblJlY2VpdmVkKTtcclxufVxyXG5mdW5jdGlvbiBMcyhlKSB7XHJcbiAgcmV0dXJuIE1uKGUsIFl0LlRpbWVTeW5jVXBkYXRlKS5waXBlKFxyXG4gICAgTygoW3RdKSA9PiB0KVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gX3MoZSwgdCA9IDFlMykge1xyXG4gIGlmIChlID09PSBudWxsKSByZXR1cm4gRHQoITEpO1xyXG4gIGNvbnN0IG4gPSBhdChlLCBcIm1vdXNlbW92ZVwiLCB7IHBhc3NpdmU6ICEwIH0pLnBpcGUoTygoKSA9PiAhMCkpLCByID0gbi5waXBlKFxyXG4gICAgaGkoe1xyXG4gICAgICBlYWNoOiB0LFxyXG4gICAgICB3aXRoOiAoKSA9PiBXZShEdCghMSksIHIucGlwZShJaShuKSkpXHJcbiAgICB9KSxcclxuICAgIGtpKClcclxuICApO1xyXG4gIHJldHVybiByO1xyXG59XHJcbmZ1bmN0aW9uIHdvKGUsIHQpIHtcclxuICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSA+IFwidVwiKSB7XHJcbiAgICBfLmVycm9yKFwiTG9jYWwgc3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGlmICh0KSB7XHJcbiAgICAgIGNvbnN0IG4gPSBPYmplY3QuZnJvbUVudHJpZXMoXHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXModCkuZmlsdGVyKChbLCByXSkgPT4gciAhPT0gXCJcIilcclxuICAgICAgKTtcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZSwgSlNPTi5zdHJpbmdpZnkobikpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKG4pIHtcclxuICAgIF8uZXJyb3IoYEVycm9yIHNldHRpbmcgaXRlbSB0byBsb2NhbCBzdG9yYWdlOiAke259YCk7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIHhvKGUpIHtcclxuICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSA+IFwidVwiKSB7XHJcbiAgICBfLmVycm9yKFwiTG9jYWwgc3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLlwiKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKTtcclxuICAgIGlmICghdCkge1xyXG4gICAgICBfLndhcm4oYEl0ZW0gd2l0aCBrZXkgJHtlfSBkb2VzIG5vdCBleGlzdCBpbiBsb2NhbCBzdG9yYWdlLmApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh0KTtcclxuICB9IGNhdGNoICh0KSB7XHJcbiAgICBfLmVycm9yKGBFcnJvciBnZXR0aW5nIGl0ZW0gZnJvbSBsb2NhbCBzdG9yYWdlOiAke3R9YCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIFNvKGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgbG9hZDogKCkgPT4geG8oZSksXHJcbiAgICBzYXZlOiAodCkgPT4gd28oZSwgdClcclxuICB9O1xyXG59XHJcbnZhciBUbyA9IGAke0VufS11c2VyLWNob2ljZXNgLCBTZSA9IHtcclxuICB2aWRlb0VuYWJsZWQ6ICEwLFxyXG4gIGF1ZGlvRW5hYmxlZDogITAsXHJcbiAgdmlkZW9EZXZpY2VJZDogXCJkZWZhdWx0XCIsXHJcbiAgYXVkaW9EZXZpY2VJZDogXCJkZWZhdWx0XCIsXHJcbiAgdXNlcm5hbWU6IFwiXCJcclxufSwgeyBsb2FkOiBFbywgc2F2ZTogQ28gfSA9IFNvKFRvKTtcclxuZnVuY3Rpb24gSXMoZSwgdCA9ICExKSB7XHJcbiAgdCAhPT0gITAgJiYgQ28oZSk7XHJcbn1cclxuZnVuY3Rpb24gUnMoZSwgdCA9ICExKSB7XHJcbiAgdmFyIG4sIHIsIGksIG8sIHM7XHJcbiAgY29uc3QgYSA9IHtcclxuICAgIHZpZGVvRW5hYmxlZDogKG4gPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnZpZGVvRW5hYmxlZCkgIT0gbnVsbCA/IG4gOiBTZS52aWRlb0VuYWJsZWQsXHJcbiAgICBhdWRpb0VuYWJsZWQ6IChyID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS5hdWRpb0VuYWJsZWQpICE9IG51bGwgPyByIDogU2UuYXVkaW9FbmFibGVkLFxyXG4gICAgdmlkZW9EZXZpY2VJZDogKGkgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnZpZGVvRGV2aWNlSWQpICE9IG51bGwgPyBpIDogU2UudmlkZW9EZXZpY2VJZCxcclxuICAgIGF1ZGlvRGV2aWNlSWQ6IChvID0gZSA9PSBudWxsID8gdm9pZCAwIDogZS5hdWRpb0RldmljZUlkKSAhPSBudWxsID8gbyA6IFNlLmF1ZGlvRGV2aWNlSWQsXHJcbiAgICB1c2VybmFtZTogKHMgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnVzZXJuYW1lKSAhPSBudWxsID8gcyA6IFNlLnVzZXJuYW1lXHJcbiAgfTtcclxuICBpZiAodClcclxuICAgIHJldHVybiBhO1xyXG4gIHtcclxuICAgIGNvbnN0IGMgPSBFbygpO1xyXG4gICAgcmV0dXJuIFgoWCh7fSwgYSksIGMgPz8ge30pO1xyXG4gIH1cclxufVxyXG52YXIgbnQgPSBudWxsLCBydCA9IG51bGwsIFBvID0gMDtcclxuZnVuY3Rpb24genQoKSB7XHJcbiAgcmV0dXJuIG50IHx8IChudCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpLCBudDtcclxufVxyXG5mdW5jdGlvbiBBbygpIHtcclxuICByZXR1cm4gcnQgfHwgKHJ0ID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCkpLCBydDtcclxufVxyXG5mdW5jdGlvbiBPbyhlLCB0KSB7XHJcbiAgY29uc3QgbiA9IEFvKCk7XHJcbiAgbGV0IHIgPSBuLmdldChlKTtcclxuICByZXR1cm4gciB8fCAociA9IGByb29tXyR7UG8rK31gLCBuLnNldChlLCByKSksIGAke3J9OiR7dH1gO1xyXG59XHJcbmZ1bmN0aW9uIE1zKGUsIHQpIHtcclxuICBjb25zdCBuID0gT28oZSwgdCksIHIgPSB6dCgpLCBpID0gci5nZXQobik7XHJcbiAgaWYgKGkpXHJcbiAgICByZXR1cm4gaTtcclxuICBjb25zdCBvID0gbmV3IFooKSwgcyA9IFtdLCBhID0gXCJsay5zZWdtZW50X2lkXCI7XHJcbiAgZS5yZWdpc3RlclRleHRTdHJlYW1IYW5kbGVyKHQsICh1LCBsKSA9PiBWKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICB2YXIgZjtcclxuICAgIGNvbnN0IHYgPSBHZSh1KS5waXBlKFxyXG4gICAgICBjdCgobSwgcCkgPT4gbSArIHAsIFwiXCIpXHJcbiAgICApLCBkID0gISEoKGYgPSB1LmluZm8uYXR0cmlidXRlcykgIT0gbnVsbCAmJiBmW2FdKTtcclxuICAgIHYuc3Vic2NyaWJlKChtKSA9PiB7XHJcbiAgICAgIGNvbnN0IHAgPSBzLmZpbmRJbmRleChcclxuICAgICAgICAoZykgPT4ge1xyXG4gICAgICAgICAgdmFyIGgsIHg7XHJcbiAgICAgICAgICByZXR1cm4gZy5zdHJlYW1JbmZvLmlkID09PSB1LmluZm8uaWQgfHwgZCAmJiAoKGggPSBnLnN0cmVhbUluZm8uYXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IGhbYV0pID09PSAoKHggPSB1LmluZm8uYXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IHhbYV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgcCAhPT0gLTEgPyAoc1twXSA9IFRlKFgoe30sIHNbcF0pLCB7XHJcbiAgICAgICAgdGV4dDogbVxyXG4gICAgICB9KSwgby5uZXh0KFsuLi5zXSkpIDogKHMucHVzaCh7XHJcbiAgICAgICAgdGV4dDogbSxcclxuICAgICAgICBwYXJ0aWNpcGFudEluZm86IGwsXHJcbiAgICAgICAgc3RyZWFtSW5mbzogdS5pbmZvXHJcbiAgICAgIH0pLCBvLm5leHQoWy4uLnNdKSk7XHJcbiAgICB9KTtcclxuICB9KSk7XHJcbiAgY29uc3QgYyA9IG8uYXNPYnNlcnZhYmxlKCkucGlwZShfaSgpKTtcclxuICByZXR1cm4gci5zZXQobiwgYyksIGUub25jZSh5LkRpc2Nvbm5lY3RlZCwgKCkgPT4ge1xyXG4gICAgZS51bnJlZ2lzdGVyVGV4dFN0cmVhbUhhbmRsZXIodCksIG8uY29tcGxldGUoKSwgenQoKS5kZWxldGUobik7XHJcbiAgfSksIGM7XHJcbn1cclxuZnVuY3Rpb24gRG4oZSwgdCkge1xyXG4gIGlmICh0Lm1zZyA9PT0gXCJzaG93X2NoYXRcIilcclxuICAgIHJldHVybiB7IC4uLmUsIHNob3dDaGF0OiAhMCwgdW5yZWFkTWVzc2FnZXM6IDAgfTtcclxuICBpZiAodC5tc2cgPT09IFwiaGlkZV9jaGF0XCIpXHJcbiAgICByZXR1cm4geyAuLi5lLCBzaG93Q2hhdDogITEgfTtcclxuICBpZiAodC5tc2cgPT09IFwidG9nZ2xlX2NoYXRcIikge1xyXG4gICAgY29uc3QgbiA9IHsgLi4uZSwgc2hvd0NoYXQ6ICFlLnNob3dDaGF0IH07XHJcbiAgICByZXR1cm4gbi5zaG93Q2hhdCA9PT0gITAgJiYgKG4udW5yZWFkTWVzc2FnZXMgPSAwKSwgbjtcclxuICB9IGVsc2UgcmV0dXJuIHQubXNnID09PSBcInVucmVhZF9tc2dcIiA/IHsgLi4uZSwgdW5yZWFkTWVzc2FnZXM6IHQuY291bnQgfSA6IHQubXNnID09PSBcInRvZ2dsZV9zZXR0aW5nc1wiID8geyAuLi5lLCBzaG93U2V0dGluZ3M6ICFlLnNob3dTZXR0aW5ncyB9IDogeyAuLi5lIH07XHJcbn1cclxuZnVuY3Rpb24gJG4oZSwgdCkge1xyXG4gIHJldHVybiB0Lm1zZyA9PT0gXCJzZXRfcGluXCIgPyBbdC50cmFja1JlZmVyZW5jZV0gOiB0Lm1zZyA9PT0gXCJjbGVhcl9waW5cIiA/IFtdIDogeyAuLi5lIH07XHJcbn1cclxuY29uc3QgTm4gPSBSLmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcclxuZnVuY3Rpb24gRHMoKSB7XHJcbiAgY29uc3QgZSA9IFIudXNlQ29udGV4dChObik7XHJcbiAgaWYgKCFlKVxyXG4gICAgdGhyb3cgRXJyb3IoXCJUcmllZCB0byBhY2Nlc3MgTGF5b3V0Q29udGV4dCBjb250ZXh0IG91dHNpZGUgYSBMYXlvdXRDb250ZXh0UHJvdmlkZXIgcHJvdmlkZXIuXCIpO1xyXG4gIHJldHVybiBlO1xyXG59XHJcbmZ1bmN0aW9uICRzKGUpIHtcclxuICBjb25zdCB0ID0ga28oKTtcclxuICBpZiAoZSA/PyAoZSA9IHQpLCAhZSlcclxuICAgIHRocm93IEVycm9yKFwiVHJpZWQgdG8gYWNjZXNzIExheW91dENvbnRleHQgY29udGV4dCBvdXRzaWRlIGEgTGF5b3V0Q29udGV4dFByb3ZpZGVyIHByb3ZpZGVyLlwiKTtcclxuICByZXR1cm4gZTtcclxufVxyXG5mdW5jdGlvbiBOcygpIHtcclxuICBjb25zdCBbZSwgdF0gPSBSLnVzZVJlZHVjZXIoJG4sIEFuKSwgW24sIHJdID0gUi51c2VSZWR1Y2VyKERuLCBPbik7XHJcbiAgcmV0dXJuIHtcclxuICAgIHBpbjogeyBkaXNwYXRjaDogdCwgc3RhdGU6IGUgfSxcclxuICAgIHdpZGdldDogeyBkaXNwYXRjaDogciwgc3RhdGU6IG4gfVxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gRnMoZSkge1xyXG4gIGNvbnN0IFt0LCBuXSA9IFIudXNlUmVkdWNlcigkbiwgQW4pLCBbciwgaV0gPSBSLnVzZVJlZHVjZXIoRG4sIE9uKTtcclxuICByZXR1cm4gZSA/PyB7XHJcbiAgICBwaW46IHsgZGlzcGF0Y2g6IG4sIHN0YXRlOiB0IH0sXHJcbiAgICB3aWRnZXQ6IHsgZGlzcGF0Y2g6IGksIHN0YXRlOiByIH1cclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIGtvKCkge1xyXG4gIHJldHVybiBSLnVzZUNvbnRleHQoTm4pO1xyXG59XHJcbmNvbnN0IEZuID0gUi5jcmVhdGVDb250ZXh0KFxyXG4gIHZvaWQgMFxyXG4pO1xyXG5mdW5jdGlvbiBVcygpIHtcclxuICBjb25zdCBlID0gUi51c2VDb250ZXh0KEZuKTtcclxuICBpZiAoIWUpXHJcbiAgICB0aHJvdyBFcnJvcihcInRyaWVkIHRvIGFjY2VzcyB0cmFjayBjb250ZXh0IG91dHNpZGUgb2YgdHJhY2sgY29udGV4dCBwcm92aWRlclwiKTtcclxuICByZXR1cm4gZTtcclxufVxyXG5mdW5jdGlvbiBVbigpIHtcclxuICByZXR1cm4gUi51c2VDb250ZXh0KEZuKTtcclxufVxyXG5mdW5jdGlvbiBqcyhlKSB7XHJcbiAgY29uc3QgdCA9IFVuKCksIG4gPSBlID8/IHQ7XHJcbiAgaWYgKCFuKVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBcIk5vIFRyYWNrUmVmLCBtYWtlIHN1cmUgeW91IGFyZSBpbnNpZGUgYSBUcmFja1JlZkNvbnRleHQgb3IgcGFzcyB0aGUgVHJhY2tSZWYgZXhwbGljaXRseVwiXHJcbiAgICApO1xyXG4gIHJldHVybiBuO1xyXG59XHJcbmNvbnN0IGpuID0gUi5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XHJcbmZ1bmN0aW9uIFdzKCkge1xyXG4gIGNvbnN0IGUgPSBSLnVzZUNvbnRleHQoam4pO1xyXG4gIGlmICghZSlcclxuICAgIHRocm93IEVycm9yKFwidHJpZWQgdG8gYWNjZXNzIHBhcnRpY2lwYW50IGNvbnRleHQgb3V0c2lkZSBvZiBwYXJ0aWNpcGFudCBjb250ZXh0IHByb3ZpZGVyXCIpO1xyXG4gIHJldHVybiBlO1xyXG59XHJcbmZ1bmN0aW9uIExvKCkge1xyXG4gIHJldHVybiBSLnVzZUNvbnRleHQoam4pO1xyXG59XHJcbmZ1bmN0aW9uIEJzKGUpIHtcclxuICBjb25zdCB0ID0gTG8oKSwgbiA9IFVuKCksIHIgPSBlID8/IHQgPz8gKG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4ucGFydGljaXBhbnQpO1xyXG4gIGlmICghcilcclxuICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgXCJObyBwYXJ0aWNpcGFudCBwcm92aWRlZCwgbWFrZSBzdXJlIHlvdSBhcmUgaW5zaWRlIGEgcGFydGljaXBhbnQgY29udGV4dCBvciBwYXNzIHRoZSBwYXJ0aWNpcGFudCBleHBsaWNpdGx5XCJcclxuICAgICk7XHJcbiAgcmV0dXJuIHI7XHJcbn1cclxuY29uc3QgV24gPSBSLmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcclxuZnVuY3Rpb24gVnMoKSB7XHJcbiAgY29uc3QgZSA9IFIudXNlQ29udGV4dChXbik7XHJcbiAgaWYgKCFlKVxyXG4gICAgdGhyb3cgRXJyb3IoXCJ0cmllZCB0byBhY2Nlc3Mgcm9vbSBjb250ZXh0IG91dHNpZGUgb2YgbGl2ZWtpdCByb29tIGNvbXBvbmVudFwiKTtcclxuICByZXR1cm4gZTtcclxufVxyXG5mdW5jdGlvbiBfbygpIHtcclxuICByZXR1cm4gUi51c2VDb250ZXh0KFduKTtcclxufVxyXG5mdW5jdGlvbiBIcyhlKSB7XHJcbiAgY29uc3QgdCA9IF9vKCksIG4gPSBlID8/IHQ7XHJcbiAgaWYgKCFuKVxyXG4gICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICBcIk5vIHJvb20gcHJvdmlkZWQsIG1ha2Ugc3VyZSB5b3UgYXJlIGluc2lkZSBhIFJvb20gY29udGV4dCBvciBwYXNzIHRoZSByb29tIGV4cGxpY2l0bHlcIlxyXG4gICAgKTtcclxuICByZXR1cm4gbjtcclxufVxyXG5jb25zdCBJbyA9IFIuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xyXG5mdW5jdGlvbiB6cyhlKSB7XHJcbiAgY29uc3QgdCA9IFIudXNlQ29udGV4dChJbyk7XHJcbiAgaWYgKGUgPT09ICEwKSB7XHJcbiAgICBpZiAodClcclxuICAgICAgcmV0dXJuIHQ7XHJcbiAgICB0aHJvdyBFcnJvcihcInRyaWVkIHRvIGFjY2VzcyBmZWF0dXJlIGNvbnRleHQsIGJ1dCBub25lIGlzIHByZXNlbnRcIik7XHJcbiAgfVxyXG4gIHJldHVybiB0O1xyXG59XHJcbmV4cG9ydCB7XHJcbiAgSXMgYXMgJCxcclxuICBYbyBhcyBBLFxyXG4gIExvIGFzIEIsXHJcbiAgbG8gYXMgQyxcclxuICB5cyBhcyBELFxyXG4gIGFzIGFzIEUsXHJcbiAgJHMgYXMgRixcclxuICB6byBhcyBHLFxyXG4gIGNzIGFzIEgsXHJcbiAgbHMgYXMgSSxcclxuICB0cyBhcyBKLFxyXG4gIG5zIGFzIEssXHJcbiAgSW8gYXMgTCxcclxuICBKbyBhcyBNLFxyXG4gIHhzIGFzIE4sXHJcbiAgU3MgYXMgTyxcclxuICBUcyBhcyBQLFxyXG4gIGdzIGFzIFEsXHJcbiAgV24gYXMgUixcclxuICBkcyBhcyBTLFxyXG4gIHBzIGFzIFQsXHJcbiAgS2kgYXMgVSxcclxuICBBcyBhcyBWLFxyXG4gIEdvIGFzIFcsXHJcbiAgQnQgYXMgWCxcclxuICBabyBhcyBZLFxyXG4gIHdzIGFzIFosXHJcbiAgUnMgYXMgXyxcclxuICBEcyBhcyBhLFxyXG4gIGlzIGFzIGEwLFxyXG4gIGogYXMgYTEsXHJcbiAgT3MgYXMgYTIsXHJcbiAgTHMgYXMgYTMsXHJcbiAga3MgYXMgYTQsXHJcbiAgS28gYXMgYTUsXHJcbiAgcW8gYXMgYTYsXHJcbiAgZnMgYXMgYTcsXHJcbiAgb3MgYXMgYTgsXHJcbiAgTXMgYXMgYTksXHJcbiAgaG8gYXMgYWEsXHJcbiAgVW4gYXMgYWIsXHJcbiAgTm4gYXMgYWMsXHJcbiAgYnMgYXMgYWQsXHJcbiAgTW8gYXMgYWUsXHJcbiAgQXIgYXMgYWYsXHJcbiAgam4gYXMgYWcsXHJcbiAgRm4gYXMgYWgsXHJcbiAgenMgYXMgYWksXHJcbiAgX3MgYXMgYWosXHJcbiAgTm8gYXMgYWssXHJcbiAgRnMgYXMgYWwsXHJcbiAgQm8gYXMgYW0sXHJcbiAgV28gYXMgYW4sXHJcbiAgVW8gYXMgYW8sXHJcbiAgam8gYXMgYXAsXHJcbiAgWW8gYXMgYXEsXHJcbiAgTnMgYXMgYXIsXHJcbiAgRG8gYXMgYXMsXHJcbiAgRm8gYXMgYXQsXHJcbiAgVm8gYXMgYXUsXHJcbiAgSG8gYXMgYXYsXHJcbiAgV3MgYXMgYXcsXHJcbiAgVXMgYXMgYXgsXHJcbiAgQ3MgYXMgYixcclxuICBCcyBhcyBjLFxyXG4gIG1zIGFzIGQsXHJcbiAgZXMgYXMgZSxcclxuICBWcyBhcyBmLFxyXG4gIG1vIGFzIGcsXHJcbiAgdnMgYXMgaCxcclxuICBqcyBhcyBpLFxyXG4gIGtvIGFzIGosXHJcbiAgRXMgYXMgayxcclxuICBfIGFzIGwsXHJcbiAgJG8gYXMgbSxcclxuICBZaSBhcyBuLFxyXG4gIHBvIGFzIG8sXHJcbiAgTiBhcyBwLFxyXG4gIHNzIGFzIHEsXHJcbiAgYW8gYXMgcixcclxuICBQcyBhcyBzLFxyXG4gIEluIGFzIHQsXHJcbiAgSHMgYXMgdSxcclxuICB1cyBhcyB2LFxyXG4gIF9vIGFzIHcsXHJcbiAgcnMgYXMgeCxcclxuICBocyBhcyB5LFxyXG4gIFFvIGFzIHpcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dHMtQ20xYVNCVHMubWpzLm1hcFxyXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/dist/contexts-Cm1aSBTs.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/dist/hooks-OJtwh4jO.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@livekit/components-react/dist/hooks-OJtwh4jO.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ At),\n/* harmony export */   B: () => (/* binding */ Ft),\n/* harmony export */   C: () => (/* binding */ et),\n/* harmony export */   D: () => (/* binding */ Mt),\n/* harmony export */   E: () => (/* binding */ kt),\n/* harmony export */   F: () => (/* binding */ Ze),\n/* harmony export */   G: () => (/* binding */ z),\n/* harmony export */   H: () => (/* binding */ Ke),\n/* harmony export */   I: () => (/* binding */ Dt),\n/* harmony export */   J: () => (/* binding */ Lt),\n/* harmony export */   K: () => (/* binding */ Nt),\n/* harmony export */   L: () => (/* binding */ Vt),\n/* harmony export */   M: () => (/* binding */ H),\n/* harmony export */   N: () => (/* binding */ Bt),\n/* harmony export */   O: () => (/* binding */ nt),\n/* harmony export */   P: () => (/* binding */ xt),\n/* harmony export */   Q: () => (/* binding */ $t),\n/* harmony export */   R: () => (/* binding */ Yt),\n/* harmony export */   S: () => (/* binding */ Kt),\n/* harmony export */   T: () => (/* binding */ q),\n/* harmony export */   U: () => (/* binding */ pt),\n/* harmony export */   V: () => (/* binding */ tn),\n/* harmony export */   W: () => (/* binding */ bt),\n/* harmony export */   X: () => (/* binding */ en),\n/* harmony export */   Y: () => (/* binding */ nn),\n/* harmony export */   Z: () => (/* binding */ mt),\n/* harmony export */   _: () => (/* binding */ sn),\n/* harmony export */   a: () => (/* binding */ I),\n/* harmony export */   b: () => (/* binding */ Jt),\n/* harmony export */   c: () => (/* binding */ Tt),\n/* harmony export */   d: () => (/* binding */ Et),\n/* harmony export */   e: () => (/* binding */ Ct),\n/* harmony export */   f: () => (/* binding */ zt),\n/* harmony export */   g: () => (/* binding */ Ut),\n/* harmony export */   h: () => (/* binding */ Gt),\n/* harmony export */   i: () => (/* binding */ Pt),\n/* harmony export */   j: () => (/* binding */ b),\n/* harmony export */   k: () => (/* binding */ Wt),\n/* harmony export */   l: () => (/* binding */ Rt),\n/* harmony export */   m: () => (/* binding */ Xt),\n/* harmony export */   n: () => (/* binding */ wt),\n/* harmony export */   o: () => (/* binding */ Ot),\n/* harmony export */   p: () => (/* binding */ qt),\n/* harmony export */   q: () => (/* binding */ Ye),\n/* harmony export */   r: () => (/* binding */ tt),\n/* harmony export */   s: () => (/* binding */ Zt),\n/* harmony export */   t: () => (/* binding */ Qt),\n/* harmony export */   u: () => (/* binding */ yt),\n/* harmony export */   v: () => (/* binding */ _t),\n/* harmony export */   w: () => (/* binding */ Ht),\n/* harmony export */   x: () => (/* binding */ jt),\n/* harmony export */   y: () => (/* binding */ It),\n/* harmony export */   z: () => (/* binding */ ht)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contexts-Cm1aSBTs.mjs */ \"(ssr)/./node_modules/@livekit/components-react/dist/contexts-Cm1aSBTs.mjs\");\n/* harmony import */ var _room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./room-889cObLb.mjs */ \"(ssr)/./node_modules/@livekit/components-react/dist/room-889cObLb.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n\r\n\r\n\r\n\r\nconst $e = (e) => {\r\n  const t = react__WEBPACK_IMPORTED_MODULE_0__.useRef(e);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    t.current = e;\r\n  }), t;\r\n};\r\nfunction He(e, t) {\r\n  const n = Xe(), a = $e(t);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\r\n    let s = !1;\r\n    const c = e.current;\r\n    if (!c) return;\r\n    function o(u, i) {\r\n      s || a.current(u, i);\r\n    }\r\n    return n == null || n.subscribe(c, o), () => {\r\n      s = !0, n == null || n.unsubscribe(c, o);\r\n    };\r\n  }, [e.current, n, a]), n == null ? void 0 : n.observer;\r\n}\r\nfunction je() {\r\n  let e = !1, t = [];\r\n  const n = /* @__PURE__ */ new Map();\r\n  if (typeof window > \"u\")\r\n    return;\r\n  const a = new ResizeObserver((s, c) => {\r\n    t = t.concat(s), e || window.requestAnimationFrame(() => {\r\n      const o = /* @__PURE__ */ new Set();\r\n      for (let u = 0; u < t.length; u++) {\r\n        if (o.has(t[u].target)) continue;\r\n        o.add(t[u].target);\r\n        const i = n.get(t[u].target);\r\n        i == null || i.forEach((d) => d(t[u], c));\r\n      }\r\n      t = [], e = !1;\r\n    }), e = !0;\r\n  });\r\n  return {\r\n    observer: a,\r\n    subscribe(s, c) {\r\n      a.observe(s);\r\n      const o = n.get(s) ?? [];\r\n      o.push(c), n.set(s, o);\r\n    },\r\n    unsubscribe(s, c) {\r\n      const o = n.get(s) ?? [];\r\n      if (o.length === 1) {\r\n        a.unobserve(s), n.delete(s);\r\n        return;\r\n      }\r\n      const u = o.indexOf(c);\r\n      u !== -1 && o.splice(u, 1), n.set(s, o);\r\n    }\r\n  };\r\n}\r\nlet D;\r\nconst Xe = () => D || (D = je()), Ye = (e) => {\r\n  const [t, n] = react__WEBPACK_IMPORTED_MODULE_0__.useState({ width: 0, height: 0 });\r\n  react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect(() => {\r\n    if (e.current) {\r\n      const { width: s, height: c } = e.current.getBoundingClientRect();\r\n      n({ width: s, height: c });\r\n    }\r\n  }, [e.current]);\r\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\r\n    (s) => n(s.contentRect),\r\n    []\r\n  );\r\n  return He(e, a), t;\r\n};\r\nfunction b(e, t, n = !0) {\r\n  const [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(t);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (n && s(t), typeof window > \"u\" || !e) return;\r\n    const c = e.subscribe(s);\r\n    return () => c.unsubscribe();\r\n  }, [e, n]), a;\r\n}\r\nfunction ht(e) {\r\n  const t = (c) => typeof window < \"u\" ? window.matchMedia(c).matches : !1, [n, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(t(e));\r\n  function s() {\r\n    a(t(e));\r\n  }\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const c = window.matchMedia(e);\r\n    return s(), c.addListener ? c.addListener(s) : c.addEventListener(\"change\", s), () => {\r\n      c.removeListener ? c.removeListener(s) : c.removeEventListener(\"change\", s);\r\n    };\r\n  }, [e]), n;\r\n}\r\nfunction Mt(e) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), n = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(async () => {\r\n    await t.startAudio();\r\n  }, [t]), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.r)(t),\r\n    [t]\r\n  ), { canPlayAudio: s } = b(a, {\r\n    canPlayAudio: t.canPlaybackAudio\r\n  });\r\n  return { canPlayAudio: s, startAudio: n };\r\n}\r\nfunction yt(e) {\r\n  const { state: t, dispatch: n } = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a)().pin;\r\n  return { buttonProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\r\n    const { className: s } = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.b)();\r\n    return (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\r\n      className: s,\r\n      disabled: !(t != null && t.length),\r\n      onClick: () => {\r\n        n && n({ msg: \"clear_pin\" });\r\n      }\r\n    });\r\n  }, [e, n, t]) };\r\n}\r\nfunction Pt(e = {}) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e.participant), { className: n, connectionQualityObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.d)(t),\r\n    [t]\r\n  ), s = b(a, livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionQuality.Unknown);\r\n  return { className: n, quality: s };\r\n}\r\nfunction I(e) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.e)(t), [t]);\r\n  return b(n, t.state);\r\n}\r\nfunction kt(e, t) {\r\n  const n = typeof e == \"function\" ? e : t, a = typeof e == \"string\" ? e : void 0, s = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), { send: c, messageObservable: o, isSendingObservable: u } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.g)(s, a, n),\r\n    [s, a, n]\r\n  ), i = b(o, void 0), d = b(u, !1);\r\n  return {\r\n    message: i,\r\n    send: c,\r\n    isSending: d\r\n  };\r\n}\r\nfunction Tt(e) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), n = I(t);\r\n  return { buttonProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\r\n    const { className: s, disconnect: c } = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.h)(t);\r\n    return (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\r\n      className: s,\r\n      onClick: () => c(e.stopTracks ?? !0),\r\n      disabled: n === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected\r\n    });\r\n  }, [t, e, n]) };\r\n}\r\nfunction Ze(e) {\r\n  if (e.publication instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.LocalTrackPublication) {\r\n    const t = e.publication.track;\r\n    if (t) {\r\n      const { facingMode: n } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.facingModeFromLocalTrack)(t);\r\n      return n;\r\n    }\r\n  }\r\n  return \"undefined\";\r\n}\r\nfunction Et({ trackRef: e, props: t }) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), a = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.j)(), { className: s } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.k)(), []), c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.m)(n, a == null ? void 0 : a.pin.state), [n, a == null ? void 0 : a.pin.state]);\r\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(t, {\r\n      className: s,\r\n      onClick: (u) => {\r\n        var i, d, f, l, p;\r\n        (i = t.onClick) == null || i.call(t, u), c ? (f = a == null ? void 0 : (d = a.pin).dispatch) == null || f.call(d, {\r\n          msg: \"clear_pin\"\r\n        }) : (p = a == null ? void 0 : (l = a.pin).dispatch) == null || p.call(l, {\r\n          msg: \"set_pin\",\r\n          trackReference: n\r\n        });\r\n      }\r\n    }),\r\n    [t, s, n, c, a == null ? void 0 : a.pin]\r\n  ), inFocus: c };\r\n}\r\nfunction wt(e, t, n = {}) {\r\n  const a = n.gridLayouts ?? _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.G, { width: s, height: c } = Ye(e), o = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.n)(a, t, s, c);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    e.current && o && (e.current.style.setProperty(\"--lk-col-count\", o == null ? void 0 : o.columns.toString()), e.current.style.setProperty(\"--lk-row-count\", o == null ? void 0 : o.rows.toString()));\r\n  }, [e, o]), {\r\n    layout: o,\r\n    containerWidth: s,\r\n    containerHeight: c\r\n  };\r\n}\r\nfunction z(e, t = {}) {\r\n  var u, i;\r\n  const n = typeof e == \"string\" ? t.participant : e.participant, a = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(n), s = typeof e == \"string\" ? { participant: a, source: e } : e, [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    !!((u = s.publication) != null && u.isMuted || (i = a.getTrackPublication(s.source)) != null && i.isMuted)\r\n  );\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const d = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.o)(s).subscribe(o);\r\n    return () => d.unsubscribe();\r\n  }, [(0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(s)]), c;\r\n}\r\nfunction Ke(e) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e), n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.q)(t), [t]);\r\n  return b(n, t.isSpeaking);\r\n}\r\nfunction et(e = {}) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), [n, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(t.localParticipant), [s, c] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    n.isMicrophoneEnabled\r\n  ), [o, u] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    n.isMicrophoneEnabled\r\n  ), [i, d] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    n.lastMicrophoneError\r\n  ), [f, l] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.lastCameraError), [p, S] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    n.isMicrophoneEnabled\r\n  ), [g, m] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    void 0\r\n  ), [y, h] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0), P = (M) => {\r\n    u(M.isCameraEnabled), c(M.isMicrophoneEnabled), S(M.isScreenShareEnabled), h(M.cameraTrack), m(M.microphoneTrack), d(M.participant.lastMicrophoneError), l(M.participant.lastCameraError), a(M.participant);\r\n  };\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const M = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.t)(t.localParticipant).subscribe(P);\r\n    return () => M.unsubscribe();\r\n  }, [t]), {\r\n    isMicrophoneEnabled: s,\r\n    isScreenShareEnabled: p,\r\n    isCameraEnabled: o,\r\n    microphoneTrack: g,\r\n    cameraTrack: y,\r\n    lastMicrophoneError: i,\r\n    lastCameraError: f,\r\n    localParticipant: n\r\n  };\r\n}\r\nfunction At() {\r\n  const e = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.v)(e.localParticipant),\r\n    [e]\r\n  );\r\n  return b(t, e.localParticipant.permissions);\r\n}\r\nfunction Ct({\r\n  kind: e,\r\n  room: t,\r\n  track: n,\r\n  requestPermissions: a,\r\n  onError: s\r\n}) {\r\n  const c = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.w)(), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => t ?? c ?? new livekit_client__WEBPACK_IMPORTED_MODULE_1__.Room(), [t, c]), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.x)(e, s, a),\r\n    [e, a, s]\r\n  ), i = b(u, []), [d, f] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    (o == null ? void 0 : o.getActiveDevice(e)) ?? \"default\"\r\n  ), { className: l, activeDeviceObservable: p, setActiveMediaDevice: S } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.y)(e, o),\r\n    [e, o, n]\r\n  );\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const g = p.subscribe((m) => {\r\n      m && (_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.info(\"setCurrentDeviceId\", m), f(m));\r\n    });\r\n    return () => {\r\n      g == null || g.unsubscribe();\r\n    };\r\n  }, [p]), { devices: i, className: l, activeDeviceId: d, setActiveMediaDevice: S };\r\n}\r\nfunction It({\r\n  kind: e,\r\n  onError: t\r\n}) {\r\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.x)(e, t),\r\n    [e, t]\r\n  );\r\n  return b(n, []);\r\n}\r\nfunction tt(e, t, n = {}) {\r\n  const a = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]), s = react__WEBPACK_IMPORTED_MODULE_0__.useRef(-1), c = t !== s.current, o = typeof n.customSortFunction == \"function\" ? n.customSortFunction(e) : (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.z)(e);\r\n  let u = [...o];\r\n  if (c === !1)\r\n    try {\r\n      u = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.A)(a.current, o, t);\r\n    } catch (i) {\r\n      _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.error(\"Error while running updatePages(): \", i);\r\n    }\r\n  return c ? a.current = o : a.current = u, s.current = t, u;\r\n}\r\nfunction Ot(e, t) {\r\n  const [n, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(1), s = Math.max(Math.ceil(t.length / e), 1);\r\n  n > s && a(s);\r\n  const c = n * e, o = c - e, u = (l) => {\r\n    a((p) => l === \"next\" ? p === s ? p : p + 1 : p === 1 ? p : p - 1);\r\n  }, i = (l) => {\r\n    l > s ? a(s) : l < 1 ? a(1) : a(l);\r\n  }, f = tt(t, e).slice(o, c);\r\n  return {\r\n    totalPageCount: s,\r\n    nextPage: () => u(\"next\"),\r\n    prevPage: () => u(\"previous\"),\r\n    setPage: i,\r\n    firstItemIndex: o,\r\n    lastItemIndex: c,\r\n    tracks: f,\r\n    currentPage: n\r\n  };\r\n}\r\nfunction Dt(e = {}) {\r\n  let t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.B)();\r\n  e.participant && (t = e.participant);\r\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.C)(t), [t]), { identity: a, name: s, metadata: c } = b(n, {\r\n    name: t == null ? void 0 : t.name,\r\n    identity: t == null ? void 0 : t.identity,\r\n    metadata: t == null ? void 0 : t.metadata\r\n  });\r\n  return { identity: a, name: s, metadata: c };\r\n}\r\nfunction Lt(e = {}) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e.participant), n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.v)(t), [t]);\r\n  return b(n, t.permissions);\r\n}\r\nfunction Rt({\r\n  trackRef: e,\r\n  onParticipantClick: t,\r\n  disableSpeakingIndicator: n,\r\n  htmlProps: a\r\n}) {\r\n  const s = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\r\n    const { className: p } = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.D)();\r\n    return (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(a, {\r\n      className: p,\r\n      onClick: (S) => {\r\n        var g;\r\n        if ((g = a.onClick) == null || g.call(a, S), typeof t == \"function\") {\r\n          const m = s.publication ?? s.participant.getTrackPublication(s.source);\r\n          t({ participant: s.participant, track: m });\r\n        }\r\n      }\r\n    });\r\n  }, [\r\n    a,\r\n    t,\r\n    s.publication,\r\n    s.source,\r\n    s.participant\r\n  ]), o = s.participant.getTrackPublication(livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\r\n    participant: s.participant,\r\n    source: livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\r\n    publication: o\r\n  }), [o, s.participant]), i = z(s), d = z(u), f = Ke(s.participant), l = Ze(s);\r\n  return {\r\n    elementProps: {\r\n      \"data-lk-audio-muted\": d,\r\n      \"data-lk-video-muted\": i,\r\n      \"data-lk-speaking\": n === !0 ? !1 : f,\r\n      \"data-lk-local-participant\": s.participant.isLocal,\r\n      \"data-lk-source\": s.source,\r\n      \"data-lk-facing-mode\": l,\r\n      ...c\r\n    }\r\n  };\r\n}\r\nfunction H(e = {}) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), [n, a] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const s = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.E)(t, {\r\n      additionalRoomEvents: e.updateOnlyOn\r\n    }).subscribe(a);\r\n    return () => s.unsubscribe();\r\n  }, [t, JSON.stringify(e.updateOnlyOn)]), n;\r\n}\r\nfunction Nt(e = {}) {\r\n  const t = H(e), { localParticipant: n } = et(e);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => [n, ...t],\r\n    [n, t]\r\n  );\r\n}\r\nfunction Ft(e) {\r\n  return e = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.F)(e), react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (e == null ? void 0 : e.pin.state) !== void 0 && e.pin.state.length >= 1 ? e.pin.state : [], [e.pin.state]);\r\n}\r\nfunction Vt(e, t = {}) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), [a] = react__WEBPACK_IMPORTED_MODULE_0__.useState(t.updateOnlyOn), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => typeof e == \"string\" ? (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.H)(n, e, {\r\n    additionalEvents: a\r\n  }) : (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.I)(n, e, {\r\n    additionalEvents: a\r\n  }), [n, JSON.stringify(e), a]), [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\r\n    p: void 0\r\n  });\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const u = s.subscribe((i) => o({ p: i }));\r\n    return () => u.unsubscribe();\r\n  }, [s]), c.p;\r\n}\r\nfunction _t(e = {}) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e.room), n = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.J)(t), [t]), { name: a, metadata: s } = b(n, {\r\n    name: t.name,\r\n    metadata: t.metadata\r\n  });\r\n  return { name: a, metadata: s };\r\n}\r\nfunction nt() {\r\n  const e = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.K)(e), [e]);\r\n  return b(t, e.activeSpeakers);\r\n}\r\nfunction Bt(e) {\r\n  const [t, n] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.M)(e)\r\n  ), a = nt();\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    n((0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.M)(e));\r\n  }, [a, e]), t;\r\n}\r\nfunction zt({ room: e, props: t }) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), { className: a, roomAudioPlaybackAllowedObservable: s, handleStartAudioPlayback: c } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.N)(),\r\n    []\r\n  ), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => s(n),\r\n    [n, s]\r\n  ), { canPlayAudio: u } = b(o, {\r\n    canPlayAudio: n.canPlaybackAudio\r\n  });\r\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(t, {\r\n      className: a,\r\n      onClick: () => {\r\n        c(n);\r\n      },\r\n      style: { display: u ? \"none\" : \"block\" }\r\n    }),\r\n    [t, a, u, c, n]\r\n  ), canPlayAudio: u };\r\n}\r\nfunction Ut({ room: e, props: t }) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), { className: a, roomVideoPlaybackAllowedObservable: s, handleStartVideoPlayback: c } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.O)(),\r\n    []\r\n  ), o = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => s(n),\r\n    [n, s]\r\n  ), { canPlayVideo: u } = b(o, {\r\n    canPlayVideo: n.canPlaybackVideo\r\n  });\r\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(t, {\r\n      className: a,\r\n      onClick: () => {\r\n        c(n);\r\n      },\r\n      style: { display: u ? \"none\" : \"block\" }\r\n    }),\r\n    [t, a, u, c, n]\r\n  ), canPlayVideo: u };\r\n}\r\nfunction qt(e, t = {}) {\r\n  const n = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), a = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null), s = t.minSwipeDistance ?? 50, c = (i) => {\r\n    a.current = null, n.current = i.targetTouches[0].clientX;\r\n  }, o = (i) => {\r\n    a.current = i.targetTouches[0].clientX;\r\n  }, u = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\r\n    if (!n.current || !a.current)\r\n      return;\r\n    const i = n.current - a.current, d = i > s, f = i < -s;\r\n    d && t.onLeftSwipe && t.onLeftSwipe(), f && t.onRightSwipe && t.onRightSwipe();\r\n  }, [s, t]);\r\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const i = e.current;\r\n    return i && (i.addEventListener(\"touchstart\", c, { passive: !0 }), i.addEventListener(\"touchmove\", o, { passive: !0 }), i.addEventListener(\"touchend\", u, { passive: !0 })), () => {\r\n      i && (i.removeEventListener(\"touchstart\", c), i.removeEventListener(\"touchmove\", o), i.removeEventListener(\"touchend\", u));\r\n    };\r\n  }, [e, u]);\r\n}\r\nfunction Jt({ props: e }) {\r\n  const { dispatch: t, state: n } = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a)().widget, { className: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.P)(), []);\r\n  return { mergedProps: react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(e, {\r\n    className: a,\r\n    onClick: () => {\r\n      t && t({ msg: \"toggle_chat\" });\r\n    },\r\n    \"aria-pressed\": n != null && n.showChat ? \"true\" : \"false\",\r\n    \"data-lk-unread-msgs\": n ? n.unreadMessages < 10 ? n.unreadMessages.toFixed(0) : \"9+\" : \"0\"\r\n  }), [e, a, t, n]) };\r\n}\r\nfunction xt(e, t, n = {}) {\r\n  const [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(void 0);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    var o;\r\n    if (e === void 0)\r\n      throw Error(\"token endpoint needs to be defined\");\r\n    if (((o = n.userInfo) == null ? void 0 : o.identity) === void 0)\r\n      return;\r\n    (async () => {\r\n      _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"fetching token\");\r\n      const u = new URLSearchParams({ ...n.userInfo, roomName: t }), i = await fetch(`${e}?${u.toString()}`);\r\n      if (!i.ok) {\r\n        _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.error(\r\n          `Could not fetch token. Server responded with status ${i.status}: ${i.statusText}`\r\n        );\r\n        return;\r\n      }\r\n      const { accessToken: d } = await i.json();\r\n      s(d);\r\n    })();\r\n  }, [e, t, JSON.stringify(n)]), a;\r\n}\r\nfunction Wt(e) {\r\n  var c, o;\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.i)(e), { className: n, mediaMutedObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.Q)(t),\r\n    [(0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(t)]\r\n  );\r\n  return { isMuted: b(\r\n    a,\r\n    !!((c = t.publication) != null && c.isMuted || (o = t.participant.getTrackPublication(t.source)) != null && o.isMuted)\r\n  ), className: n };\r\n}\r\nfunction Gt({\r\n  source: e,\r\n  onChange: t,\r\n  initialState: n,\r\n  captureOptions: a,\r\n  publishOptions: s,\r\n  onDeviceError: c,\r\n  ...o\r\n}) {\r\n  var P;\r\n  const u = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.w)(), i = (P = u == null ? void 0 : u.localParticipant) == null ? void 0 : P.getTrackPublication(e), d = react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1), { toggle: f, className: l, pendingObserver: p, enabledObserver: S } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => u ? (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.S)(e, u, a, s, c) : (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.T)(),\r\n    [u, e, JSON.stringify(a), s]\r\n  ), g = b(p, !1), m = b(S, n ?? !!(i != null && i.isEnabled));\r\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    t == null || t(m, d.current), d.current = !1;\r\n  }, [m, t]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    n !== void 0 && (_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"forcing initial toggle state\", e, n), f(n));\r\n  }, []);\r\n  const y = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_room_889cObLb_mjs__WEBPACK_IMPORTED_MODULE_3__.m)(o, { className: l }), [o, l]), h = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\r\n    (M) => {\r\n      var O;\r\n      d.current = !0, f().catch(() => d.current = !1), (O = o.onClick) == null || O.call(o, M);\r\n    },\r\n    [o, f]\r\n  );\r\n  return {\r\n    toggle: f,\r\n    enabled: m,\r\n    pending: g,\r\n    track: i,\r\n    buttonProps: {\r\n      ...y,\r\n      \"aria-pressed\": m,\r\n      \"data-lk-source\": e,\r\n      \"data-lk-enabled\": m,\r\n      disabled: g,\r\n      onClick: h\r\n    }\r\n  };\r\n}\r\nfunction Qt(e = [\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShare,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.ScreenShareAudio,\r\n  livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown\r\n], t = {}) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(t.room), [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), [c, o] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), u = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => e.map((d) => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.U)(d) ? d.source : d), [JSON.stringify(e)]);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const d = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.V)(n, u, {\r\n      additionalRoomEvents: t.updateOnlyOn,\r\n      onlySubscribed: t.onlySubscribed\r\n    }).subscribe(({ trackReferences: f, participants: l }) => {\r\n      _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"setting track bundles\", f, l), s(f), o(l);\r\n    });\r\n    return () => d.unsubscribe();\r\n  }, [\r\n    n,\r\n    JSON.stringify(t.onlySubscribed),\r\n    JSON.stringify(t.updateOnlyOn),\r\n    JSON.stringify(e)\r\n  ]), react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\r\n    if ((0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.W)(e)) {\r\n      const d = at(e, c), f = Array.from(a);\r\n      return c.forEach((l) => {\r\n        d.has(l.identity) && (d.get(l.identity) ?? []).forEach((S) => {\r\n          if (a.find(\r\n            ({ participant: m, publication: y }) => l.identity === m.identity && y.source === S\r\n          ))\r\n            return;\r\n          _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\r\n            `Add ${S} placeholder for participant ${l.identity}.`\r\n          );\r\n          const g = {\r\n            participant: l,\r\n            source: S\r\n          };\r\n          f.push(g);\r\n        });\r\n      }), f;\r\n    } else\r\n      return a;\r\n  }, [a, c, e]);\r\n}\r\nfunction st(e, t) {\r\n  const n = new Set(e);\r\n  for (const a of t)\r\n    n.delete(a);\r\n  return n;\r\n}\r\nfunction at(e, t) {\r\n  const n = /* @__PURE__ */ new Map();\r\n  if ((0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.W)(e)) {\r\n    const a = e.filter((s) => s.withPlaceholder).map((s) => s.source);\r\n    t.forEach((s) => {\r\n      const c = s.getTrackPublications().map((u) => {\r\n        var i;\r\n        return (i = u.track) == null ? void 0 : i.source;\r\n      }).filter((u) => u !== void 0), o = Array.from(\r\n        st(new Set(a), new Set(c))\r\n      );\r\n      o.length > 0 && n.set(s.identity, o);\r\n    });\r\n  }\r\n  return n;\r\n}\r\nfunction rt(e) {\r\n  const [t, n] = react__WEBPACK_IMPORTED_MODULE_0__.useState((0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.X)(e)), { trackObserver: a } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.Y)(e), [e.participant.sid ?? e.participant.identity, e.source]);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    const s = a.subscribe((c) => {\r\n      n(c);\r\n    });\r\n    return () => s == null ? void 0 : s.unsubscribe();\r\n  }, [a]), {\r\n    participant: e.participant,\r\n    source: e.source ?? livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Unknown,\r\n    publication: t\r\n  };\r\n}\r\nfunction $t(e, t) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(t);\r\n  return rt({ name: e, participant: n });\r\n}\r\nfunction Ht(e) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), n = I(t), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => n === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected,\r\n    [n]\r\n  ), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.Z)(t, e),\r\n    [t, e, a]\r\n  ), c = b(s.isSendingObservable, !1), o = b(s.messageObservable, []);\r\n  return { send: s.send, chatMessages: o, isSending: c };\r\n}\r\nfunction jt(e = {}) {\r\n  const [t, n] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__._)(e.defaults, e.preventLoad ?? !1)\r\n  ), a = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\r\n    n((d) => ({ ...d, audioEnabled: i }));\r\n  }, []), s = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\r\n    n((d) => ({ ...d, videoEnabled: i }));\r\n  }, []), c = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\r\n    n((d) => ({ ...d, audioDeviceId: i }));\r\n  }, []), o = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\r\n    n((d) => ({ ...d, videoDeviceId: i }));\r\n  }, []), u = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((i) => {\r\n    n((d) => ({ ...d, username: i }));\r\n  }, []);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.$)(t, e.preventSave ?? !1);\r\n  }, [t, e.preventSave]), {\r\n    userChoices: t,\r\n    saveAudioInputEnabled: a,\r\n    saveVideoInputEnabled: s,\r\n    saveAudioInputDeviceId: c,\r\n    saveVideoInputDeviceId: o,\r\n    saveUsername: u\r\n  };\r\n}\r\nfunction Xt(e, t = {}) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(e), a = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(t.room), s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a0)(a, n), [a, n]);\r\n  return b(\r\n    s,\r\n    n.isLocal ? n.isE2EEEnabled : !!(n != null && n.isEncrypted)\r\n  );\r\n}\r\nfunction Yt(e, t = { fftSize: 32, smoothingTimeConstant: 0 }) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a1)(e) ? e.publication.track : e, [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (!n || !n.mediaStream)\r\n      return;\r\n    const { cleanup: c, analyser: o } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(n, t), u = o.frequencyBinCount, i = new Uint8Array(u), f = setInterval(() => {\r\n      o.getByteFrequencyData(i);\r\n      let l = 0;\r\n      for (let p = 0; p < i.length; p++) {\r\n        const S = i[p];\r\n        l += S * S;\r\n      }\r\n      s(Math.sqrt(l / i.length) / 255);\r\n    }, 1e3 / 30);\r\n    return () => {\r\n      c(), clearInterval(f);\r\n    };\r\n  }, [n, n == null ? void 0 : n.mediaStream, JSON.stringify(t)]), a;\r\n}\r\nconst ct = (e) => {\r\n  const t = (n) => {\r\n    let c = 1 - Math.max(-100, Math.min(-10, n)) * -1 / 100;\r\n    return c = Math.sqrt(c), c;\r\n  };\r\n  return e.map((n) => n === -1 / 0 ? 0 : t(n));\r\n}, ot = {\r\n  bands: 5,\r\n  loPass: 100,\r\n  hiPass: 600,\r\n  updateInterval: 32,\r\n  analyserOptions: { fftSize: 2048 }\r\n};\r\nfunction Zt(e, t = {}) {\r\n  var o;\r\n  const n = e instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track ? e : (o = e == null ? void 0 : e.publication) == null ? void 0 : o.track, a = { ...ot, ...t }, [s, c] = react__WEBPACK_IMPORTED_MODULE_0__.useState(\r\n    new Array(a.bands).fill(0)\r\n  );\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (!n || !(n != null && n.mediaStream))\r\n      return;\r\n    const { analyser: u, cleanup: i } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(n, a.analyserOptions), d = u.frequencyBinCount, f = new Float32Array(d), p = setInterval(() => {\r\n      u.getFloatFrequencyData(f);\r\n      let S = new Float32Array(f.length);\r\n      for (let h = 0; h < f.length; h++)\r\n        S[h] = f[h];\r\n      S = S.slice(t.loPass, t.hiPass);\r\n      const g = ct(S), m = Math.ceil(g.length / a.bands), y = [];\r\n      for (let h = 0; h < a.bands; h++) {\r\n        const P = g.slice(h * m, (h + 1) * m).reduce((M, O) => M += O, 0);\r\n        y.push(P / m);\r\n      }\r\n      c(y);\r\n    }, a.updateInterval);\r\n    return () => {\r\n      i(), clearInterval(p);\r\n    };\r\n  }, [n, n == null ? void 0 : n.mediaStream, JSON.stringify(t)]), s;\r\n}\r\nconst it = {\r\n  barCount: 120,\r\n  volMultiplier: 5,\r\n  updateInterval: 20\r\n};\r\nfunction Kt(e, t = {}) {\r\n  var f;\r\n  const n = e instanceof livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track ? e : (f = e == null ? void 0 : e.publication) == null ? void 0 : f.track, a = { ...it, ...t }, s = react__WEBPACK_IMPORTED_MODULE_0__.useRef(new Float32Array()), c = react__WEBPACK_IMPORTED_MODULE_0__.useRef(performance.now()), o = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0), [u, i] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), d = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((l) => {\r\n    i(\r\n      Array.from(\r\n        dt(l, a.barCount).map((p) => Math.sqrt(p) * a.volMultiplier)\r\n        // wave.slice(0, opts.barCount).map((v) => sigmoid(v * opts.volMultiplier, 0.08, 0.2)),\r\n      )\r\n    );\r\n  }, []);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (!n || !(n != null && n.mediaStream))\r\n      return;\r\n    const { analyser: l, cleanup: p } = (0,livekit_client__WEBPACK_IMPORTED_MODULE_1__.createAudioAnalyser)(n, {\r\n      fftSize: U(a.barCount)\r\n    }), S = U(a.barCount), g = new Float32Array(S), m = () => {\r\n      if (y = requestAnimationFrame(m), l.getFloatTimeDomainData(g), s.current.map((h, P) => h + g[P]), o.current += 1, performance.now() - c.current >= a.updateInterval) {\r\n        const h = g.map((P) => P / o.current);\r\n        d(h), c.current = performance.now(), o.current = 0;\r\n      }\r\n    };\r\n    let y = requestAnimationFrame(m);\r\n    return () => {\r\n      p(), cancelAnimationFrame(y);\r\n    };\r\n  }, [n, n == null ? void 0 : n.mediaStream, JSON.stringify(t), d]), {\r\n    bars: u\r\n  };\r\n}\r\nfunction U(e) {\r\n  return e < 32 ? 32 : ut(e);\r\n}\r\nfunction ut(e) {\r\n  let t = 2;\r\n  for (; e >>= 1; )\r\n    t <<= 1;\r\n  return t;\r\n}\r\nfunction dt(e, t) {\r\n  const n = Math.floor(e.length / t), a = new Float32Array(t);\r\n  for (let s = 0; s < t; s++) {\r\n    const c = n * s;\r\n    let o = 0;\r\n    for (let u = 0; u < n; u++)\r\n      o = o + Math.abs(e[c + u]);\r\n    a[s] = o / n;\r\n  }\r\n  return a;\r\n}\r\nfunction q(e, t) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), a = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.B)(), s = t ? n.getParticipantByIdentity(t) : a, c = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => s ? (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a2)(s, { sources: e }) : void 0,\r\n    [s == null ? void 0 : s.sid, s == null ? void 0 : s.identity, JSON.stringify(e)]\r\n  );\r\n  return b(c, []);\r\n}\r\nfunction lt(e) {\r\n  var n, a, s;\r\n  const t = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => {\r\n      var c;\r\n      return (c = e == null ? void 0 : e.publication) != null && c.track ? (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a3)(e == null ? void 0 : e.publication.track) : void 0;\r\n    },\r\n    [(n = e == null ? void 0 : e.publication) == null ? void 0 : n.track]\r\n  );\r\n  return b(t, {\r\n    timestamp: Date.now(),\r\n    rtpTimestamp: (s = (a = e == null ? void 0 : e.publication) == null ? void 0 : a.track) == null ? void 0 : s.rtpTimestamp\r\n  });\r\n}\r\nconst ft = {\r\n  bufferSize: 100\r\n  // maxAge: 2_000,\r\n};\r\nfunction pt(e, t) {\r\n  const n = { ...ft, ...t }, [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]), c = lt(e), o = (u) => {\r\n    var i;\r\n    (i = n.onTranscription) == null || i.call(n, u), s(\r\n      (d) => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a5)(\r\n        d,\r\n        // when first receiving a segment, add the current media timestamp to it\r\n        u.map((f) => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a6)(f, c)),\r\n        n.bufferSize\r\n      )\r\n    );\r\n  };\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (!(e != null && e.publication))\r\n      return;\r\n    const u = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a4)(e.publication).subscribe((i) => {\r\n      o(...i);\r\n    });\r\n    return () => {\r\n      u.unsubscribe();\r\n    };\r\n  }, [e && (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.p)(e), o]), { segments: a };\r\n}\r\nfunction bt(e = {}) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.B)(), n = e.participant ?? t, a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    // weird typescript constraint\r\n    () => n ? (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(n) : (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(n),\r\n    [n]\r\n  );\r\n  return b(a, {\r\n    attributes: n == null ? void 0 : n.attributes\r\n  });\r\n}\r\nfunction en(e, t = {}) {\r\n  const n = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.c)(t.participant), [a, s] = react__WEBPACK_IMPORTED_MODULE_0__.useState(n.attributes[e]);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (!n)\r\n      return;\r\n    const c = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a7)(n).subscribe((o) => {\r\n      o.changed[e] !== void 0 && s(o.attributes[e]);\r\n    });\r\n    return () => {\r\n      c.unsubscribe();\r\n    };\r\n  }, [n, e]), a;\r\n}\r\nconst J = \"lk.agent.state\";\r\nfunction tn() {\r\n  const e = H(), t = e.find(\r\n    (l) => l.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ParticipantKind.AGENT && !(\"lk.publish_on_behalf\" in l.attributes)\r\n  ), n = e.find(\r\n    (l) => l.kind === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ParticipantKind.AGENT && l.attributes[\"lk.publish_on_behalf\"] === (t == null ? void 0 : t.identity)\r\n  ), a = q(\r\n    [livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone, livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera],\r\n    t == null ? void 0 : t.identity\r\n  ), s = q(\r\n    [livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone, livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera],\r\n    n == null ? void 0 : n.identity\r\n  ), c = a.find((l) => l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone) ?? s.find((l) => l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Microphone), o = a.find((l) => l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera) ?? s.find((l) => l.source === livekit_client__WEBPACK_IMPORTED_MODULE_1__.Track.Source.Camera), { segments: u } = pt(c), i = I(), { attributes: d } = bt({ participant: t }), f = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => i === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected ? \"disconnected\" : i === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Connecting || !t || !(d != null && d[J]) ? \"connecting\" : d[J], [d, t, i]);\r\n  return {\r\n    agent: t,\r\n    state: f,\r\n    audioTrack: c,\r\n    videoTrack: o,\r\n    agentTranscriptions: u,\r\n    agentAttributes: d\r\n  };\r\n}\r\nfunction nn(e) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.u)(e), n = I(t), a = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a8)(t), [t, n]);\r\n  return b(a, t.isRecording);\r\n}\r\nfunction mt(e) {\r\n  const t = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.f)(), a = I(t) === livekit_client__WEBPACK_IMPORTED_MODULE_1__.ConnectionState.Disconnected, s = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.a9)(t, e), [t, e]);\r\n  return { textStreams: b(a ? void 0 : s, []) };\r\n}\r\nfunction sn(e) {\r\n  const { participantIdentities: t, trackSids: n } = e ?? {}, { textStreams: a } = mt(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.aa.TRANSCRIPTION);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\r\n    () => a.filter(\r\n      (c) => t ? t.includes(c.participantInfo.identity) : !0\r\n    ).filter(\r\n      (c) => {\r\n        var o;\r\n        return n ? n.includes(((o = c.streamInfo.attributes) == null ? void 0 : o[\"lk.transcribed_track_id\"]) ?? \"\") : !0;\r\n      }\r\n    ),\r\n    [a, t, n]\r\n  );\r\n}\r\n\r\n//# sourceMappingURL=hooks-OJtwh4jO.mjs.map\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L2hvb2tzLU9KdHdoNGpPLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkI7QUFDb2pCO0FBQ2xpQjtBQUN1SztBQUNwTjtBQUNBLFlBQVkseUNBQVE7QUFDcEIsU0FBUyw0Q0FBVztBQUNwQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtEQUFpQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQVUsR0FBRyxxQkFBcUI7QUFDbkQsRUFBRSxrREFBaUI7QUFDbkI7QUFDQSxjQUFjLHNCQUFzQjtBQUNwQyxVQUFVLHFCQUFxQjtBQUMvQjtBQUNBLEdBQUc7QUFDSCxZQUFZLDhDQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwyQ0FBVTtBQUMzQixTQUFTLDRDQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EscUZBQXFGLDJDQUFVO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNENBQVc7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFlBQVkseURBQUMsU0FBUyw4Q0FBYTtBQUNuQztB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QUFvQixpREFBQztBQUMzQjtBQUNBO0FBQ0EsS0FBSyxpREFBQyxvQkFBb0IsaURBQUM7QUFDM0I7QUFDQSxvQ0FBb0MsaURBQUMsa0RBQWtELGlEQUFDLG9EQUFvRCxpREFBQyw4Q0FBOEMsaURBQUMsbUJBQW1CLGNBQWMsb0JBQW9CLGdCQUFnQixPQUFPLGdCQUFnQixPQUFPLDBDQUFTLGFBQWEsMkRBQUMsdUNBQXVDLDJEQUFDO0FBQzlWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5REFBQyxtQkFBbUIsMENBQVMsT0FBTywwREFBRTtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlEQUFDLGlCQUFpQiwyREFBQyxtQkFBbUIsMENBQVMsT0FBTywwREFBRTtBQUNwRSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFVBQVUseUNBQXlDLFNBQVMsSUFBSSxpQkFBaUIsS0FBSyxzREFBRTtBQUN4RixTQUFTLDBDQUFTO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1REU7QUFDRiIsInNvdXJjZXMiOlsiRDpcXFB5dGhvblxcdHJhdmVsLWRldGFpbC1kZW1vXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAbGl2ZWtpdFxcY29tcG9uZW50cy1yZWFjdFxcZGlzdFxcaG9va3MtT0p0d2g0ak8ubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHIgZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHUgYXMgaywgciBhcyBqLCBhIGFzIHgsIGIgYXMgWCwgYyBhcyBBLCBkIGFzIFksIGUgYXMgWiwgZiBhcyBULCBnIGFzIEssIGggYXMgZWUsIGkgYXMgUiwgaiBhcyB0ZSwgayBhcyBuZSwgbSBhcyBzZSwgRyBhcyBhZSwgbiBhcyByZSwgbyBhcyBjZSwgcCBhcyBOLCBxIGFzIG9lLCB0IGFzIGllLCB2IGFzIFcsIHcgYXMgRywgeCBhcyBRLCB5IGFzIHVlLCBsIGFzIHcsIHogYXMgZGUsIEEgYXMgbGUsIEIgYXMgRiwgQyBhcyBmZSwgRCBhcyBwZSwgRSBhcyBiZSwgRiBhcyBtZSwgSCBhcyBTZSwgSSBhcyBnZSwgSiBhcyB2ZSwgSyBhcyBoZSwgTSBhcyBfLCBOIGFzIE1lLCBPIGFzIHllLCBQIGFzIFBlLCBRIGFzIGtlLCBTIGFzIFRlLCBUIGFzIEVlLCBVIGFzIHdlLCBWIGFzIEFlLCBXIGFzICQsIFggYXMgQ2UsIFkgYXMgSWUsIFogYXMgT2UsIF8gYXMgRGUsICQgYXMgTGUsIGEwIGFzIFJlLCBhMSBhcyBOZSwgYTIgYXMgRmUsIGEzIGFzIFZlLCBhNCBhcyBfZSwgYTUgYXMgQmUsIGE2IGFzIHplLCBhNyBhcyBMLCBhOCBhcyBVZSwgYTkgYXMgcWUsIGFhIGFzIEplIH0gZnJvbSBcIi4vY29udGV4dHMtQ20xYVNCVHMubWpzXCI7XHJcbmltcG9ydCB7IG0gYXMgRSB9IGZyb20gXCIuL3Jvb20tODg5Y09iTGIubWpzXCI7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25RdWFsaXR5IGFzIHhlLCBDb25uZWN0aW9uU3RhdGUgYXMgQywgTG9jYWxUcmFja1B1YmxpY2F0aW9uIGFzIFdlLCBmYWNpbmdNb2RlRnJvbUxvY2FsVHJhY2sgYXMgR2UsIFJvb20gYXMgUWUsIFRyYWNrIGFzIHYsIGNyZWF0ZUF1ZGlvQW5hbHlzZXIgYXMgViwgUGFydGljaXBhbnRLaW5kIGFzIEIgfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcclxuY29uc3QgJGUgPSAoZSkgPT4ge1xyXG4gIGNvbnN0IHQgPSByLnVzZVJlZihlKTtcclxuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgdC5jdXJyZW50ID0gZTtcclxuICB9KSwgdDtcclxufTtcclxuZnVuY3Rpb24gSGUoZSwgdCkge1xyXG4gIGNvbnN0IG4gPSBYZSgpLCBhID0gJGUodCk7XHJcbiAgcmV0dXJuIHIudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcclxuICAgIGxldCBzID0gITE7XHJcbiAgICBjb25zdCBjID0gZS5jdXJyZW50O1xyXG4gICAgaWYgKCFjKSByZXR1cm47XHJcbiAgICBmdW5jdGlvbiBvKHUsIGkpIHtcclxuICAgICAgcyB8fCBhLmN1cnJlbnQodSwgaSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbiA9PSBudWxsIHx8IG4uc3Vic2NyaWJlKGMsIG8pLCAoKSA9PiB7XHJcbiAgICAgIHMgPSAhMCwgbiA9PSBudWxsIHx8IG4udW5zdWJzY3JpYmUoYywgbyk7XHJcbiAgICB9O1xyXG4gIH0sIFtlLmN1cnJlbnQsIG4sIGFdKSwgbiA9PSBudWxsID8gdm9pZCAwIDogbi5vYnNlcnZlcjtcclxufVxyXG5mdW5jdGlvbiBqZSgpIHtcclxuICBsZXQgZSA9ICExLCB0ID0gW107XHJcbiAgY29uc3QgbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPiBcInVcIilcclxuICAgIHJldHVybjtcclxuICBjb25zdCBhID0gbmV3IFJlc2l6ZU9ic2VydmVyKChzLCBjKSA9PiB7XHJcbiAgICB0ID0gdC5jb25jYXQocyksIGUgfHwgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IG8gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xyXG4gICAgICBmb3IgKGxldCB1ID0gMDsgdSA8IHQubGVuZ3RoOyB1KyspIHtcclxuICAgICAgICBpZiAoby5oYXModFt1XS50YXJnZXQpKSBjb250aW51ZTtcclxuICAgICAgICBvLmFkZCh0W3VdLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgaSA9IG4uZ2V0KHRbdV0udGFyZ2V0KTtcclxuICAgICAgICBpID09IG51bGwgfHwgaS5mb3JFYWNoKChkKSA9PiBkKHRbdV0sIGMpKTtcclxuICAgICAgfVxyXG4gICAgICB0ID0gW10sIGUgPSAhMTtcclxuICAgIH0pLCBlID0gITA7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHtcclxuICAgIG9ic2VydmVyOiBhLFxyXG4gICAgc3Vic2NyaWJlKHMsIGMpIHtcclxuICAgICAgYS5vYnNlcnZlKHMpO1xyXG4gICAgICBjb25zdCBvID0gbi5nZXQocykgPz8gW107XHJcbiAgICAgIG8ucHVzaChjKSwgbi5zZXQocywgbyk7XHJcbiAgICB9LFxyXG4gICAgdW5zdWJzY3JpYmUocywgYykge1xyXG4gICAgICBjb25zdCBvID0gbi5nZXQocykgPz8gW107XHJcbiAgICAgIGlmIChvLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIGEudW5vYnNlcnZlKHMpLCBuLmRlbGV0ZShzKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgdSA9IG8uaW5kZXhPZihjKTtcclxuICAgICAgdSAhPT0gLTEgJiYgby5zcGxpY2UodSwgMSksIG4uc2V0KHMsIG8pO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxubGV0IEQ7XHJcbmNvbnN0IFhlID0gKCkgPT4gRCB8fCAoRCA9IGplKCkpLCBZZSA9IChlKSA9PiB7XHJcbiAgY29uc3QgW3QsIG5dID0gci51c2VTdGF0ZSh7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSk7XHJcbiAgci51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGUuY3VycmVudCkge1xyXG4gICAgICBjb25zdCB7IHdpZHRoOiBzLCBoZWlnaHQ6IGMgfSA9IGUuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgbih7IHdpZHRoOiBzLCBoZWlnaHQ6IGMgfSk7XHJcbiAgICB9XHJcbiAgfSwgW2UuY3VycmVudF0pO1xyXG4gIGNvbnN0IGEgPSByLnVzZUNhbGxiYWNrKFxyXG4gICAgKHMpID0+IG4ocy5jb250ZW50UmVjdCksXHJcbiAgICBbXVxyXG4gICk7XHJcbiAgcmV0dXJuIEhlKGUsIGEpLCB0O1xyXG59O1xyXG5mdW5jdGlvbiBiKGUsIHQsIG4gPSAhMCkge1xyXG4gIGNvbnN0IFthLCBzXSA9IHIudXNlU3RhdGUodCk7XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChuICYmIHModCksIHR5cGVvZiB3aW5kb3cgPiBcInVcIiB8fCAhZSkgcmV0dXJuO1xyXG4gICAgY29uc3QgYyA9IGUuc3Vic2NyaWJlKHMpO1xyXG4gICAgcmV0dXJuICgpID0+IGMudW5zdWJzY3JpYmUoKTtcclxuICB9LCBbZSwgbl0pLCBhO1xyXG59XHJcbmZ1bmN0aW9uIGh0KGUpIHtcclxuICBjb25zdCB0ID0gKGMpID0+IHR5cGVvZiB3aW5kb3cgPCBcInVcIiA/IHdpbmRvdy5tYXRjaE1lZGlhKGMpLm1hdGNoZXMgOiAhMSwgW24sIGFdID0gci51c2VTdGF0ZSh0KGUpKTtcclxuICBmdW5jdGlvbiBzKCkge1xyXG4gICAgYSh0KGUpKTtcclxuICB9XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGMgPSB3aW5kb3cubWF0Y2hNZWRpYShlKTtcclxuICAgIHJldHVybiBzKCksIGMuYWRkTGlzdGVuZXIgPyBjLmFkZExpc3RlbmVyKHMpIDogYy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHMpLCAoKSA9PiB7XHJcbiAgICAgIGMucmVtb3ZlTGlzdGVuZXIgPyBjLnJlbW92ZUxpc3RlbmVyKHMpIDogYy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHMpO1xyXG4gICAgfTtcclxuICB9LCBbZV0pLCBuO1xyXG59XHJcbmZ1bmN0aW9uIE10KGUpIHtcclxuICBjb25zdCB0ID0gayhlKSwgbiA9IHIudXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgYXdhaXQgdC5zdGFydEF1ZGlvKCk7XHJcbiAgfSwgW3RdKSwgYSA9IHIudXNlTWVtbyhcclxuICAgICgpID0+IGoodCksXHJcbiAgICBbdF1cclxuICApLCB7IGNhblBsYXlBdWRpbzogcyB9ID0gYihhLCB7XHJcbiAgICBjYW5QbGF5QXVkaW86IHQuY2FuUGxheWJhY2tBdWRpb1xyXG4gIH0pO1xyXG4gIHJldHVybiB7IGNhblBsYXlBdWRpbzogcywgc3RhcnRBdWRpbzogbiB9O1xyXG59XHJcbmZ1bmN0aW9uIHl0KGUpIHtcclxuICBjb25zdCB7IHN0YXRlOiB0LCBkaXNwYXRjaDogbiB9ID0geCgpLnBpbjtcclxuICByZXR1cm4geyBidXR0b25Qcm9wczogci51c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IHsgY2xhc3NOYW1lOiBzIH0gPSBYKCk7XHJcbiAgICByZXR1cm4gRShlLCB7XHJcbiAgICAgIGNsYXNzTmFtZTogcyxcclxuICAgICAgZGlzYWJsZWQ6ICEodCAhPSBudWxsICYmIHQubGVuZ3RoKSxcclxuICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgIG4gJiYgbih7IG1zZzogXCJjbGVhcl9waW5cIiB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSwgW2UsIG4sIHRdKSB9O1xyXG59XHJcbmZ1bmN0aW9uIFB0KGUgPSB7fSkge1xyXG4gIGNvbnN0IHQgPSBBKGUucGFydGljaXBhbnQpLCB7IGNsYXNzTmFtZTogbiwgY29ubmVjdGlvblF1YWxpdHlPYnNlcnZlcjogYSB9ID0gci51c2VNZW1vKFxyXG4gICAgKCkgPT4gWSh0KSxcclxuICAgIFt0XVxyXG4gICksIHMgPSBiKGEsIHhlLlVua25vd24pO1xyXG4gIHJldHVybiB7IGNsYXNzTmFtZTogbiwgcXVhbGl0eTogcyB9O1xyXG59XHJcbmZ1bmN0aW9uIEkoZSkge1xyXG4gIGNvbnN0IHQgPSBrKGUpLCBuID0gci51c2VNZW1vKCgpID0+IFoodCksIFt0XSk7XHJcbiAgcmV0dXJuIGIobiwgdC5zdGF0ZSk7XHJcbn1cclxuZnVuY3Rpb24ga3QoZSwgdCkge1xyXG4gIGNvbnN0IG4gPSB0eXBlb2YgZSA9PSBcImZ1bmN0aW9uXCIgPyBlIDogdCwgYSA9IHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBlIDogdm9pZCAwLCBzID0gVCgpLCB7IHNlbmQ6IGMsIG1lc3NhZ2VPYnNlcnZhYmxlOiBvLCBpc1NlbmRpbmdPYnNlcnZhYmxlOiB1IH0gPSByLnVzZU1lbW8oXHJcbiAgICAoKSA9PiBLKHMsIGEsIG4pLFxyXG4gICAgW3MsIGEsIG5dXHJcbiAgKSwgaSA9IGIobywgdm9pZCAwKSwgZCA9IGIodSwgITEpO1xyXG4gIHJldHVybiB7XHJcbiAgICBtZXNzYWdlOiBpLFxyXG4gICAgc2VuZDogYyxcclxuICAgIGlzU2VuZGluZzogZFxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gVHQoZSkge1xyXG4gIGNvbnN0IHQgPSBUKCksIG4gPSBJKHQpO1xyXG4gIHJldHVybiB7IGJ1dHRvblByb3BzOiByLnVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgeyBjbGFzc05hbWU6IHMsIGRpc2Nvbm5lY3Q6IGMgfSA9IGVlKHQpO1xyXG4gICAgcmV0dXJuIEUoZSwge1xyXG4gICAgICBjbGFzc05hbWU6IHMsXHJcbiAgICAgIG9uQ2xpY2s6ICgpID0+IGMoZS5zdG9wVHJhY2tzID8/ICEwKSxcclxuICAgICAgZGlzYWJsZWQ6IG4gPT09IEMuRGlzY29ubmVjdGVkXHJcbiAgICB9KTtcclxuICB9LCBbdCwgZSwgbl0pIH07XHJcbn1cclxuZnVuY3Rpb24gWmUoZSkge1xyXG4gIGlmIChlLnB1YmxpY2F0aW9uIGluc3RhbmNlb2YgV2UpIHtcclxuICAgIGNvbnN0IHQgPSBlLnB1YmxpY2F0aW9uLnRyYWNrO1xyXG4gICAgaWYgKHQpIHtcclxuICAgICAgY29uc3QgeyBmYWNpbmdNb2RlOiBuIH0gPSBHZSh0KTtcclxuICAgICAgcmV0dXJuIG47XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBcInVuZGVmaW5lZFwiO1xyXG59XHJcbmZ1bmN0aW9uIEV0KHsgdHJhY2tSZWY6IGUsIHByb3BzOiB0IH0pIHtcclxuICBjb25zdCBuID0gUihlKSwgYSA9IHRlKCksIHsgY2xhc3NOYW1lOiBzIH0gPSByLnVzZU1lbW8oKCkgPT4gbmUoKSwgW10pLCBjID0gci51c2VNZW1vKCgpID0+IHNlKG4sIGEgPT0gbnVsbCA/IHZvaWQgMCA6IGEucGluLnN0YXRlKSwgW24sIGEgPT0gbnVsbCA/IHZvaWQgMCA6IGEucGluLnN0YXRlXSk7XHJcbiAgcmV0dXJuIHsgbWVyZ2VkUHJvcHM6IHIudXNlTWVtbyhcclxuICAgICgpID0+IEUodCwge1xyXG4gICAgICBjbGFzc05hbWU6IHMsXHJcbiAgICAgIG9uQ2xpY2s6ICh1KSA9PiB7XHJcbiAgICAgICAgdmFyIGksIGQsIGYsIGwsIHA7XHJcbiAgICAgICAgKGkgPSB0Lm9uQ2xpY2spID09IG51bGwgfHwgaS5jYWxsKHQsIHUpLCBjID8gKGYgPSBhID09IG51bGwgPyB2b2lkIDAgOiAoZCA9IGEucGluKS5kaXNwYXRjaCkgPT0gbnVsbCB8fCBmLmNhbGwoZCwge1xyXG4gICAgICAgICAgbXNnOiBcImNsZWFyX3BpblwiXHJcbiAgICAgICAgfSkgOiAocCA9IGEgPT0gbnVsbCA/IHZvaWQgMCA6IChsID0gYS5waW4pLmRpc3BhdGNoKSA9PSBudWxsIHx8IHAuY2FsbChsLCB7XHJcbiAgICAgICAgICBtc2c6IFwic2V0X3BpblwiLFxyXG4gICAgICAgICAgdHJhY2tSZWZlcmVuY2U6IG5cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgICBbdCwgcywgbiwgYywgYSA9PSBudWxsID8gdm9pZCAwIDogYS5waW5dXHJcbiAgKSwgaW5Gb2N1czogYyB9O1xyXG59XHJcbmZ1bmN0aW9uIHd0KGUsIHQsIG4gPSB7fSkge1xyXG4gIGNvbnN0IGEgPSBuLmdyaWRMYXlvdXRzID8/IGFlLCB7IHdpZHRoOiBzLCBoZWlnaHQ6IGMgfSA9IFllKGUpLCBvID0gcmUoYSwgdCwgcywgYyk7XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGUuY3VycmVudCAmJiBvICYmIChlLmN1cnJlbnQuc3R5bGUuc2V0UHJvcGVydHkoXCItLWxrLWNvbC1jb3VudFwiLCBvID09IG51bGwgPyB2b2lkIDAgOiBvLmNvbHVtbnMudG9TdHJpbmcoKSksIGUuY3VycmVudC5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tbGstcm93LWNvdW50XCIsIG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8ucm93cy50b1N0cmluZygpKSk7XHJcbiAgfSwgW2UsIG9dKSwge1xyXG4gICAgbGF5b3V0OiBvLFxyXG4gICAgY29udGFpbmVyV2lkdGg6IHMsXHJcbiAgICBjb250YWluZXJIZWlnaHQ6IGNcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIHooZSwgdCA9IHt9KSB7XHJcbiAgdmFyIHUsIGk7XHJcbiAgY29uc3QgbiA9IHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyB0LnBhcnRpY2lwYW50IDogZS5wYXJ0aWNpcGFudCwgYSA9IEEobiksIHMgPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8geyBwYXJ0aWNpcGFudDogYSwgc291cmNlOiBlIH0gOiBlLCBbYywgb10gPSByLnVzZVN0YXRlKFxyXG4gICAgISEoKHUgPSBzLnB1YmxpY2F0aW9uKSAhPSBudWxsICYmIHUuaXNNdXRlZCB8fCAoaSA9IGEuZ2V0VHJhY2tQdWJsaWNhdGlvbihzLnNvdXJjZSkpICE9IG51bGwgJiYgaS5pc011dGVkKVxyXG4gICk7XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGQgPSBjZShzKS5zdWJzY3JpYmUobyk7XHJcbiAgICByZXR1cm4gKCkgPT4gZC51bnN1YnNjcmliZSgpO1xyXG4gIH0sIFtOKHMpXSksIGM7XHJcbn1cclxuZnVuY3Rpb24gS2UoZSkge1xyXG4gIGNvbnN0IHQgPSBBKGUpLCBuID0gci51c2VNZW1vKCgpID0+IG9lKHQpLCBbdF0pO1xyXG4gIHJldHVybiBiKG4sIHQuaXNTcGVha2luZyk7XHJcbn1cclxuZnVuY3Rpb24gZXQoZSA9IHt9KSB7XHJcbiAgY29uc3QgdCA9IGsoZS5yb29tKSwgW24sIGFdID0gci51c2VTdGF0ZSh0LmxvY2FsUGFydGljaXBhbnQpLCBbcywgY10gPSByLnVzZVN0YXRlKFxyXG4gICAgbi5pc01pY3JvcGhvbmVFbmFibGVkXHJcbiAgKSwgW28sIHVdID0gci51c2VTdGF0ZShcclxuICAgIG4uaXNNaWNyb3Bob25lRW5hYmxlZFxyXG4gICksIFtpLCBkXSA9IHIudXNlU3RhdGUoXHJcbiAgICBuLmxhc3RNaWNyb3Bob25lRXJyb3JcclxuICApLCBbZiwgbF0gPSByLnVzZVN0YXRlKG4ubGFzdENhbWVyYUVycm9yKSwgW3AsIFNdID0gci51c2VTdGF0ZShcclxuICAgIG4uaXNNaWNyb3Bob25lRW5hYmxlZFxyXG4gICksIFtnLCBtXSA9IHIudXNlU3RhdGUoXHJcbiAgICB2b2lkIDBcclxuICApLCBbeSwgaF0gPSByLnVzZVN0YXRlKHZvaWQgMCksIFAgPSAoTSkgPT4ge1xyXG4gICAgdShNLmlzQ2FtZXJhRW5hYmxlZCksIGMoTS5pc01pY3JvcGhvbmVFbmFibGVkKSwgUyhNLmlzU2NyZWVuU2hhcmVFbmFibGVkKSwgaChNLmNhbWVyYVRyYWNrKSwgbShNLm1pY3JvcGhvbmVUcmFjayksIGQoTS5wYXJ0aWNpcGFudC5sYXN0TWljcm9waG9uZUVycm9yKSwgbChNLnBhcnRpY2lwYW50Lmxhc3RDYW1lcmFFcnJvciksIGEoTS5wYXJ0aWNpcGFudCk7XHJcbiAgfTtcclxuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgTSA9IGllKHQubG9jYWxQYXJ0aWNpcGFudCkuc3Vic2NyaWJlKFApO1xyXG4gICAgcmV0dXJuICgpID0+IE0udW5zdWJzY3JpYmUoKTtcclxuICB9LCBbdF0pLCB7XHJcbiAgICBpc01pY3JvcGhvbmVFbmFibGVkOiBzLFxyXG4gICAgaXNTY3JlZW5TaGFyZUVuYWJsZWQ6IHAsXHJcbiAgICBpc0NhbWVyYUVuYWJsZWQ6IG8sXHJcbiAgICBtaWNyb3Bob25lVHJhY2s6IGcsXHJcbiAgICBjYW1lcmFUcmFjazogeSxcclxuICAgIGxhc3RNaWNyb3Bob25lRXJyb3I6IGksXHJcbiAgICBsYXN0Q2FtZXJhRXJyb3I6IGYsXHJcbiAgICBsb2NhbFBhcnRpY2lwYW50OiBuXHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBBdCgpIHtcclxuICBjb25zdCBlID0gVCgpLCB0ID0gci51c2VNZW1vKFxyXG4gICAgKCkgPT4gVyhlLmxvY2FsUGFydGljaXBhbnQpLFxyXG4gICAgW2VdXHJcbiAgKTtcclxuICByZXR1cm4gYih0LCBlLmxvY2FsUGFydGljaXBhbnQucGVybWlzc2lvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIEN0KHtcclxuICBraW5kOiBlLFxyXG4gIHJvb206IHQsXHJcbiAgdHJhY2s6IG4sXHJcbiAgcmVxdWVzdFBlcm1pc3Npb25zOiBhLFxyXG4gIG9uRXJyb3I6IHNcclxufSkge1xyXG4gIGNvbnN0IGMgPSBHKCksIG8gPSByLnVzZU1lbW8oKCkgPT4gdCA/PyBjID8/IG5ldyBRZSgpLCBbdCwgY10pLCB1ID0gci51c2VNZW1vKFxyXG4gICAgKCkgPT4gUShlLCBzLCBhKSxcclxuICAgIFtlLCBhLCBzXVxyXG4gICksIGkgPSBiKHUsIFtdKSwgW2QsIGZdID0gci51c2VTdGF0ZShcclxuICAgIChvID09IG51bGwgPyB2b2lkIDAgOiBvLmdldEFjdGl2ZURldmljZShlKSkgPz8gXCJkZWZhdWx0XCJcclxuICApLCB7IGNsYXNzTmFtZTogbCwgYWN0aXZlRGV2aWNlT2JzZXJ2YWJsZTogcCwgc2V0QWN0aXZlTWVkaWFEZXZpY2U6IFMgfSA9IHIudXNlTWVtbyhcclxuICAgICgpID0+IHVlKGUsIG8pLFxyXG4gICAgW2UsIG8sIG5dXHJcbiAgKTtcclxuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgZyA9IHAuc3Vic2NyaWJlKChtKSA9PiB7XHJcbiAgICAgIG0gJiYgKHcuaW5mbyhcInNldEN1cnJlbnREZXZpY2VJZFwiLCBtKSwgZihtKSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGcgPT0gbnVsbCB8fCBnLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtwXSksIHsgZGV2aWNlczogaSwgY2xhc3NOYW1lOiBsLCBhY3RpdmVEZXZpY2VJZDogZCwgc2V0QWN0aXZlTWVkaWFEZXZpY2U6IFMgfTtcclxufVxyXG5mdW5jdGlvbiBJdCh7XHJcbiAga2luZDogZSxcclxuICBvbkVycm9yOiB0XHJcbn0pIHtcclxuICBjb25zdCBuID0gci51c2VNZW1vKFxyXG4gICAgKCkgPT4gUShlLCB0KSxcclxuICAgIFtlLCB0XVxyXG4gICk7XHJcbiAgcmV0dXJuIGIobiwgW10pO1xyXG59XHJcbmZ1bmN0aW9uIHR0KGUsIHQsIG4gPSB7fSkge1xyXG4gIGNvbnN0IGEgPSByLnVzZVJlZihbXSksIHMgPSByLnVzZVJlZigtMSksIGMgPSB0ICE9PSBzLmN1cnJlbnQsIG8gPSB0eXBlb2Ygbi5jdXN0b21Tb3J0RnVuY3Rpb24gPT0gXCJmdW5jdGlvblwiID8gbi5jdXN0b21Tb3J0RnVuY3Rpb24oZSkgOiBkZShlKTtcclxuICBsZXQgdSA9IFsuLi5vXTtcclxuICBpZiAoYyA9PT0gITEpXHJcbiAgICB0cnkge1xyXG4gICAgICB1ID0gbGUoYS5jdXJyZW50LCBvLCB0KTtcclxuICAgIH0gY2F0Y2ggKGkpIHtcclxuICAgICAgdy5lcnJvcihcIkVycm9yIHdoaWxlIHJ1bm5pbmcgdXBkYXRlUGFnZXMoKTogXCIsIGkpO1xyXG4gICAgfVxyXG4gIHJldHVybiBjID8gYS5jdXJyZW50ID0gbyA6IGEuY3VycmVudCA9IHUsIHMuY3VycmVudCA9IHQsIHU7XHJcbn1cclxuZnVuY3Rpb24gT3QoZSwgdCkge1xyXG4gIGNvbnN0IFtuLCBhXSA9IHIudXNlU3RhdGUoMSksIHMgPSBNYXRoLm1heChNYXRoLmNlaWwodC5sZW5ndGggLyBlKSwgMSk7XHJcbiAgbiA+IHMgJiYgYShzKTtcclxuICBjb25zdCBjID0gbiAqIGUsIG8gPSBjIC0gZSwgdSA9IChsKSA9PiB7XHJcbiAgICBhKChwKSA9PiBsID09PSBcIm5leHRcIiA/IHAgPT09IHMgPyBwIDogcCArIDEgOiBwID09PSAxID8gcCA6IHAgLSAxKTtcclxuICB9LCBpID0gKGwpID0+IHtcclxuICAgIGwgPiBzID8gYShzKSA6IGwgPCAxID8gYSgxKSA6IGEobCk7XHJcbiAgfSwgZiA9IHR0KHQsIGUpLnNsaWNlKG8sIGMpO1xyXG4gIHJldHVybiB7XHJcbiAgICB0b3RhbFBhZ2VDb3VudDogcyxcclxuICAgIG5leHRQYWdlOiAoKSA9PiB1KFwibmV4dFwiKSxcclxuICAgIHByZXZQYWdlOiAoKSA9PiB1KFwicHJldmlvdXNcIiksXHJcbiAgICBzZXRQYWdlOiBpLFxyXG4gICAgZmlyc3RJdGVtSW5kZXg6IG8sXHJcbiAgICBsYXN0SXRlbUluZGV4OiBjLFxyXG4gICAgdHJhY2tzOiBmLFxyXG4gICAgY3VycmVudFBhZ2U6IG5cclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIER0KGUgPSB7fSkge1xyXG4gIGxldCB0ID0gRigpO1xyXG4gIGUucGFydGljaXBhbnQgJiYgKHQgPSBlLnBhcnRpY2lwYW50KTtcclxuICBjb25zdCBuID0gci51c2VNZW1vKCgpID0+IGZlKHQpLCBbdF0pLCB7IGlkZW50aXR5OiBhLCBuYW1lOiBzLCBtZXRhZGF0YTogYyB9ID0gYihuLCB7XHJcbiAgICBuYW1lOiB0ID09IG51bGwgPyB2b2lkIDAgOiB0Lm5hbWUsXHJcbiAgICBpZGVudGl0eTogdCA9PSBudWxsID8gdm9pZCAwIDogdC5pZGVudGl0eSxcclxuICAgIG1ldGFkYXRhOiB0ID09IG51bGwgPyB2b2lkIDAgOiB0Lm1ldGFkYXRhXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHsgaWRlbnRpdHk6IGEsIG5hbWU6IHMsIG1ldGFkYXRhOiBjIH07XHJcbn1cclxuZnVuY3Rpb24gTHQoZSA9IHt9KSB7XHJcbiAgY29uc3QgdCA9IEEoZS5wYXJ0aWNpcGFudCksIG4gPSByLnVzZU1lbW8oKCkgPT4gVyh0KSwgW3RdKTtcclxuICByZXR1cm4gYihuLCB0LnBlcm1pc3Npb25zKTtcclxufVxyXG5mdW5jdGlvbiBSdCh7XHJcbiAgdHJhY2tSZWY6IGUsXHJcbiAgb25QYXJ0aWNpcGFudENsaWNrOiB0LFxyXG4gIGRpc2FibGVTcGVha2luZ0luZGljYXRvcjogbixcclxuICBodG1sUHJvcHM6IGFcclxufSkge1xyXG4gIGNvbnN0IHMgPSBSKGUpLCBjID0gci51c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IHsgY2xhc3NOYW1lOiBwIH0gPSBwZSgpO1xyXG4gICAgcmV0dXJuIEUoYSwge1xyXG4gICAgICBjbGFzc05hbWU6IHAsXHJcbiAgICAgIG9uQ2xpY2s6IChTKSA9PiB7XHJcbiAgICAgICAgdmFyIGc7XHJcbiAgICAgICAgaWYgKChnID0gYS5vbkNsaWNrKSA9PSBudWxsIHx8IGcuY2FsbChhLCBTKSwgdHlwZW9mIHQgPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICBjb25zdCBtID0gcy5wdWJsaWNhdGlvbiA/PyBzLnBhcnRpY2lwYW50LmdldFRyYWNrUHVibGljYXRpb24ocy5zb3VyY2UpO1xyXG4gICAgICAgICAgdCh7IHBhcnRpY2lwYW50OiBzLnBhcnRpY2lwYW50LCB0cmFjazogbSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sIFtcclxuICAgIGEsXHJcbiAgICB0LFxyXG4gICAgcy5wdWJsaWNhdGlvbixcclxuICAgIHMuc291cmNlLFxyXG4gICAgcy5wYXJ0aWNpcGFudFxyXG4gIF0pLCBvID0gcy5wYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKHYuU291cmNlLk1pY3JvcGhvbmUpLCB1ID0gci51c2VNZW1vKCgpID0+ICh7XHJcbiAgICBwYXJ0aWNpcGFudDogcy5wYXJ0aWNpcGFudCxcclxuICAgIHNvdXJjZTogdi5Tb3VyY2UuTWljcm9waG9uZSxcclxuICAgIHB1YmxpY2F0aW9uOiBvXHJcbiAgfSksIFtvLCBzLnBhcnRpY2lwYW50XSksIGkgPSB6KHMpLCBkID0geih1KSwgZiA9IEtlKHMucGFydGljaXBhbnQpLCBsID0gWmUocyk7XHJcbiAgcmV0dXJuIHtcclxuICAgIGVsZW1lbnRQcm9wczoge1xyXG4gICAgICBcImRhdGEtbGstYXVkaW8tbXV0ZWRcIjogZCxcclxuICAgICAgXCJkYXRhLWxrLXZpZGVvLW11dGVkXCI6IGksXHJcbiAgICAgIFwiZGF0YS1say1zcGVha2luZ1wiOiBuID09PSAhMCA/ICExIDogZixcclxuICAgICAgXCJkYXRhLWxrLWxvY2FsLXBhcnRpY2lwYW50XCI6IHMucGFydGljaXBhbnQuaXNMb2NhbCxcclxuICAgICAgXCJkYXRhLWxrLXNvdXJjZVwiOiBzLnNvdXJjZSxcclxuICAgICAgXCJkYXRhLWxrLWZhY2luZy1tb2RlXCI6IGwsXHJcbiAgICAgIC4uLmNcclxuICAgIH1cclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIEgoZSA9IHt9KSB7XHJcbiAgY29uc3QgdCA9IGsoZS5yb29tKSwgW24sIGFdID0gci51c2VTdGF0ZShbXSk7XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHMgPSBiZSh0LCB7XHJcbiAgICAgIGFkZGl0aW9uYWxSb29tRXZlbnRzOiBlLnVwZGF0ZU9ubHlPblxyXG4gICAgfSkuc3Vic2NyaWJlKGEpO1xyXG4gICAgcmV0dXJuICgpID0+IHMudW5zdWJzY3JpYmUoKTtcclxuICB9LCBbdCwgSlNPTi5zdHJpbmdpZnkoZS51cGRhdGVPbmx5T24pXSksIG47XHJcbn1cclxuZnVuY3Rpb24gTnQoZSA9IHt9KSB7XHJcbiAgY29uc3QgdCA9IEgoZSksIHsgbG9jYWxQYXJ0aWNpcGFudDogbiB9ID0gZXQoZSk7XHJcbiAgcmV0dXJuIHIudXNlTWVtbyhcclxuICAgICgpID0+IFtuLCAuLi50XSxcclxuICAgIFtuLCB0XVxyXG4gICk7XHJcbn1cclxuZnVuY3Rpb24gRnQoZSkge1xyXG4gIHJldHVybiBlID0gbWUoZSksIHIudXNlTWVtbygoKSA9PiAoZSA9PSBudWxsID8gdm9pZCAwIDogZS5waW4uc3RhdGUpICE9PSB2b2lkIDAgJiYgZS5waW4uc3RhdGUubGVuZ3RoID49IDEgPyBlLnBpbi5zdGF0ZSA6IFtdLCBbZS5waW4uc3RhdGVdKTtcclxufVxyXG5mdW5jdGlvbiBWdChlLCB0ID0ge30pIHtcclxuICBjb25zdCBuID0gVCgpLCBbYV0gPSByLnVzZVN0YXRlKHQudXBkYXRlT25seU9uKSwgcyA9IHIudXNlTWVtbygoKSA9PiB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gU2UobiwgZSwge1xyXG4gICAgYWRkaXRpb25hbEV2ZW50czogYVxyXG4gIH0pIDogZ2UobiwgZSwge1xyXG4gICAgYWRkaXRpb25hbEV2ZW50czogYVxyXG4gIH0pLCBbbiwgSlNPTi5zdHJpbmdpZnkoZSksIGFdKSwgW2MsIG9dID0gci51c2VTdGF0ZSh7XHJcbiAgICBwOiB2b2lkIDBcclxuICB9KTtcclxuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgdSA9IHMuc3Vic2NyaWJlKChpKSA9PiBvKHsgcDogaSB9KSk7XHJcbiAgICByZXR1cm4gKCkgPT4gdS51bnN1YnNjcmliZSgpO1xyXG4gIH0sIFtzXSksIGMucDtcclxufVxyXG5mdW5jdGlvbiBfdChlID0ge30pIHtcclxuICBjb25zdCB0ID0gayhlLnJvb20pLCBuID0gci51c2VNZW1vKCgpID0+IHZlKHQpLCBbdF0pLCB7IG5hbWU6IGEsIG1ldGFkYXRhOiBzIH0gPSBiKG4sIHtcclxuICAgIG5hbWU6IHQubmFtZSxcclxuICAgIG1ldGFkYXRhOiB0Lm1ldGFkYXRhXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHsgbmFtZTogYSwgbWV0YWRhdGE6IHMgfTtcclxufVxyXG5mdW5jdGlvbiBudCgpIHtcclxuICBjb25zdCBlID0gVCgpLCB0ID0gci51c2VNZW1vKCgpID0+IGhlKGUpLCBbZV0pO1xyXG4gIHJldHVybiBiKHQsIGUuYWN0aXZlU3BlYWtlcnMpO1xyXG59XHJcbmZ1bmN0aW9uIEJ0KGUpIHtcclxuICBjb25zdCBbdCwgbl0gPSByLnVzZVN0YXRlKFxyXG4gICAgXyhlKVxyXG4gICksIGEgPSBudCgpO1xyXG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBuKF8oZSkpO1xyXG4gIH0sIFthLCBlXSksIHQ7XHJcbn1cclxuZnVuY3Rpb24genQoeyByb29tOiBlLCBwcm9wczogdCB9KSB7XHJcbiAgY29uc3QgbiA9IGsoZSksIHsgY2xhc3NOYW1lOiBhLCByb29tQXVkaW9QbGF5YmFja0FsbG93ZWRPYnNlcnZhYmxlOiBzLCBoYW5kbGVTdGFydEF1ZGlvUGxheWJhY2s6IGMgfSA9IHIudXNlTWVtbyhcclxuICAgICgpID0+IE1lKCksXHJcbiAgICBbXVxyXG4gICksIG8gPSByLnVzZU1lbW8oXHJcbiAgICAoKSA9PiBzKG4pLFxyXG4gICAgW24sIHNdXHJcbiAgKSwgeyBjYW5QbGF5QXVkaW86IHUgfSA9IGIobywge1xyXG4gICAgY2FuUGxheUF1ZGlvOiBuLmNhblBsYXliYWNrQXVkaW9cclxuICB9KTtcclxuICByZXR1cm4geyBtZXJnZWRQcm9wczogci51c2VNZW1vKFxyXG4gICAgKCkgPT4gRSh0LCB7XHJcbiAgICAgIGNsYXNzTmFtZTogYSxcclxuICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgIGMobik7XHJcbiAgICAgIH0sXHJcbiAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IHUgPyBcIm5vbmVcIiA6IFwiYmxvY2tcIiB9XHJcbiAgICB9KSxcclxuICAgIFt0LCBhLCB1LCBjLCBuXVxyXG4gICksIGNhblBsYXlBdWRpbzogdSB9O1xyXG59XHJcbmZ1bmN0aW9uIFV0KHsgcm9vbTogZSwgcHJvcHM6IHQgfSkge1xyXG4gIGNvbnN0IG4gPSBrKGUpLCB7IGNsYXNzTmFtZTogYSwgcm9vbVZpZGVvUGxheWJhY2tBbGxvd2VkT2JzZXJ2YWJsZTogcywgaGFuZGxlU3RhcnRWaWRlb1BsYXliYWNrOiBjIH0gPSByLnVzZU1lbW8oXHJcbiAgICAoKSA9PiB5ZSgpLFxyXG4gICAgW11cclxuICApLCBvID0gci51c2VNZW1vKFxyXG4gICAgKCkgPT4gcyhuKSxcclxuICAgIFtuLCBzXVxyXG4gICksIHsgY2FuUGxheVZpZGVvOiB1IH0gPSBiKG8sIHtcclxuICAgIGNhblBsYXlWaWRlbzogbi5jYW5QbGF5YmFja1ZpZGVvXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHsgbWVyZ2VkUHJvcHM6IHIudXNlTWVtbyhcclxuICAgICgpID0+IEUodCwge1xyXG4gICAgICBjbGFzc05hbWU6IGEsXHJcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICBjKG4pO1xyXG4gICAgICB9LFxyXG4gICAgICBzdHlsZTogeyBkaXNwbGF5OiB1ID8gXCJub25lXCIgOiBcImJsb2NrXCIgfVxyXG4gICAgfSksXHJcbiAgICBbdCwgYSwgdSwgYywgbl1cclxuICApLCBjYW5QbGF5VmlkZW86IHUgfTtcclxufVxyXG5mdW5jdGlvbiBxdChlLCB0ID0ge30pIHtcclxuICBjb25zdCBuID0gci51c2VSZWYobnVsbCksIGEgPSByLnVzZVJlZihudWxsKSwgcyA9IHQubWluU3dpcGVEaXN0YW5jZSA/PyA1MCwgYyA9IChpKSA9PiB7XHJcbiAgICBhLmN1cnJlbnQgPSBudWxsLCBuLmN1cnJlbnQgPSBpLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WDtcclxuICB9LCBvID0gKGkpID0+IHtcclxuICAgIGEuY3VycmVudCA9IGkudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xyXG4gIH0sIHUgPSByLnVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghbi5jdXJyZW50IHx8ICFhLmN1cnJlbnQpXHJcbiAgICAgIHJldHVybjtcclxuICAgIGNvbnN0IGkgPSBuLmN1cnJlbnQgLSBhLmN1cnJlbnQsIGQgPSBpID4gcywgZiA9IGkgPCAtcztcclxuICAgIGQgJiYgdC5vbkxlZnRTd2lwZSAmJiB0Lm9uTGVmdFN3aXBlKCksIGYgJiYgdC5vblJpZ2h0U3dpcGUgJiYgdC5vblJpZ2h0U3dpcGUoKTtcclxuICB9LCBbcywgdF0pO1xyXG4gIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGkgPSBlLmN1cnJlbnQ7XHJcbiAgICByZXR1cm4gaSAmJiAoaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBjLCB7IHBhc3NpdmU6ICEwIH0pLCBpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgbywgeyBwYXNzaXZlOiAhMCB9KSwgaS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdSwgeyBwYXNzaXZlOiAhMCB9KSksICgpID0+IHtcclxuICAgICAgaSAmJiAoaS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBjKSwgaS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIG8pLCBpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB1KSk7XHJcbiAgICB9O1xyXG4gIH0sIFtlLCB1XSk7XHJcbn1cclxuZnVuY3Rpb24gSnQoeyBwcm9wczogZSB9KSB7XHJcbiAgY29uc3QgeyBkaXNwYXRjaDogdCwgc3RhdGU6IG4gfSA9IHgoKS53aWRnZXQsIHsgY2xhc3NOYW1lOiBhIH0gPSByLnVzZU1lbW8oKCkgPT4gUGUoKSwgW10pO1xyXG4gIHJldHVybiB7IG1lcmdlZFByb3BzOiByLnVzZU1lbW8oKCkgPT4gRShlLCB7XHJcbiAgICBjbGFzc05hbWU6IGEsXHJcbiAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgIHQgJiYgdCh7IG1zZzogXCJ0b2dnbGVfY2hhdFwiIH0pO1xyXG4gICAgfSxcclxuICAgIFwiYXJpYS1wcmVzc2VkXCI6IG4gIT0gbnVsbCAmJiBuLnNob3dDaGF0ID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIsXHJcbiAgICBcImRhdGEtbGstdW5yZWFkLW1zZ3NcIjogbiA/IG4udW5yZWFkTWVzc2FnZXMgPCAxMCA/IG4udW5yZWFkTWVzc2FnZXMudG9GaXhlZCgwKSA6IFwiOStcIiA6IFwiMFwiXHJcbiAgfSksIFtlLCBhLCB0LCBuXSkgfTtcclxufVxyXG5mdW5jdGlvbiB4dChlLCB0LCBuID0ge30pIHtcclxuICBjb25zdCBbYSwgc10gPSByLnVzZVN0YXRlKHZvaWQgMCk7XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHZhciBvO1xyXG4gICAgaWYgKGUgPT09IHZvaWQgMClcclxuICAgICAgdGhyb3cgRXJyb3IoXCJ0b2tlbiBlbmRwb2ludCBuZWVkcyB0byBiZSBkZWZpbmVkXCIpO1xyXG4gICAgaWYgKCgobyA9IG4udXNlckluZm8pID09IG51bGwgPyB2b2lkIDAgOiBvLmlkZW50aXR5KSA9PT0gdm9pZCAwKVxyXG4gICAgICByZXR1cm47XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICB3LmRlYnVnKFwiZmV0Y2hpbmcgdG9rZW5cIik7XHJcbiAgICAgIGNvbnN0IHUgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHsgLi4ubi51c2VySW5mbywgcm9vbU5hbWU6IHQgfSksIGkgPSBhd2FpdCBmZXRjaChgJHtlfT8ke3UudG9TdHJpbmcoKX1gKTtcclxuICAgICAgaWYgKCFpLm9rKSB7XHJcbiAgICAgICAgdy5lcnJvcihcclxuICAgICAgICAgIGBDb3VsZCBub3QgZmV0Y2ggdG9rZW4uIFNlcnZlciByZXNwb25kZWQgd2l0aCBzdGF0dXMgJHtpLnN0YXR1c306ICR7aS5zdGF0dXNUZXh0fWBcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB7IGFjY2Vzc1Rva2VuOiBkIH0gPSBhd2FpdCBpLmpzb24oKTtcclxuICAgICAgcyhkKTtcclxuICAgIH0pKCk7XHJcbiAgfSwgW2UsIHQsIEpTT04uc3RyaW5naWZ5KG4pXSksIGE7XHJcbn1cclxuZnVuY3Rpb24gV3QoZSkge1xyXG4gIHZhciBjLCBvO1xyXG4gIGNvbnN0IHQgPSBSKGUpLCB7IGNsYXNzTmFtZTogbiwgbWVkaWFNdXRlZE9ic2VydmVyOiBhIH0gPSByLnVzZU1lbW8oXHJcbiAgICAoKSA9PiBrZSh0KSxcclxuICAgIFtOKHQpXVxyXG4gICk7XHJcbiAgcmV0dXJuIHsgaXNNdXRlZDogYihcclxuICAgIGEsXHJcbiAgICAhISgoYyA9IHQucHVibGljYXRpb24pICE9IG51bGwgJiYgYy5pc011dGVkIHx8IChvID0gdC5wYXJ0aWNpcGFudC5nZXRUcmFja1B1YmxpY2F0aW9uKHQuc291cmNlKSkgIT0gbnVsbCAmJiBvLmlzTXV0ZWQpXHJcbiAgKSwgY2xhc3NOYW1lOiBuIH07XHJcbn1cclxuZnVuY3Rpb24gR3Qoe1xyXG4gIHNvdXJjZTogZSxcclxuICBvbkNoYW5nZTogdCxcclxuICBpbml0aWFsU3RhdGU6IG4sXHJcbiAgY2FwdHVyZU9wdGlvbnM6IGEsXHJcbiAgcHVibGlzaE9wdGlvbnM6IHMsXHJcbiAgb25EZXZpY2VFcnJvcjogYyxcclxuICAuLi5vXHJcbn0pIHtcclxuICB2YXIgUDtcclxuICBjb25zdCB1ID0gRygpLCBpID0gKFAgPSB1ID09IG51bGwgPyB2b2lkIDAgOiB1LmxvY2FsUGFydGljaXBhbnQpID09IG51bGwgPyB2b2lkIDAgOiBQLmdldFRyYWNrUHVibGljYXRpb24oZSksIGQgPSByLnVzZVJlZighMSksIHsgdG9nZ2xlOiBmLCBjbGFzc05hbWU6IGwsIHBlbmRpbmdPYnNlcnZlcjogcCwgZW5hYmxlZE9ic2VydmVyOiBTIH0gPSByLnVzZU1lbW8oXHJcbiAgICAoKSA9PiB1ID8gVGUoZSwgdSwgYSwgcywgYykgOiBFZSgpLFxyXG4gICAgW3UsIGUsIEpTT04uc3RyaW5naWZ5KGEpLCBzXVxyXG4gICksIGcgPSBiKHAsICExKSwgbSA9IGIoUywgbiA/PyAhIShpICE9IG51bGwgJiYgaS5pc0VuYWJsZWQpKTtcclxuICByLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICB0ID09IG51bGwgfHwgdChtLCBkLmN1cnJlbnQpLCBkLmN1cnJlbnQgPSAhMTtcclxuICB9LCBbbSwgdF0pLCByLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBuICE9PSB2b2lkIDAgJiYgKHcuZGVidWcoXCJmb3JjaW5nIGluaXRpYWwgdG9nZ2xlIHN0YXRlXCIsIGUsIG4pLCBmKG4pKTtcclxuICB9LCBbXSk7XHJcbiAgY29uc3QgeSA9IHIudXNlTWVtbygoKSA9PiBFKG8sIHsgY2xhc3NOYW1lOiBsIH0pLCBbbywgbF0pLCBoID0gci51c2VDYWxsYmFjayhcclxuICAgIChNKSA9PiB7XHJcbiAgICAgIHZhciBPO1xyXG4gICAgICBkLmN1cnJlbnQgPSAhMCwgZigpLmNhdGNoKCgpID0+IGQuY3VycmVudCA9ICExKSwgKE8gPSBvLm9uQ2xpY2spID09IG51bGwgfHwgTy5jYWxsKG8sIE0pO1xyXG4gICAgfSxcclxuICAgIFtvLCBmXVxyXG4gICk7XHJcbiAgcmV0dXJuIHtcclxuICAgIHRvZ2dsZTogZixcclxuICAgIGVuYWJsZWQ6IG0sXHJcbiAgICBwZW5kaW5nOiBnLFxyXG4gICAgdHJhY2s6IGksXHJcbiAgICBidXR0b25Qcm9wczoge1xyXG4gICAgICAuLi55LFxyXG4gICAgICBcImFyaWEtcHJlc3NlZFwiOiBtLFxyXG4gICAgICBcImRhdGEtbGstc291cmNlXCI6IGUsXHJcbiAgICAgIFwiZGF0YS1say1lbmFibGVkXCI6IG0sXHJcbiAgICAgIGRpc2FibGVkOiBnLFxyXG4gICAgICBvbkNsaWNrOiBoXHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5mdW5jdGlvbiBRdChlID0gW1xyXG4gIHYuU291cmNlLkNhbWVyYSxcclxuICB2LlNvdXJjZS5NaWNyb3Bob25lLFxyXG4gIHYuU291cmNlLlNjcmVlblNoYXJlLFxyXG4gIHYuU291cmNlLlNjcmVlblNoYXJlQXVkaW8sXHJcbiAgdi5Tb3VyY2UuVW5rbm93blxyXG5dLCB0ID0ge30pIHtcclxuICBjb25zdCBuID0gayh0LnJvb20pLCBbYSwgc10gPSByLnVzZVN0YXRlKFtdKSwgW2MsIG9dID0gci51c2VTdGF0ZShbXSksIHUgPSByLnVzZU1lbW8oKCkgPT4gZS5tYXAoKGQpID0+IHdlKGQpID8gZC5zb3VyY2UgOiBkKSwgW0pTT04uc3RyaW5naWZ5KGUpXSk7XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGQgPSBBZShuLCB1LCB7XHJcbiAgICAgIGFkZGl0aW9uYWxSb29tRXZlbnRzOiB0LnVwZGF0ZU9ubHlPbixcclxuICAgICAgb25seVN1YnNjcmliZWQ6IHQub25seVN1YnNjcmliZWRcclxuICAgIH0pLnN1YnNjcmliZSgoeyB0cmFja1JlZmVyZW5jZXM6IGYsIHBhcnRpY2lwYW50czogbCB9KSA9PiB7XHJcbiAgICAgIHcuZGVidWcoXCJzZXR0aW5nIHRyYWNrIGJ1bmRsZXNcIiwgZiwgbCksIHMoZiksIG8obCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiAoKSA9PiBkLnVuc3Vic2NyaWJlKCk7XHJcbiAgfSwgW1xyXG4gICAgbixcclxuICAgIEpTT04uc3RyaW5naWZ5KHQub25seVN1YnNjcmliZWQpLFxyXG4gICAgSlNPTi5zdHJpbmdpZnkodC51cGRhdGVPbmx5T24pLFxyXG4gICAgSlNPTi5zdHJpbmdpZnkoZSlcclxuICBdKSwgci51c2VNZW1vKCgpID0+IHtcclxuICAgIGlmICgkKGUpKSB7XHJcbiAgICAgIGNvbnN0IGQgPSBhdChlLCBjKSwgZiA9IEFycmF5LmZyb20oYSk7XHJcbiAgICAgIHJldHVybiBjLmZvckVhY2goKGwpID0+IHtcclxuICAgICAgICBkLmhhcyhsLmlkZW50aXR5KSAmJiAoZC5nZXQobC5pZGVudGl0eSkgPz8gW10pLmZvckVhY2goKFMpID0+IHtcclxuICAgICAgICAgIGlmIChhLmZpbmQoXHJcbiAgICAgICAgICAgICh7IHBhcnRpY2lwYW50OiBtLCBwdWJsaWNhdGlvbjogeSB9KSA9PiBsLmlkZW50aXR5ID09PSBtLmlkZW50aXR5ICYmIHkuc291cmNlID09PSBTXHJcbiAgICAgICAgICApKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB3LmRlYnVnKFxyXG4gICAgICAgICAgICBgQWRkICR7U30gcGxhY2Vob2xkZXIgZm9yIHBhcnRpY2lwYW50ICR7bC5pZGVudGl0eX0uYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIGNvbnN0IGcgPSB7XHJcbiAgICAgICAgICAgIHBhcnRpY2lwYW50OiBsLFxyXG4gICAgICAgICAgICBzb3VyY2U6IFNcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBmLnB1c2goZyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pLCBmO1xyXG4gICAgfSBlbHNlXHJcbiAgICAgIHJldHVybiBhO1xyXG4gIH0sIFthLCBjLCBlXSk7XHJcbn1cclxuZnVuY3Rpb24gc3QoZSwgdCkge1xyXG4gIGNvbnN0IG4gPSBuZXcgU2V0KGUpO1xyXG4gIGZvciAoY29uc3QgYSBvZiB0KVxyXG4gICAgbi5kZWxldGUoYSk7XHJcbiAgcmV0dXJuIG47XHJcbn1cclxuZnVuY3Rpb24gYXQoZSwgdCkge1xyXG4gIGNvbnN0IG4gPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xyXG4gIGlmICgkKGUpKSB7XHJcbiAgICBjb25zdCBhID0gZS5maWx0ZXIoKHMpID0+IHMud2l0aFBsYWNlaG9sZGVyKS5tYXAoKHMpID0+IHMuc291cmNlKTtcclxuICAgIHQuZm9yRWFjaCgocykgPT4ge1xyXG4gICAgICBjb25zdCBjID0gcy5nZXRUcmFja1B1YmxpY2F0aW9ucygpLm1hcCgodSkgPT4ge1xyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIHJldHVybiAoaSA9IHUudHJhY2spID09IG51bGwgPyB2b2lkIDAgOiBpLnNvdXJjZTtcclxuICAgICAgfSkuZmlsdGVyKCh1KSA9PiB1ICE9PSB2b2lkIDApLCBvID0gQXJyYXkuZnJvbShcclxuICAgICAgICBzdChuZXcgU2V0KGEpLCBuZXcgU2V0KGMpKVxyXG4gICAgICApO1xyXG4gICAgICBvLmxlbmd0aCA+IDAgJiYgbi5zZXQocy5pZGVudGl0eSwgbyk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcmV0dXJuIG47XHJcbn1cclxuZnVuY3Rpb24gcnQoZSkge1xyXG4gIGNvbnN0IFt0LCBuXSA9IHIudXNlU3RhdGUoQ2UoZSkpLCB7IHRyYWNrT2JzZXJ2ZXI6IGEgfSA9IHIudXNlTWVtbygoKSA9PiBJZShlKSwgW2UucGFydGljaXBhbnQuc2lkID8/IGUucGFydGljaXBhbnQuaWRlbnRpdHksIGUuc291cmNlXSk7XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHMgPSBhLnN1YnNjcmliZSgoYykgPT4ge1xyXG4gICAgICBuKGMpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKCkgPT4gcyA9PSBudWxsID8gdm9pZCAwIDogcy51bnN1YnNjcmliZSgpO1xyXG4gIH0sIFthXSksIHtcclxuICAgIHBhcnRpY2lwYW50OiBlLnBhcnRpY2lwYW50LFxyXG4gICAgc291cmNlOiBlLnNvdXJjZSA/PyB2LlNvdXJjZS5Vbmtub3duLFxyXG4gICAgcHVibGljYXRpb246IHRcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uICR0KGUsIHQpIHtcclxuICBjb25zdCBuID0gQSh0KTtcclxuICByZXR1cm4gcnQoeyBuYW1lOiBlLCBwYXJ0aWNpcGFudDogbiB9KTtcclxufVxyXG5mdW5jdGlvbiBIdChlKSB7XHJcbiAgY29uc3QgdCA9IFQoKSwgbiA9IEkodCksIGEgPSByLnVzZU1lbW8oXHJcbiAgICAoKSA9PiBuID09PSBDLkRpc2Nvbm5lY3RlZCxcclxuICAgIFtuXVxyXG4gICksIHMgPSByLnVzZU1lbW8oXHJcbiAgICAoKSA9PiBPZSh0LCBlKSxcclxuICAgIFt0LCBlLCBhXVxyXG4gICksIGMgPSBiKHMuaXNTZW5kaW5nT2JzZXJ2YWJsZSwgITEpLCBvID0gYihzLm1lc3NhZ2VPYnNlcnZhYmxlLCBbXSk7XHJcbiAgcmV0dXJuIHsgc2VuZDogcy5zZW5kLCBjaGF0TWVzc2FnZXM6IG8sIGlzU2VuZGluZzogYyB9O1xyXG59XHJcbmZ1bmN0aW9uIGp0KGUgPSB7fSkge1xyXG4gIGNvbnN0IFt0LCBuXSA9IHIudXNlU3RhdGUoXHJcbiAgICBEZShlLmRlZmF1bHRzLCBlLnByZXZlbnRMb2FkID8/ICExKVxyXG4gICksIGEgPSByLnVzZUNhbGxiYWNrKChpKSA9PiB7XHJcbiAgICBuKChkKSA9PiAoeyAuLi5kLCBhdWRpb0VuYWJsZWQ6IGkgfSkpO1xyXG4gIH0sIFtdKSwgcyA9IHIudXNlQ2FsbGJhY2soKGkpID0+IHtcclxuICAgIG4oKGQpID0+ICh7IC4uLmQsIHZpZGVvRW5hYmxlZDogaSB9KSk7XHJcbiAgfSwgW10pLCBjID0gci51c2VDYWxsYmFjaygoaSkgPT4ge1xyXG4gICAgbigoZCkgPT4gKHsgLi4uZCwgYXVkaW9EZXZpY2VJZDogaSB9KSk7XHJcbiAgfSwgW10pLCBvID0gci51c2VDYWxsYmFjaygoaSkgPT4ge1xyXG4gICAgbigoZCkgPT4gKHsgLi4uZCwgdmlkZW9EZXZpY2VJZDogaSB9KSk7XHJcbiAgfSwgW10pLCB1ID0gci51c2VDYWxsYmFjaygoaSkgPT4ge1xyXG4gICAgbigoZCkgPT4gKHsgLi4uZCwgdXNlcm5hbWU6IGkgfSkpO1xyXG4gIH0sIFtdKTtcclxuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgTGUodCwgZS5wcmV2ZW50U2F2ZSA/PyAhMSk7XHJcbiAgfSwgW3QsIGUucHJldmVudFNhdmVdKSwge1xyXG4gICAgdXNlckNob2ljZXM6IHQsXHJcbiAgICBzYXZlQXVkaW9JbnB1dEVuYWJsZWQ6IGEsXHJcbiAgICBzYXZlVmlkZW9JbnB1dEVuYWJsZWQ6IHMsXHJcbiAgICBzYXZlQXVkaW9JbnB1dERldmljZUlkOiBjLFxyXG4gICAgc2F2ZVZpZGVvSW5wdXREZXZpY2VJZDogbyxcclxuICAgIHNhdmVVc2VybmFtZTogdVxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gWHQoZSwgdCA9IHt9KSB7XHJcbiAgY29uc3QgbiA9IEEoZSksIGEgPSBrKHQucm9vbSksIHMgPSByLnVzZU1lbW8oKCkgPT4gUmUoYSwgbiksIFthLCBuXSk7XHJcbiAgcmV0dXJuIGIoXHJcbiAgICBzLFxyXG4gICAgbi5pc0xvY2FsID8gbi5pc0UyRUVFbmFibGVkIDogISEobiAhPSBudWxsICYmIG4uaXNFbmNyeXB0ZWQpXHJcbiAgKTtcclxufVxyXG5mdW5jdGlvbiBZdChlLCB0ID0geyBmZnRTaXplOiAzMiwgc21vb3RoaW5nVGltZUNvbnN0YW50OiAwIH0pIHtcclxuICBjb25zdCBuID0gTmUoZSkgPyBlLnB1YmxpY2F0aW9uLnRyYWNrIDogZSwgW2EsIHNdID0gci51c2VTdGF0ZSgwKTtcclxuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFuIHx8ICFuLm1lZGlhU3RyZWFtKVxyXG4gICAgICByZXR1cm47XHJcbiAgICBjb25zdCB7IGNsZWFudXA6IGMsIGFuYWx5c2VyOiBvIH0gPSBWKG4sIHQpLCB1ID0gby5mcmVxdWVuY3lCaW5Db3VudCwgaSA9IG5ldyBVaW50OEFycmF5KHUpLCBmID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICBvLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGkpO1xyXG4gICAgICBsZXQgbCA9IDA7XHJcbiAgICAgIGZvciAobGV0IHAgPSAwOyBwIDwgaS5sZW5ndGg7IHArKykge1xyXG4gICAgICAgIGNvbnN0IFMgPSBpW3BdO1xyXG4gICAgICAgIGwgKz0gUyAqIFM7XHJcbiAgICAgIH1cclxuICAgICAgcyhNYXRoLnNxcnQobCAvIGkubGVuZ3RoKSAvIDI1NSk7XHJcbiAgICB9LCAxZTMgLyAzMCk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBjKCksIGNsZWFySW50ZXJ2YWwoZik7XHJcbiAgICB9O1xyXG4gIH0sIFtuLCBuID09IG51bGwgPyB2b2lkIDAgOiBuLm1lZGlhU3RyZWFtLCBKU09OLnN0cmluZ2lmeSh0KV0pLCBhO1xyXG59XHJcbmNvbnN0IGN0ID0gKGUpID0+IHtcclxuICBjb25zdCB0ID0gKG4pID0+IHtcclxuICAgIGxldCBjID0gMSAtIE1hdGgubWF4KC0xMDAsIE1hdGgubWluKC0xMCwgbikpICogLTEgLyAxMDA7XHJcbiAgICByZXR1cm4gYyA9IE1hdGguc3FydChjKSwgYztcclxuICB9O1xyXG4gIHJldHVybiBlLm1hcCgobikgPT4gbiA9PT0gLTEgLyAwID8gMCA6IHQobikpO1xyXG59LCBvdCA9IHtcclxuICBiYW5kczogNSxcclxuICBsb1Bhc3M6IDEwMCxcclxuICBoaVBhc3M6IDYwMCxcclxuICB1cGRhdGVJbnRlcnZhbDogMzIsXHJcbiAgYW5hbHlzZXJPcHRpb25zOiB7IGZmdFNpemU6IDIwNDggfVxyXG59O1xyXG5mdW5jdGlvbiBadChlLCB0ID0ge30pIHtcclxuICB2YXIgbztcclxuICBjb25zdCBuID0gZSBpbnN0YW5jZW9mIHYgPyBlIDogKG8gPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogby50cmFjaywgYSA9IHsgLi4ub3QsIC4uLnQgfSwgW3MsIGNdID0gci51c2VTdGF0ZShcclxuICAgIG5ldyBBcnJheShhLmJhbmRzKS5maWxsKDApXHJcbiAgKTtcclxuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFuIHx8ICEobiAhPSBudWxsICYmIG4ubWVkaWFTdHJlYW0pKVxyXG4gICAgICByZXR1cm47XHJcbiAgICBjb25zdCB7IGFuYWx5c2VyOiB1LCBjbGVhbnVwOiBpIH0gPSBWKG4sIGEuYW5hbHlzZXJPcHRpb25zKSwgZCA9IHUuZnJlcXVlbmN5QmluQ291bnQsIGYgPSBuZXcgRmxvYXQzMkFycmF5KGQpLCBwID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB1LmdldEZsb2F0RnJlcXVlbmN5RGF0YShmKTtcclxuICAgICAgbGV0IFMgPSBuZXcgRmxvYXQzMkFycmF5KGYubGVuZ3RoKTtcclxuICAgICAgZm9yIChsZXQgaCA9IDA7IGggPCBmLmxlbmd0aDsgaCsrKVxyXG4gICAgICAgIFNbaF0gPSBmW2hdO1xyXG4gICAgICBTID0gUy5zbGljZSh0LmxvUGFzcywgdC5oaVBhc3MpO1xyXG4gICAgICBjb25zdCBnID0gY3QoUyksIG0gPSBNYXRoLmNlaWwoZy5sZW5ndGggLyBhLmJhbmRzKSwgeSA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBoID0gMDsgaCA8IGEuYmFuZHM7IGgrKykge1xyXG4gICAgICAgIGNvbnN0IFAgPSBnLnNsaWNlKGggKiBtLCAoaCArIDEpICogbSkucmVkdWNlKChNLCBPKSA9PiBNICs9IE8sIDApO1xyXG4gICAgICAgIHkucHVzaChQIC8gbSk7XHJcbiAgICAgIH1cclxuICAgICAgYyh5KTtcclxuICAgIH0sIGEudXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaSgpLCBjbGVhckludGVydmFsKHApO1xyXG4gICAgfTtcclxuICB9LCBbbiwgbiA9PSBudWxsID8gdm9pZCAwIDogbi5tZWRpYVN0cmVhbSwgSlNPTi5zdHJpbmdpZnkodCldKSwgcztcclxufVxyXG5jb25zdCBpdCA9IHtcclxuICBiYXJDb3VudDogMTIwLFxyXG4gIHZvbE11bHRpcGxpZXI6IDUsXHJcbiAgdXBkYXRlSW50ZXJ2YWw6IDIwXHJcbn07XHJcbmZ1bmN0aW9uIEt0KGUsIHQgPSB7fSkge1xyXG4gIHZhciBmO1xyXG4gIGNvbnN0IG4gPSBlIGluc3RhbmNlb2YgdiA/IGUgOiAoZiA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBmLnRyYWNrLCBhID0geyAuLi5pdCwgLi4udCB9LCBzID0gci51c2VSZWYobmV3IEZsb2F0MzJBcnJheSgpKSwgYyA9IHIudXNlUmVmKHBlcmZvcm1hbmNlLm5vdygpKSwgbyA9IHIudXNlUmVmKDApLCBbdSwgaV0gPSByLnVzZVN0YXRlKFtdKSwgZCA9IHIudXNlQ2FsbGJhY2soKGwpID0+IHtcclxuICAgIGkoXHJcbiAgICAgIEFycmF5LmZyb20oXHJcbiAgICAgICAgZHQobCwgYS5iYXJDb3VudCkubWFwKChwKSA9PiBNYXRoLnNxcnQocCkgKiBhLnZvbE11bHRpcGxpZXIpXHJcbiAgICAgICAgLy8gd2F2ZS5zbGljZSgwLCBvcHRzLmJhckNvdW50KS5tYXAoKHYpID0+IHNpZ21vaWQodiAqIG9wdHMudm9sTXVsdGlwbGllciwgMC4wOCwgMC4yKSksXHJcbiAgICAgIClcclxuICAgICk7XHJcbiAgfSwgW10pO1xyXG4gIHJldHVybiByLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoIW4gfHwgIShuICE9IG51bGwgJiYgbi5tZWRpYVN0cmVhbSkpXHJcbiAgICAgIHJldHVybjtcclxuICAgIGNvbnN0IHsgYW5hbHlzZXI6IGwsIGNsZWFudXA6IHAgfSA9IFYobiwge1xyXG4gICAgICBmZnRTaXplOiBVKGEuYmFyQ291bnQpXHJcbiAgICB9KSwgUyA9IFUoYS5iYXJDb3VudCksIGcgPSBuZXcgRmxvYXQzMkFycmF5KFMpLCBtID0gKCkgPT4ge1xyXG4gICAgICBpZiAoeSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShtKSwgbC5nZXRGbG9hdFRpbWVEb21haW5EYXRhKGcpLCBzLmN1cnJlbnQubWFwKChoLCBQKSA9PiBoICsgZ1tQXSksIG8uY3VycmVudCArPSAxLCBwZXJmb3JtYW5jZS5ub3coKSAtIGMuY3VycmVudCA+PSBhLnVwZGF0ZUludGVydmFsKSB7XHJcbiAgICAgICAgY29uc3QgaCA9IGcubWFwKChQKSA9PiBQIC8gby5jdXJyZW50KTtcclxuICAgICAgICBkKGgpLCBjLmN1cnJlbnQgPSBwZXJmb3JtYW5jZS5ub3coKSwgby5jdXJyZW50ID0gMDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIGxldCB5ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG0pO1xyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgcCgpLCBjYW5jZWxBbmltYXRpb25GcmFtZSh5KTtcclxuICAgIH07XHJcbiAgfSwgW24sIG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4ubWVkaWFTdHJlYW0sIEpTT04uc3RyaW5naWZ5KHQpLCBkXSksIHtcclxuICAgIGJhcnM6IHVcclxuICB9O1xyXG59XHJcbmZ1bmN0aW9uIFUoZSkge1xyXG4gIHJldHVybiBlIDwgMzIgPyAzMiA6IHV0KGUpO1xyXG59XHJcbmZ1bmN0aW9uIHV0KGUpIHtcclxuICBsZXQgdCA9IDI7XHJcbiAgZm9yICg7IGUgPj49IDE7IClcclxuICAgIHQgPDw9IDE7XHJcbiAgcmV0dXJuIHQ7XHJcbn1cclxuZnVuY3Rpb24gZHQoZSwgdCkge1xyXG4gIGNvbnN0IG4gPSBNYXRoLmZsb29yKGUubGVuZ3RoIC8gdCksIGEgPSBuZXcgRmxvYXQzMkFycmF5KHQpO1xyXG4gIGZvciAobGV0IHMgPSAwOyBzIDwgdDsgcysrKSB7XHJcbiAgICBjb25zdCBjID0gbiAqIHM7XHJcbiAgICBsZXQgbyA9IDA7XHJcbiAgICBmb3IgKGxldCB1ID0gMDsgdSA8IG47IHUrKylcclxuICAgICAgbyA9IG8gKyBNYXRoLmFicyhlW2MgKyB1XSk7XHJcbiAgICBhW3NdID0gbyAvIG47XHJcbiAgfVxyXG4gIHJldHVybiBhO1xyXG59XHJcbmZ1bmN0aW9uIHEoZSwgdCkge1xyXG4gIGNvbnN0IG4gPSBUKCksIGEgPSBGKCksIHMgPSB0ID8gbi5nZXRQYXJ0aWNpcGFudEJ5SWRlbnRpdHkodCkgOiBhLCBjID0gci51c2VNZW1vKFxyXG4gICAgKCkgPT4gcyA/IEZlKHMsIHsgc291cmNlczogZSB9KSA6IHZvaWQgMCxcclxuICAgIFtzID09IG51bGwgPyB2b2lkIDAgOiBzLnNpZCwgcyA9PSBudWxsID8gdm9pZCAwIDogcy5pZGVudGl0eSwgSlNPTi5zdHJpbmdpZnkoZSldXHJcbiAgKTtcclxuICByZXR1cm4gYihjLCBbXSk7XHJcbn1cclxuZnVuY3Rpb24gbHQoZSkge1xyXG4gIHZhciBuLCBhLCBzO1xyXG4gIGNvbnN0IHQgPSByLnVzZU1lbW8oXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIHZhciBjO1xyXG4gICAgICByZXR1cm4gKGMgPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uKSAhPSBudWxsICYmIGMudHJhY2sgPyBWZShlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uLnRyYWNrKSA6IHZvaWQgMDtcclxuICAgIH0sXHJcbiAgICBbKG4gPSBlID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogbi50cmFja11cclxuICApO1xyXG4gIHJldHVybiBiKHQsIHtcclxuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgIHJ0cFRpbWVzdGFtcDogKHMgPSAoYSA9IGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUucHVibGljYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBhLnRyYWNrKSA9PSBudWxsID8gdm9pZCAwIDogcy5ydHBUaW1lc3RhbXBcclxuICB9KTtcclxufVxyXG5jb25zdCBmdCA9IHtcclxuICBidWZmZXJTaXplOiAxMDBcclxuICAvLyBtYXhBZ2U6IDJfMDAwLFxyXG59O1xyXG5mdW5jdGlvbiBwdChlLCB0KSB7XHJcbiAgY29uc3QgbiA9IHsgLi4uZnQsIC4uLnQgfSwgW2EsIHNdID0gci51c2VTdGF0ZShbXSksIGMgPSBsdChlKSwgbyA9ICh1KSA9PiB7XHJcbiAgICB2YXIgaTtcclxuICAgIChpID0gbi5vblRyYW5zY3JpcHRpb24pID09IG51bGwgfHwgaS5jYWxsKG4sIHUpLCBzKFxyXG4gICAgICAoZCkgPT4gQmUoXHJcbiAgICAgICAgZCxcclxuICAgICAgICAvLyB3aGVuIGZpcnN0IHJlY2VpdmluZyBhIHNlZ21lbnQsIGFkZCB0aGUgY3VycmVudCBtZWRpYSB0aW1lc3RhbXAgdG8gaXRcclxuICAgICAgICB1Lm1hcCgoZikgPT4gemUoZiwgYykpLFxyXG4gICAgICAgIG4uYnVmZmVyU2l6ZVxyXG4gICAgICApXHJcbiAgICApO1xyXG4gIH07XHJcbiAgcmV0dXJuIHIudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghKGUgIT0gbnVsbCAmJiBlLnB1YmxpY2F0aW9uKSlcclxuICAgICAgcmV0dXJuO1xyXG4gICAgY29uc3QgdSA9IF9lKGUucHVibGljYXRpb24pLnN1YnNjcmliZSgoaSkgPT4ge1xyXG4gICAgICBvKC4uLmkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICB1LnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtlICYmIE4oZSksIG9dKSwgeyBzZWdtZW50czogYSB9O1xyXG59XHJcbmZ1bmN0aW9uIGJ0KGUgPSB7fSkge1xyXG4gIGNvbnN0IHQgPSBGKCksIG4gPSBlLnBhcnRpY2lwYW50ID8/IHQsIGEgPSByLnVzZU1lbW8oXHJcbiAgICAvLyB3ZWlyZCB0eXBlc2NyaXB0IGNvbnN0cmFpbnRcclxuICAgICgpID0+IG4gPyBMKG4pIDogTChuKSxcclxuICAgIFtuXVxyXG4gICk7XHJcbiAgcmV0dXJuIGIoYSwge1xyXG4gICAgYXR0cmlidXRlczogbiA9PSBudWxsID8gdm9pZCAwIDogbi5hdHRyaWJ1dGVzXHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZW4oZSwgdCA9IHt9KSB7XHJcbiAgY29uc3QgbiA9IEEodC5wYXJ0aWNpcGFudCksIFthLCBzXSA9IHIudXNlU3RhdGUobi5hdHRyaWJ1dGVzW2VdKTtcclxuICByZXR1cm4gci51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFuKVxyXG4gICAgICByZXR1cm47XHJcbiAgICBjb25zdCBjID0gTChuKS5zdWJzY3JpYmUoKG8pID0+IHtcclxuICAgICAgby5jaGFuZ2VkW2VdICE9PSB2b2lkIDAgJiYgcyhvLmF0dHJpYnV0ZXNbZV0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBjLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9O1xyXG4gIH0sIFtuLCBlXSksIGE7XHJcbn1cclxuY29uc3QgSiA9IFwibGsuYWdlbnQuc3RhdGVcIjtcclxuZnVuY3Rpb24gdG4oKSB7XHJcbiAgY29uc3QgZSA9IEgoKSwgdCA9IGUuZmluZChcclxuICAgIChsKSA9PiBsLmtpbmQgPT09IEIuQUdFTlQgJiYgIShcImxrLnB1Ymxpc2hfb25fYmVoYWxmXCIgaW4gbC5hdHRyaWJ1dGVzKVxyXG4gICksIG4gPSBlLmZpbmQoXHJcbiAgICAobCkgPT4gbC5raW5kID09PSBCLkFHRU5UICYmIGwuYXR0cmlidXRlc1tcImxrLnB1Ymxpc2hfb25fYmVoYWxmXCJdID09PSAodCA9PSBudWxsID8gdm9pZCAwIDogdC5pZGVudGl0eSlcclxuICApLCBhID0gcShcclxuICAgIFt2LlNvdXJjZS5NaWNyb3Bob25lLCB2LlNvdXJjZS5DYW1lcmFdLFxyXG4gICAgdCA9PSBudWxsID8gdm9pZCAwIDogdC5pZGVudGl0eVxyXG4gICksIHMgPSBxKFxyXG4gICAgW3YuU291cmNlLk1pY3JvcGhvbmUsIHYuU291cmNlLkNhbWVyYV0sXHJcbiAgICBuID09IG51bGwgPyB2b2lkIDAgOiBuLmlkZW50aXR5XHJcbiAgKSwgYyA9IGEuZmluZCgobCkgPT4gbC5zb3VyY2UgPT09IHYuU291cmNlLk1pY3JvcGhvbmUpID8/IHMuZmluZCgobCkgPT4gbC5zb3VyY2UgPT09IHYuU291cmNlLk1pY3JvcGhvbmUpLCBvID0gYS5maW5kKChsKSA9PiBsLnNvdXJjZSA9PT0gdi5Tb3VyY2UuQ2FtZXJhKSA/PyBzLmZpbmQoKGwpID0+IGwuc291cmNlID09PSB2LlNvdXJjZS5DYW1lcmEpLCB7IHNlZ21lbnRzOiB1IH0gPSBwdChjKSwgaSA9IEkoKSwgeyBhdHRyaWJ1dGVzOiBkIH0gPSBidCh7IHBhcnRpY2lwYW50OiB0IH0pLCBmID0gci51c2VNZW1vKCgpID0+IGkgPT09IEMuRGlzY29ubmVjdGVkID8gXCJkaXNjb25uZWN0ZWRcIiA6IGkgPT09IEMuQ29ubmVjdGluZyB8fCAhdCB8fCAhKGQgIT0gbnVsbCAmJiBkW0pdKSA/IFwiY29ubmVjdGluZ1wiIDogZFtKXSwgW2QsIHQsIGldKTtcclxuICByZXR1cm4ge1xyXG4gICAgYWdlbnQ6IHQsXHJcbiAgICBzdGF0ZTogZixcclxuICAgIGF1ZGlvVHJhY2s6IGMsXHJcbiAgICB2aWRlb1RyYWNrOiBvLFxyXG4gICAgYWdlbnRUcmFuc2NyaXB0aW9uczogdSxcclxuICAgIGFnZW50QXR0cmlidXRlczogZFxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gbm4oZSkge1xyXG4gIGNvbnN0IHQgPSBrKGUpLCBuID0gSSh0KSwgYSA9IHIudXNlTWVtbygoKSA9PiBVZSh0KSwgW3QsIG5dKTtcclxuICByZXR1cm4gYihhLCB0LmlzUmVjb3JkaW5nKTtcclxufVxyXG5mdW5jdGlvbiBtdChlKSB7XHJcbiAgY29uc3QgdCA9IFQoKSwgYSA9IEkodCkgPT09IEMuRGlzY29ubmVjdGVkLCBzID0gci51c2VNZW1vKCgpID0+IHFlKHQsIGUpLCBbdCwgZV0pO1xyXG4gIHJldHVybiB7IHRleHRTdHJlYW1zOiBiKGEgPyB2b2lkIDAgOiBzLCBbXSkgfTtcclxufVxyXG5mdW5jdGlvbiBzbihlKSB7XHJcbiAgY29uc3QgeyBwYXJ0aWNpcGFudElkZW50aXRpZXM6IHQsIHRyYWNrU2lkczogbiB9ID0gZSA/PyB7fSwgeyB0ZXh0U3RyZWFtczogYSB9ID0gbXQoSmUuVFJBTlNDUklQVElPTik7XHJcbiAgcmV0dXJuIHIudXNlTWVtbyhcclxuICAgICgpID0+IGEuZmlsdGVyKFxyXG4gICAgICAoYykgPT4gdCA/IHQuaW5jbHVkZXMoYy5wYXJ0aWNpcGFudEluZm8uaWRlbnRpdHkpIDogITBcclxuICAgICkuZmlsdGVyKFxyXG4gICAgICAoYykgPT4ge1xyXG4gICAgICAgIHZhciBvO1xyXG4gICAgICAgIHJldHVybiBuID8gbi5pbmNsdWRlcygoKG8gPSBjLnN0cmVhbUluZm8uYXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IG9bXCJsay50cmFuc2NyaWJlZF90cmFja19pZFwiXSkgPz8gXCJcIikgOiAhMDtcclxuICAgICAgfVxyXG4gICAgKSxcclxuICAgIFthLCB0LCBuXVxyXG4gICk7XHJcbn1cclxuZXhwb3J0IHtcclxuICBBdCBhcyBBLFxyXG4gIEZ0IGFzIEIsXHJcbiAgZXQgYXMgQyxcclxuICBNdCBhcyBELFxyXG4gIGt0IGFzIEUsXHJcbiAgWmUgYXMgRixcclxuICB6IGFzIEcsXHJcbiAgS2UgYXMgSCxcclxuICBEdCBhcyBJLFxyXG4gIEx0IGFzIEosXHJcbiAgTnQgYXMgSyxcclxuICBWdCBhcyBMLFxyXG4gIEggYXMgTSxcclxuICBCdCBhcyBOLFxyXG4gIG50IGFzIE8sXHJcbiAgeHQgYXMgUCxcclxuICAkdCBhcyBRLFxyXG4gIFl0IGFzIFIsXHJcbiAgS3QgYXMgUyxcclxuICBxIGFzIFQsXHJcbiAgcHQgYXMgVSxcclxuICB0biBhcyBWLFxyXG4gIGJ0IGFzIFcsXHJcbiAgZW4gYXMgWCxcclxuICBubiBhcyBZLFxyXG4gIG10IGFzIFosXHJcbiAgc24gYXMgXyxcclxuICBJIGFzIGEsXHJcbiAgSnQgYXMgYixcclxuICBUdCBhcyBjLFxyXG4gIEV0IGFzIGQsXHJcbiAgQ3QgYXMgZSxcclxuICB6dCBhcyBmLFxyXG4gIFV0IGFzIGcsXHJcbiAgR3QgYXMgaCxcclxuICBQdCBhcyBpLFxyXG4gIGIgYXMgaixcclxuICBXdCBhcyBrLFxyXG4gIFJ0IGFzIGwsXHJcbiAgWHQgYXMgbSxcclxuICB3dCBhcyBuLFxyXG4gIE90IGFzIG8sXHJcbiAgcXQgYXMgcCxcclxuICBZZSBhcyBxLFxyXG4gIHR0IGFzIHIsXHJcbiAgWnQgYXMgcyxcclxuICBRdCBhcyB0LFxyXG4gIHl0IGFzIHUsXHJcbiAgX3QgYXMgdixcclxuICBIdCBhcyB3LFxyXG4gIGp0IGFzIHgsXHJcbiAgSXQgYXMgeSxcclxuICBodCBhcyB6XHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvb2tzLU9KdHdoNGpPLm1qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/dist/hooks-OJtwh4jO.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@livekit/components-react/dist/room-889cObLb.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@livekit/components-react/dist/room-889cObLb.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   L: () => (/* binding */ W),\n/* harmony export */   a: () => (/* binding */ G),\n/* harmony export */   c: () => (/* binding */ H),\n/* harmony export */   m: () => (/* binding */ M),\n/* harmony export */   r: () => (/* binding */ T),\n/* harmony export */   u: () => (/* binding */ $),\n/* harmony export */   w: () => (/* binding */ Q)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./contexts-Cm1aSBTs.mjs */ \"(ssr)/./node_modules/@livekit/components-react/dist/contexts-Cm1aSBTs.mjs\");\n/* harmony import */ var livekit_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! livekit-client */ \"(ssr)/./node_modules/livekit-client/dist/livekit-client.esm.mjs\");\n\r\n\r\n\r\nfunction L(n) {\r\n  var e, o, t = \"\";\r\n  if (typeof n == \"string\" || typeof n == \"number\") t += n;\r\n  else if (typeof n == \"object\") if (Array.isArray(n)) {\r\n    var r = n.length;\r\n    for (e = 0; e < r; e++) n[e] && (o = L(n[e])) && (t && (t += \" \"), t += o);\r\n  } else for (o in n) n[o] && (t && (t += \" \"), t += o);\r\n  return t;\r\n}\r\nfunction A() {\r\n  for (var n, e, o = 0, t = \"\", r = arguments.length; o < r; o++) (n = arguments[o]) && (e = L(n)) && (t && (t += \" \"), t += e);\r\n  return t;\r\n}\r\nfunction I(...n) {\r\n  return (...e) => {\r\n    for (const o of n)\r\n      if (typeof o == \"function\")\r\n        try {\r\n          o(...e);\r\n        } catch (t) {\r\n          console.error(t);\r\n        }\r\n  };\r\n}\r\nfunction M(...n) {\r\n  const e = { ...n[0] };\r\n  for (let o = 1; o < n.length; o++) {\r\n    const t = n[o];\r\n    for (const r in t) {\r\n      const d = e[r], a = t[r];\r\n      typeof d == \"function\" && typeof a == \"function\" && // This is a lot faster than a regex.\r\n      r[0] === \"o\" && r[1] === \"n\" && r.charCodeAt(2) >= /* 'A' */\r\n      65 && r.charCodeAt(2) <= /* 'Z' */\r\n      90 ? e[r] = I(d, a) : (r === \"className\" || r === \"UNSAFE_className\") && typeof d == \"string\" && typeof a == \"string\" ? e[r] = A(d, a) : e[r] = a !== void 0 ? a : d;\r\n    }\r\n  }\r\n  return e;\r\n}\r\nfunction J(n) {\r\n  return n !== void 0;\r\n}\r\nfunction G(...n) {\r\n  return M(...n.filter(J));\r\n}\r\nfunction H(n, e, o) {\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.Children.map(n, (t) => react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(t) && react__WEBPACK_IMPORTED_MODULE_0__.Children.only(n) ? (t.props.className && (e ?? (e = {}), e.className = A(t.props.className, e.className), e.style = { ...t.props.style, ...e.style }), react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(t, { ...e, key: o })) : t);\r\n}\r\nfunction Q(n) {\r\n  var e, o;\r\n  if (typeof window < \"u\" && typeof process < \"u\" && // eslint-disable-next-line turbo/no-undeclared-env-vars\r\n  (((e = process == null ? void 0 : process.env) == null ? void 0 : e.NODE_ENV) === \"dev\" || // eslint-disable-next-line turbo/no-undeclared-env-vars\r\n  ((o = process == null ? void 0 : process.env) == null ? void 0 : o.NODE_ENV) === \"development\")) {\r\n    const t = document.querySelector(\".lk-room-container\");\r\n    t && !getComputedStyle(t).getPropertyValue(\"--lk-has-imported-styles\") && _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(\r\n      \"It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.\"\r\n    );\r\n  }\r\n}\r\nfunction T(n, e) {\r\n  return n === \"processor\" && e && typeof e == \"object\" && \"name\" in e ? e.name : n === \"e2ee\" && e ? \"e2ee-enabled\" : e;\r\n}\r\nconst q = {\r\n  connect: !0,\r\n  audio: !1,\r\n  video: !1\r\n};\r\nfunction $(n) {\r\n  const {\r\n    token: e,\r\n    serverUrl: o,\r\n    options: t,\r\n    room: r,\r\n    connectOptions: d,\r\n    connect: a,\r\n    audio: p,\r\n    video: y,\r\n    screen: g,\r\n    onConnected: v,\r\n    onDisconnected: h,\r\n    onError: c,\r\n    onMediaDeviceFailure: b,\r\n    onEncryptionError: E,\r\n    simulateParticipants: w,\r\n    ...N\r\n  } = { ...q, ...n };\r\n  t && r && _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(\r\n    \"when using a manually created room, the options object will be ignored. set the desired options directly when creating the room instead.\"\r\n  );\r\n  const [s, O] = react__WEBPACK_IMPORTED_MODULE_0__.useState(), C = react__WEBPACK_IMPORTED_MODULE_0__.useRef(a);\r\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    O(r ?? new livekit_client__WEBPACK_IMPORTED_MODULE_1__.Room(t));\r\n  }, [r, JSON.stringify(t, T)]);\r\n  const F = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\r\n    const { className: m } = (0,_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.s)();\r\n    return M(N, { className: m });\r\n  }, [N]);\r\n  return react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (!s) return;\r\n    const m = () => {\r\n      const f = s.localParticipant;\r\n      _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"trying to publish local tracks\"), Promise.all([\r\n        f.setMicrophoneEnabled(!!p, typeof p != \"boolean\" ? p : void 0),\r\n        f.setCameraEnabled(!!y, typeof y != \"boolean\" ? y : void 0),\r\n        f.setScreenShareEnabled(!!g, typeof g != \"boolean\" ? g : void 0)\r\n      ]).catch((R) => {\r\n        _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(R), c == null || c(R);\r\n      });\r\n    }, P = (f, R) => {\r\n      const K = livekit_client__WEBPACK_IMPORTED_MODULE_1__.MediaDeviceFailure.getFailure(f);\r\n      b == null || b(K, R);\r\n    }, S = (f) => {\r\n      E == null || E(f);\r\n    }, k = (f) => {\r\n      h == null || h(f);\r\n    }, D = () => {\r\n      v == null || v();\r\n    };\r\n    return s.on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.SignalConnected, m).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, P).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.EncryptionError, S).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Disconnected, k).on(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Connected, D), () => {\r\n      s.off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.SignalConnected, m).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.MediaDevicesError, P).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.EncryptionError, S).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Disconnected, k).off(livekit_client__WEBPACK_IMPORTED_MODULE_1__.RoomEvent.Connected, D);\r\n    };\r\n  }, [\r\n    s,\r\n    p,\r\n    y,\r\n    g,\r\n    c,\r\n    E,\r\n    b,\r\n    v,\r\n    h\r\n  ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (s) {\r\n      if (w) {\r\n        s.simulateParticipants({\r\n          participants: {\r\n            count: w\r\n          },\r\n          publish: {\r\n            audio: !0,\r\n            useRealTracks: !0\r\n          }\r\n        });\r\n        return;\r\n      }\r\n      if (a) {\r\n        if (C.current = !0, _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"connecting\"), !e) {\r\n          _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"no token yet\");\r\n          return;\r\n        }\r\n        if (!o) {\r\n          _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(\"no livekit url provided\"), c == null || c(Error(\"no livekit url provided\"));\r\n          return;\r\n        }\r\n        s.connect(o, e, d).catch((m) => {\r\n          _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.warn(m), C.current === !0 && (c == null || c(m));\r\n        });\r\n      } else\r\n        _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.debug(\"disconnecting because connect is false\"), C.current = !1, s.disconnect();\r\n    }\r\n  }, [\r\n    a,\r\n    e,\r\n    JSON.stringify(d),\r\n    s,\r\n    c,\r\n    o,\r\n    w\r\n  ]), react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\r\n    if (s)\r\n      return () => {\r\n        _contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.l.info(\"disconnecting on onmount\"), s.disconnect();\r\n      };\r\n  }, [s]), { room: s, htmlProps: F };\r\n}\r\nconst W = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function(e, o) {\r\n  const { room: t, htmlProps: r } = $(e);\r\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: o, ...r }, t && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.R.Provider, { value: t }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_Cm1aSBTs_mjs__WEBPACK_IMPORTED_MODULE_2__.L.Provider, { value: e.featureFlags }, e.children)));\r\n});\r\n\r\n//# sourceMappingURL=room-889cObLb.mjs.map\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGxpdmVraXQvY29tcG9uZW50cy1yZWFjdC9kaXN0L3Jvb20tODg5Y09iTGIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBMkI7QUFDOEM7QUFDVztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkIsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxPQUFPO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZCxrQkFBa0IsY0FBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDJDQUFVLGVBQWUsaURBQWdCLE9BQU8sMkNBQVUsOENBQThDLGdFQUFnRSw4QkFBOEIsR0FBRywrQ0FBYyxNQUFNLGNBQWM7QUFDcFA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUscURBQUM7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxJQUFJO0FBQ1IsWUFBWSxxREFBQztBQUNiO0FBQ0E7QUFDQSxpQkFBaUIsMkNBQVUsUUFBUSx5Q0FBUTtBQUMzQyxFQUFFLDRDQUFXO0FBQ2IsZUFBZSxnREFBQztBQUNoQixHQUFHO0FBQ0gsWUFBWSwwQ0FBUztBQUNyQixZQUFZLGVBQWUsRUFBRSx5REFBQztBQUM5QixrQkFBa0IsY0FBYztBQUNoQyxHQUFHO0FBQ0gsU0FBUyw0Q0FBVztBQUNwQjtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFEQUFDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFEQUFDO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxnQkFBZ0IsOERBQUM7QUFDakI7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdCQUFnQixxREFBQyx3QkFBd0IscURBQUMsMEJBQTBCLHFEQUFDLHdCQUF3QixxREFBQyxxQkFBcUIscURBQUM7QUFDcEgsWUFBWSxxREFBQyx5QkFBeUIscURBQUMsMkJBQTJCLHFEQUFDLHlCQUF5QixxREFBQyxzQkFBc0IscURBQUM7QUFDcEg7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw0Q0FBVztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxREFBQztBQUM3QixVQUFVLHFEQUFDO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxREFBQztBQUNYO0FBQ0E7QUFDQTtBQUNBLFVBQVUscURBQUM7QUFDWCxTQUFTO0FBQ1QsUUFBUTtBQUNSLFFBQVEscURBQUM7QUFDVDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNENBQVc7QUFDakI7QUFDQTtBQUNBLFFBQVEscURBQUM7QUFDVDtBQUNBLEdBQUcsVUFBVTtBQUNiO0FBQ0EsMEJBQTBCLDZDQUFZO0FBQ3RDLFVBQVUsd0JBQXdCO0FBQ2xDLHlCQUF5QixnREFBZSxVQUFVLGNBQWMsdUJBQXVCLGdEQUFlLENBQUMscURBQUMsYUFBYSxVQUFVLGtCQUFrQixnREFBZSxDQUFDLHFEQUFDLGFBQWEsdUJBQXVCO0FBQ3RNLENBQUM7QUFTQztBQUNGIiwic291cmNlcyI6WyJEOlxcUHl0aG9uXFx0cmF2ZWwtZGV0YWlsLWRlbW9cXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXEBsaXZla2l0XFxjb21wb25lbnRzLXJlYWN0XFxkaXN0XFxyb29tLTg4OWNPYkxiLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBpIGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBsIGFzIHUsIHMgYXMgeCwgUiBhcyBWLCBMIGFzIGogfSBmcm9tIFwiLi9jb250ZXh0cy1DbTFhU0JUcy5tanNcIjtcclxuaW1wb3J0IHsgUm9vbSBhcyBVLCBSb29tRXZlbnQgYXMgbCwgTWVkaWFEZXZpY2VGYWlsdXJlIGFzIF8gfSBmcm9tIFwibGl2ZWtpdC1jbGllbnRcIjtcclxuZnVuY3Rpb24gTChuKSB7XHJcbiAgdmFyIGUsIG8sIHQgPSBcIlwiO1xyXG4gIGlmICh0eXBlb2YgbiA9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBuID09IFwibnVtYmVyXCIpIHQgKz0gbjtcclxuICBlbHNlIGlmICh0eXBlb2YgbiA9PSBcIm9iamVjdFwiKSBpZiAoQXJyYXkuaXNBcnJheShuKSkge1xyXG4gICAgdmFyIHIgPSBuLmxlbmd0aDtcclxuICAgIGZvciAoZSA9IDA7IGUgPCByOyBlKyspIG5bZV0gJiYgKG8gPSBMKG5bZV0pKSAmJiAodCAmJiAodCArPSBcIiBcIiksIHQgKz0gbyk7XHJcbiAgfSBlbHNlIGZvciAobyBpbiBuKSBuW29dICYmICh0ICYmICh0ICs9IFwiIFwiKSwgdCArPSBvKTtcclxuICByZXR1cm4gdDtcclxufVxyXG5mdW5jdGlvbiBBKCkge1xyXG4gIGZvciAodmFyIG4sIGUsIG8gPSAwLCB0ID0gXCJcIiwgciA9IGFyZ3VtZW50cy5sZW5ndGg7IG8gPCByOyBvKyspIChuID0gYXJndW1lbnRzW29dKSAmJiAoZSA9IEwobikpICYmICh0ICYmICh0ICs9IFwiIFwiKSwgdCArPSBlKTtcclxuICByZXR1cm4gdDtcclxufVxyXG5mdW5jdGlvbiBJKC4uLm4pIHtcclxuICByZXR1cm4gKC4uLmUpID0+IHtcclxuICAgIGZvciAoY29uc3QgbyBvZiBuKVxyXG4gICAgICBpZiAodHlwZW9mIG8gPT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBvKC4uLmUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IodCk7XHJcbiAgICAgICAgfVxyXG4gIH07XHJcbn1cclxuZnVuY3Rpb24gTSguLi5uKSB7XHJcbiAgY29uc3QgZSA9IHsgLi4ublswXSB9O1xyXG4gIGZvciAobGV0IG8gPSAxOyBvIDwgbi5sZW5ndGg7IG8rKykge1xyXG4gICAgY29uc3QgdCA9IG5bb107XHJcbiAgICBmb3IgKGNvbnN0IHIgaW4gdCkge1xyXG4gICAgICBjb25zdCBkID0gZVtyXSwgYSA9IHRbcl07XHJcbiAgICAgIHR5cGVvZiBkID09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgYSA9PSBcImZ1bmN0aW9uXCIgJiYgLy8gVGhpcyBpcyBhIGxvdCBmYXN0ZXIgdGhhbiBhIHJlZ2V4LlxyXG4gICAgICByWzBdID09PSBcIm9cIiAmJiByWzFdID09PSBcIm5cIiAmJiByLmNoYXJDb2RlQXQoMikgPj0gLyogJ0EnICovXHJcbiAgICAgIDY1ICYmIHIuY2hhckNvZGVBdCgyKSA8PSAvKiAnWicgKi9cclxuICAgICAgOTAgPyBlW3JdID0gSShkLCBhKSA6IChyID09PSBcImNsYXNzTmFtZVwiIHx8IHIgPT09IFwiVU5TQUZFX2NsYXNzTmFtZVwiKSAmJiB0eXBlb2YgZCA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBhID09IFwic3RyaW5nXCIgPyBlW3JdID0gQShkLCBhKSA6IGVbcl0gPSBhICE9PSB2b2lkIDAgPyBhIDogZDtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGU7XHJcbn1cclxuZnVuY3Rpb24gSihuKSB7XHJcbiAgcmV0dXJuIG4gIT09IHZvaWQgMDtcclxufVxyXG5mdW5jdGlvbiBHKC4uLm4pIHtcclxuICByZXR1cm4gTSguLi5uLmZpbHRlcihKKSk7XHJcbn1cclxuZnVuY3Rpb24gSChuLCBlLCBvKSB7XHJcbiAgcmV0dXJuIGkuQ2hpbGRyZW4ubWFwKG4sICh0KSA9PiBpLmlzVmFsaWRFbGVtZW50KHQpICYmIGkuQ2hpbGRyZW4ub25seShuKSA/ICh0LnByb3BzLmNsYXNzTmFtZSAmJiAoZSA/PyAoZSA9IHt9KSwgZS5jbGFzc05hbWUgPSBBKHQucHJvcHMuY2xhc3NOYW1lLCBlLmNsYXNzTmFtZSksIGUuc3R5bGUgPSB7IC4uLnQucHJvcHMuc3R5bGUsIC4uLmUuc3R5bGUgfSksIGkuY2xvbmVFbGVtZW50KHQsIHsgLi4uZSwga2V5OiBvIH0pKSA6IHQpO1xyXG59XHJcbmZ1bmN0aW9uIFEobikge1xyXG4gIHZhciBlLCBvO1xyXG4gIGlmICh0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgdHlwZW9mIHByb2Nlc3MgPCBcInVcIiAmJiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdHVyYm8vbm8tdW5kZWNsYXJlZC1lbnYtdmFyc1xyXG4gICgoKGUgPSBwcm9jZXNzID09IG51bGwgPyB2b2lkIDAgOiBwcm9jZXNzLmVudikgPT0gbnVsbCA/IHZvaWQgMCA6IGUuTk9ERV9FTlYpID09PSBcImRldlwiIHx8IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB0dXJiby9uby11bmRlY2xhcmVkLWVudi12YXJzXHJcbiAgKChvID0gcHJvY2VzcyA9PSBudWxsID8gdm9pZCAwIDogcHJvY2Vzcy5lbnYpID09IG51bGwgPyB2b2lkIDAgOiBvLk5PREVfRU5WKSA9PT0gXCJkZXZlbG9wbWVudFwiKSkge1xyXG4gICAgY29uc3QgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGstcm9vbS1jb250YWluZXJcIik7XHJcbiAgICB0ICYmICFnZXRDb21wdXRlZFN0eWxlKHQpLmdldFByb3BlcnR5VmFsdWUoXCItLWxrLWhhcy1pbXBvcnRlZC1zdHlsZXNcIikgJiYgdS53YXJuKFxyXG4gICAgICBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIG5vdCB1c2luZyB0aGUgYEBsaXZla2l0L2NvbXBvbmVudHMtc3R5bGVzIHBhY2thZ2VgLiBUbyByZW5kZXIgdGhlIFVJIHdpdGggdGhlIGRlZmF1bHQgc3R5bGluZywgcGxlYXNlIGltcG9ydCBpdCBpbiB5b3VyIGxheW91dCBvciBwYWdlLlwiXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBUKG4sIGUpIHtcclxuICByZXR1cm4gbiA9PT0gXCJwcm9jZXNzb3JcIiAmJiBlICYmIHR5cGVvZiBlID09IFwib2JqZWN0XCIgJiYgXCJuYW1lXCIgaW4gZSA/IGUubmFtZSA6IG4gPT09IFwiZTJlZVwiICYmIGUgPyBcImUyZWUtZW5hYmxlZFwiIDogZTtcclxufVxyXG5jb25zdCBxID0ge1xyXG4gIGNvbm5lY3Q6ICEwLFxyXG4gIGF1ZGlvOiAhMSxcclxuICB2aWRlbzogITFcclxufTtcclxuZnVuY3Rpb24gJChuKSB7XHJcbiAgY29uc3Qge1xyXG4gICAgdG9rZW46IGUsXHJcbiAgICBzZXJ2ZXJVcmw6IG8sXHJcbiAgICBvcHRpb25zOiB0LFxyXG4gICAgcm9vbTogcixcclxuICAgIGNvbm5lY3RPcHRpb25zOiBkLFxyXG4gICAgY29ubmVjdDogYSxcclxuICAgIGF1ZGlvOiBwLFxyXG4gICAgdmlkZW86IHksXHJcbiAgICBzY3JlZW46IGcsXHJcbiAgICBvbkNvbm5lY3RlZDogdixcclxuICAgIG9uRGlzY29ubmVjdGVkOiBoLFxyXG4gICAgb25FcnJvcjogYyxcclxuICAgIG9uTWVkaWFEZXZpY2VGYWlsdXJlOiBiLFxyXG4gICAgb25FbmNyeXB0aW9uRXJyb3I6IEUsXHJcbiAgICBzaW11bGF0ZVBhcnRpY2lwYW50czogdyxcclxuICAgIC4uLk5cclxuICB9ID0geyAuLi5xLCAuLi5uIH07XHJcbiAgdCAmJiByICYmIHUud2FybihcclxuICAgIFwid2hlbiB1c2luZyBhIG1hbnVhbGx5IGNyZWF0ZWQgcm9vbSwgdGhlIG9wdGlvbnMgb2JqZWN0IHdpbGwgYmUgaWdub3JlZC4gc2V0IHRoZSBkZXNpcmVkIG9wdGlvbnMgZGlyZWN0bHkgd2hlbiBjcmVhdGluZyB0aGUgcm9vbSBpbnN0ZWFkLlwiXHJcbiAgKTtcclxuICBjb25zdCBbcywgT10gPSBpLnVzZVN0YXRlKCksIEMgPSBpLnVzZVJlZihhKTtcclxuICBpLnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBPKHIgPz8gbmV3IFUodCkpO1xyXG4gIH0sIFtyLCBKU09OLnN0cmluZ2lmeSh0LCBUKV0pO1xyXG4gIGNvbnN0IEYgPSBpLnVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgeyBjbGFzc05hbWU6IG0gfSA9IHgoKTtcclxuICAgIHJldHVybiBNKE4sIHsgY2xhc3NOYW1lOiBtIH0pO1xyXG4gIH0sIFtOXSk7XHJcbiAgcmV0dXJuIGkudXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghcykgcmV0dXJuO1xyXG4gICAgY29uc3QgbSA9ICgpID0+IHtcclxuICAgICAgY29uc3QgZiA9IHMubG9jYWxQYXJ0aWNpcGFudDtcclxuICAgICAgdS5kZWJ1ZyhcInRyeWluZyB0byBwdWJsaXNoIGxvY2FsIHRyYWNrc1wiKSwgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgIGYuc2V0TWljcm9waG9uZUVuYWJsZWQoISFwLCB0eXBlb2YgcCAhPSBcImJvb2xlYW5cIiA/IHAgOiB2b2lkIDApLFxyXG4gICAgICAgIGYuc2V0Q2FtZXJhRW5hYmxlZCghIXksIHR5cGVvZiB5ICE9IFwiYm9vbGVhblwiID8geSA6IHZvaWQgMCksXHJcbiAgICAgICAgZi5zZXRTY3JlZW5TaGFyZUVuYWJsZWQoISFnLCB0eXBlb2YgZyAhPSBcImJvb2xlYW5cIiA/IGcgOiB2b2lkIDApXHJcbiAgICAgIF0pLmNhdGNoKChSKSA9PiB7XHJcbiAgICAgICAgdS53YXJuKFIpLCBjID09IG51bGwgfHwgYyhSKTtcclxuICAgICAgfSk7XHJcbiAgICB9LCBQID0gKGYsIFIpID0+IHtcclxuICAgICAgY29uc3QgSyA9IF8uZ2V0RmFpbHVyZShmKTtcclxuICAgICAgYiA9PSBudWxsIHx8IGIoSywgUik7XHJcbiAgICB9LCBTID0gKGYpID0+IHtcclxuICAgICAgRSA9PSBudWxsIHx8IEUoZik7XHJcbiAgICB9LCBrID0gKGYpID0+IHtcclxuICAgICAgaCA9PSBudWxsIHx8IGgoZik7XHJcbiAgICB9LCBEID0gKCkgPT4ge1xyXG4gICAgICB2ID09IG51bGwgfHwgdigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBzLm9uKGwuU2lnbmFsQ29ubmVjdGVkLCBtKS5vbihsLk1lZGlhRGV2aWNlc0Vycm9yLCBQKS5vbihsLkVuY3J5cHRpb25FcnJvciwgUykub24obC5EaXNjb25uZWN0ZWQsIGspLm9uKGwuQ29ubmVjdGVkLCBEKSwgKCkgPT4ge1xyXG4gICAgICBzLm9mZihsLlNpZ25hbENvbm5lY3RlZCwgbSkub2ZmKGwuTWVkaWFEZXZpY2VzRXJyb3IsIFApLm9mZihsLkVuY3J5cHRpb25FcnJvciwgUykub2ZmKGwuRGlzY29ubmVjdGVkLCBrKS5vZmYobC5Db25uZWN0ZWQsIEQpO1xyXG4gICAgfTtcclxuICB9LCBbXHJcbiAgICBzLFxyXG4gICAgcCxcclxuICAgIHksXHJcbiAgICBnLFxyXG4gICAgYyxcclxuICAgIEUsXHJcbiAgICBiLFxyXG4gICAgdixcclxuICAgIGhcclxuICBdKSwgaS51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHMpIHtcclxuICAgICAgaWYgKHcpIHtcclxuICAgICAgICBzLnNpbXVsYXRlUGFydGljaXBhbnRzKHtcclxuICAgICAgICAgIHBhcnRpY2lwYW50czoge1xyXG4gICAgICAgICAgICBjb3VudDogd1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHB1Ymxpc2g6IHtcclxuICAgICAgICAgICAgYXVkaW86ICEwLFxyXG4gICAgICAgICAgICB1c2VSZWFsVHJhY2tzOiAhMFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYSkge1xyXG4gICAgICAgIGlmIChDLmN1cnJlbnQgPSAhMCwgdS5kZWJ1ZyhcImNvbm5lY3RpbmdcIiksICFlKSB7XHJcbiAgICAgICAgICB1LmRlYnVnKFwibm8gdG9rZW4geWV0XCIpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW8pIHtcclxuICAgICAgICAgIHUud2FybihcIm5vIGxpdmVraXQgdXJsIHByb3ZpZGVkXCIpLCBjID09IG51bGwgfHwgYyhFcnJvcihcIm5vIGxpdmVraXQgdXJsIHByb3ZpZGVkXCIpKTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcy5jb25uZWN0KG8sIGUsIGQpLmNhdGNoKChtKSA9PiB7XHJcbiAgICAgICAgICB1Lndhcm4obSksIEMuY3VycmVudCA9PT0gITAgJiYgKGMgPT0gbnVsbCB8fCBjKG0pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlXHJcbiAgICAgICAgdS5kZWJ1ZyhcImRpc2Nvbm5lY3RpbmcgYmVjYXVzZSBjb25uZWN0IGlzIGZhbHNlXCIpLCBDLmN1cnJlbnQgPSAhMSwgcy5kaXNjb25uZWN0KCk7XHJcbiAgICB9XHJcbiAgfSwgW1xyXG4gICAgYSxcclxuICAgIGUsXHJcbiAgICBKU09OLnN0cmluZ2lmeShkKSxcclxuICAgIHMsXHJcbiAgICBjLFxyXG4gICAgbyxcclxuICAgIHdcclxuICBdKSwgaS51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKHMpXHJcbiAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgdS5pbmZvKFwiZGlzY29ubmVjdGluZyBvbiBvbm1vdW50XCIpLCBzLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgfTtcclxuICB9LCBbc10pLCB7IHJvb206IHMsIGh0bWxQcm9wczogRiB9O1xyXG59XHJcbmNvbnN0IFcgPSAvKiBAX19QVVJFX18gKi8gaS5mb3J3YXJkUmVmKGZ1bmN0aW9uKGUsIG8pIHtcclxuICBjb25zdCB7IHJvb206IHQsIGh0bWxQcm9wczogciB9ID0gJChlKTtcclxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGkuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogbywgLi4uciB9LCB0ICYmIC8qIEBfX1BVUkVfXyAqLyBpLmNyZWF0ZUVsZW1lbnQoVi5Qcm92aWRlciwgeyB2YWx1ZTogdCB9LCAvKiBAX19QVVJFX18gKi8gaS5jcmVhdGVFbGVtZW50KGouUHJvdmlkZXIsIHsgdmFsdWU6IGUuZmVhdHVyZUZsYWdzIH0sIGUuY2hpbGRyZW4pKSk7XHJcbn0pO1xyXG5leHBvcnQge1xyXG4gIFcgYXMgTCxcclxuICBHIGFzIGEsXHJcbiAgSCBhcyBjLFxyXG4gIE0gYXMgbSxcclxuICBUIGFzIHIsXHJcbiAgJCBhcyB1LFxyXG4gIFEgYXMgd1xyXG59O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb29tLTg4OWNPYkxiLm1qcy5tYXBcclxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@livekit/components-react/dist/room-889cObLb.mjs\n");

/***/ })

};
;